{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///react-stockcharts.min.js","webpack:///webpack/bootstrap 09ea61e58d8519f06e9b","webpack:///./src/index.js","webpack:///./src/lib/chart-canvas.jsx","webpack:///./src/lib/data-transform.jsx","webpack:///./src/lib/xaxis.jsx","webpack:///./src/lib/yaxis.jsx","webpack:///./src/lib/chart.jsx","webpack:///./src/lib/dataseries.jsx","webpack:///./src/lib/area-series.jsx","webpack:///./src/lib/line-series.jsx","webpack:///./src/lib/candlestick-series.jsx","webpack:///./src/lib/overlay-series.jsx","webpack:///./src/lib/histogram-series.jsx","webpack:///./src/lib/event-capture.jsx","webpack:///./src/lib/mouse-coordinates.jsx","webpack:///./src/lib/crosshair.jsx","webpack:///./src/lib/vertical-mouse-pointer.jsx","webpack:///./src/lib/current-coordinate.jsx","webpack:///./src/lib/tooltip-container.jsx","webpack:///./src/lib/ohlc-tooltip.jsx","webpack:///./src/lib/moving-average-tooltip.jsx","webpack:///./src/lib/edge-container.jsx","webpack:///./src/lib/edge-indicator.jsx","webpack:///external \"React\"","webpack:///external \"d3\"","webpack:///./src/lib/mixin/event-capture-mixin.js","webpack:///./src/lib/mixin/chart-container-mixin.js","webpack:///./src/lib/mixin/data-transform-mixin.js","webpack:///./src/lib/scale/polylineartimescale.js","webpack:///./src/lib/mixin/restock-pure-render-mixin.js","webpack:///./src/lib/utils/scale-utils.js","webpack:///./src/lib/utils/overlay-utils.js","webpack:///./src/lib/utils/utils.js","webpack:///./src/lib/edge-coordinate.jsx","webpack:///./src/lib/utils/chart-transformer.js","webpack:///./src/lib/utils/moving-average-calculator.js","webpack:///./~/freezer-js/freezer.js","webpack:///./~/react/lib/shallowEqual.js","webpack:///./src/lib/utils/stockscale-transformer.js","webpack:///./~/freezer-js/src/freezer.js","webpack:///./~/freezer-js/src/utils.js","webpack:///./~/freezer-js/src/emitter.js","webpack:///./~/freezer-js/src/mixins.js","webpack:///./~/freezer-js/src/frozen.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_23__","__WEBPACK_EXTERNAL_MODULE_24__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","ChartCanvas","DataTransform","XAxis","YAxis","Chart","DataSeries","AreaSeries","LineSeries","CandlestickSeries","OverlaySeries","HistogramSeries","EventCapture","MouseCoordinates","CrossHair","VerticalMousePointer","CurrentCoordinate","TooltipContainer","OHLCTooltip","MovingAverageTooltip","EdgeContainer","EdgeIndicator","React","EventCaptureMixin","ChartContainerMixin","createClass","displayName","mixins","propTypes","width","PropTypes","number","isRequired","height","margin","object","interval","string","getAvailableHeight","props","top","bottom","getAvailableWidth","left","right","getInitialState","getDefaultProps","renderChildren","children","Children","map","child","type","newChild","namespace","addons","cloneWithProps","data","_width","_height","bind","_renderChildren","render","transform","clipPath","createElement","dangerouslySetInnerHTML","__html","DataTransformMixin","doNotPassThrough","array","transformType","options","Object","keys","filter","eachProp","indexOf","forEach","key","state","passThroughProps","d3","PureRenderMixin","axisAt","oneOfType","oneOf","orient","innerTickSize","outerTickSize","tickFormat","func","tickPadding","tickSize","ticks","tickValues","showGrid","componentWillMount","xAxis","svg","axis","componentDidMount","updateAxis","componentDidUpdate","scale","_xScale","isPolyLinear","console","warn","select","getDOMNode","range","_yScale","Math","min","max","className","percentScale","bool","axisPadding","copy","domain","Utils","overlayColors","pluck","keysAsArray","statics","getWidth","getHeight","origin","xScale","yScale","xDomainUpdate","yDomainUpdate","_chartData","_updateMode","transformDataAs","scales","_xAccessor","_indexAccessor","updatePropsForDataSeries","undefined","xAccessor","_stockScale","_overlays","overlays","_pan","_isMainChart","getOverlayFromList","each","eachMap","yAccessor","newChildren","test","_yAccessor","overlay","_overlay","style","getPath","dataSeries","line","defined","d","x","y","getArea","areaSeries","area","y0","y1","stroke","concat","fill","open","high","low","close","getWicks","wicks","idx","ohlc","x1","round","x2","y2","getCandles","length","cw","candleWidth","floor","candles","abs","componentWillUnMount","log","set","componentWillReceiveProps","nextProps","baseAt","direction","getBars","base","dir","getClassName","barWidth","bars","yValue","mainChart","mouseMove","zoom","zoomMultiplier","pan","panSpeedMultiplier","defaultFocus","_eventStore","_zoomEventStore","dragOrigin","setState","inFocus","toggleFocus","setFocus","focus","handleEnter","get","mouseOver","value","handleLeave","dragging","handleWheel","e","stopPropagation","preventDefault","zoomDir","deltaY","handleMouseMove","eventData","newPos","mousePosition","startPos","dx","dragOriginDomain","mouseXY","handleMouseDown","handleMouseUp","opacity","onMouseEnter","onMouseLeave","onMouseMove","onMouseDown","onMouseUp","onWheel","_show","_mouseXY","_currentItem","forChart","xDisplayFormat","yDisplayFormat","shouldComponentUpdate","snapX","displayDateFormat","displayNumberFormat","chartData","item","xValue","accessors","xDisplayValue","_dateAccessor","invert","_xDisplayValue","_yDisplayValue","EdgeCoordinate","yAxisPad","show","coordinate","edgeAt","forOverlay","r","Error","cx","cy","_currentItems","_charts","chart","currentItem","billion","million","thousand","accessor","date","volume","displayDate","fromDate","toDate","toFixed","dy","SingleMAToolTip","color","onClick","handleClick","translate","displayFormat","eachOverlay","yDisplayValue","tooltipLabel","_chart","itemType","renderEdge","edge","overlayValues","overlayValue","eachOverlayValue","first","last","edgeX","firstItem","lastItem","getLongValue","Date","getTime","Freezer","doesContainChart","Array","isArray","eventStore","zoomEventStore","chartStore","charts","updateMode","immediate","isDataDransform","transformData","fullData","currentItemStore","currentItems","viewPortXRange","viewPortXDelta","chartProps","dimensions","getDimensions","threshold","slice","getChartDataFor","push","stores","getEventStore","updateEventStore","unListen","newState","listen","componentWillUnmount","off","eventListener","dataListener","zoomEventListener","updateCurrentItemForChart","requestAnimationFrame","getChartForId","domainRange","domainStart","ceil","domainL","domainR","calculateViewableData","updateChartDataFor","forceUpdate","reset","xRange","getFullData","leftX","getClosestItemIndexes","rightX","currentInterval","filteredData","_multiInterval","l","zoomData","getCurrentItemForChart","centerX","pow","on","updatePropsForEventCapture","updatePropsForCurrentCoordinate","updatePropsForMouseCoordinates","updatePropsForTooltipContainer","updatePropsForEdgeContainer","updatePropsForChart","getData","chartId","filteredCharts","eachChart","errorMessage","createChartData","filteredCurrentItems","getClosestItem","ScaleUtils","OverlayUtils","_props","availableWidth","availableHeight","defineScales","getXYAccessors","overlaysToAdd","identifyOverlaysToAdd","calculateOverlays","overlayYAccessors","xyValues","flattenData","updateOverlayFirstLast","updateScales","cloneMe","drawableWidth","prototype","toString","time","linear","xAccesor","grandChild","getYAccessorKey","getToolTipLabel","calculateOverlay","firstDefined","lastDefined","extent","xValues","yValues","ChartTransformer","transformer","getTransformerFor","guided_scale","drawableData","indexAccessor","backingLinearScale","formater","i","format","tickDisplay","d3_time_scaleSteps","step","f","arr","startOfMonth","list","sm","reduce","prev","curr","startOfWeek","startOfQuarter","startOfYear","getFullYear","timeScaleStepsBisector","bisector","__BISECT","arguments","rangeRound","clamp","interpolate","start","end","count","span","target","tickIndex","nice","polylineartimescale","shallowEqual","ReStockPureRenderMixin","nextState","extraCheck","extraShouldComponentUpdate","actualCheck","pushToValues","values","eachValue","isNaN","xAccessors","yAccessors","row","MACalculator","tooltip","toUpperCase","period","calculateSMA","calculateEMA","category10","obj","temp","hasOwnProperty","numberWithCommas","replace","isNumeric","n","parseFloat","isFinite","container","currentTarget","rect","getBoundingClientRect","clientX","clientLeft","clientY","clientTop","xy","getValue","lo","hi","mid","closest","sum","d1","d2","any","rectWidth","edgeXRect","edgeYRect","edgeXText","edgeYText","displayCoordinate","rectHeight","coordinateBase","textAnchor","StockScaleTransformer","dateAccesor","filtered","pluckKey","maKey","reverse","avg","table","objA","objB","defaultOptions","prevDate","dateMutator","indexMutator","responseData","D","getDay","getMonth","getYear","W","buildWeeklyData","M","buildMonthlyData","stockScale","daily","prevWeek","weekly","eachWeek","trueRange","prevMonth","monthly","eachMonth","_idx","Emitter","Frozen","initialValue","frozen","me","notify","eventName","node","createListener","updated","update","error","freeze","listener","getListener","updating","prevNode","nextTick","trigger","addNE","newNode","__","setData","_events","createNonEnumerable","global","Function","extend","ob","proto","ne","create","message","err","o","clbk","constructor","attrs","defineProperty","enumerable","configurable","writable","flushQueue","fn","queue","shift","dirty","hasPostMessage","postMessage","messageName","setTimeout","processQueue","event","source","addEventListener","removeListener","removeEventListener","emitterProto","once","listeners","callback","splice","args","onceListeners","apply","createNE","commonMethods","attr","toJS","js","arrayMethods","el","append","els","pop","unshift","prepend","FrozenArray","Mixins","Hash","remove","k","List","cons","createArray","parents","addParent","fixChildren","removeParent","merge","val","isFrozen","copyMeta","refreshParents","replaceself","con","index","deleteIndex","refresh","oldChild","returnUpdated","oldNode","clean","markDirty","dirt","parent","param","ticking","__proto__","methods"],"mappings":"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","file":"react-stockcharts.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"), require(\"d3\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\", \"d3\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReStock\"] = factory(require(\"React\"), require(\"d3\"));\n\telse\n\t\troot[\"ReStock\"] = factory(root[\"React\"], root[\"d3\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_23__, __WEBPACK_EXTERNAL_MODULE_24__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"), require(\"d3\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\", \"d3\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReStock\"] = factory(require(\"React\"), require(\"d3\"));\n\telse\n\t\troot[\"ReStock\"] = factory(root[\"React\"], root[\"d3\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_23__, __WEBPACK_EXTERNAL_MODULE_24__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"js/\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\t// common components\n\texports.ChartCanvas = __webpack_require__(2);\n\texports.DataTransform = __webpack_require__(3);\n\n\texports.XAxis = __webpack_require__(4);\n\texports.YAxis = __webpack_require__(5);\n\texports.Chart = __webpack_require__(6);\n\texports.DataSeries = __webpack_require__(7);\n\n\t// chart types & Series\n\texports.AreaSeries = __webpack_require__(8);\n\texports.LineSeries = __webpack_require__(9);\n\texports.CandlestickSeries = __webpack_require__(10);\n\texports.OverlaySeries = __webpack_require__(11);\n\texports.HistogramSeries = __webpack_require__(12);\n\t// interaction components\n\texports.EventCapture = __webpack_require__(13);\n\texports.MouseCoordinates = __webpack_require__(14);\n\texports.CrossHair = __webpack_require__(15);\n\texports.VerticalMousePointer = __webpack_require__(16);\n\texports.CurrentCoordinate = __webpack_require__(17);\n\n\t// Tooltips\n\texports.TooltipContainer = __webpack_require__(18);\n\texports.OHLCTooltip = __webpack_require__(19);\n\texports.MovingAverageTooltip = __webpack_require__(20);\n\n\t// misc\n\texports.EdgeContainer = __webpack_require__(21);\n\texports.EdgeIndicator = __webpack_require__(22);\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar React = __webpack_require__(23);\n\t// var TestUtils = React.addons.TestUtils;\n\n\tvar Chart = __webpack_require__(6);\n\tvar EventCaptureMixin = __webpack_require__(25);\n\tvar ChartContainerMixin = __webpack_require__(26);\n\n\tvar ChartCanvas = React.createClass({displayName: \"ChartCanvas\",\n\t\tmixins: [ChartContainerMixin, EventCaptureMixin],\n\t\tpropTypes: {\n\t\t\twidth: React.PropTypes.number.isRequired\n\t\t\t, height: React.PropTypes.number.isRequired\n\t\t\t, margin: React.PropTypes.object\n\t\t\t, interval: React.PropTypes.string.isRequired\n\t\t},\n\t\tgetAvailableHeight:function(props) {\n\t\t\treturn props.height - props.margin.top - props.margin.bottom;\n\t\t},\n\t\tgetAvailableWidth:function(props) {\n\t\t\treturn props.width - props.margin.left - props.margin.right;\n\t\t},\n\t\tgetInitialState:function() {\n\t\t\treturn {};\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\tmargin: {top: 20, right: 30, bottom: 30, left: 80},\n\t\t\t\tinterval: \"D\"\n\t\t\t};\n\t\t},\n\t\trenderChildren:function() {\n\n\t\t\tvar children = React.Children.map(this.props.children, function(child)  {\n\t\t\t\tif (typeof child.type === 'string') return child;\n\t\t\t\tvar newChild = child;\n\t\t\t\tif ('ReStock.DataTransform' === newChild.props.namespace) {\n\t\t\t\t\tnewChild = React.addons.cloneWithProps(newChild, {\n\t\t\t\t\t\tdata: this.props.data,\n\t\t\t\t\t\tinterval: this.props.interval\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn React.addons.cloneWithProps(newChild, {\n\t\t\t\t\t_width: this.getAvailableWidth(this.props)\n\t\t\t\t\t, _height: this.getAvailableHeight(this.props)\n\t\t\t\t});\n\t\t\t}.bind(this));\n\t\t\treturn this._renderChildren(children);\n\t\t},\n\t\trender:function() {\n\n\t\t\tvar transform = 'translate(' + this.props.margin.left + ',' +  this.props.margin.top + ')';\n\t\t\tvar clipPath = '<clipPath id=\"chart-area-clip\">'\n\t\t\t\t\t\t\t\t+ '<rect x=\"0\" y=\"0\" width=\"' + this.getAvailableWidth(this.props) + '\" height=\"' + this.getAvailableHeight(this.props) + '\" />'\n\t\t\t\t\t\t\t+ '</clipPath>';\n\n\t\t\tvar children = this.renderChildren();\n\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"svg\", {width: this.props.width, height: this.props.height}, \n\t\t\t\t\tReact.createElement(\"defs\", {dangerouslySetInnerHTML: { __html: clipPath}}), \n\t\t\t\t\tReact.createElement(\"g\", {transform: transform}, children)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\n\tmodule.exports = ChartCanvas;\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar React = __webpack_require__(23);\n\tvar EventCaptureMixin = __webpack_require__(25);\n\tvar ChartContainerMixin = __webpack_require__(26);\n\tvar DataTransformMixin = __webpack_require__(27);\n\n\tvar polyLinearTimeScale = __webpack_require__(28);\n\n\tvar doNotPassThrough = ['transformType', 'options', 'children', 'namespace'];\n\n\tfunction updatePropsToChild(child, data, props, from, to) {\n\t\tif (from === undefined) from = Math.max(data.length - 30, 0);\n\t\tif (to === undefined) to = data.length - 1;\n\t\t//child.props.data = data.filter();\n\t\tif (child.type === Chart.type || child.type === DataTransform.type) {\n\t\t\tchild.props.data = data;\n\t\t\tchild.props._width = props.width || props._width;\n\t\t\tchild.props._height = props.height || props._height;\n\t\t\tchild.props._indexAccessor = props._indexAccessor;\n\t\t\tchild.props._polyLinear = props.polyLinear;\n\t\t\tif (props.polyLinear)\n\t\t\t\tchild.props._xScale = polyLinearTimeScale(child.props._indexAccessor);\n\t\t}\n\t}\n\n\tvar DataTransform = React.createClass({displayName: \"DataTransform\",\n\t\tmixins: [DataTransformMixin, ChartContainerMixin, EventCaptureMixin],\n\t\tpropTypes: {\n\t\t\t_height: React.PropTypes.number,\n\t\t\t_width: React.PropTypes.number,\n\n\t\t\tdata: React.PropTypes.array.isRequired,\n\t\t\ttransformType: React.PropTypes.string.isRequired, // stockscale, none\n\t\t\toptions: React.PropTypes.object\n\t\t},\n\t\tgetInitialState:function() {\n\t\t\treturn {};\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\tnamespace: \"ReStock.DataTransform\",\n\t\t\t\ttransformType: \"none\"\n\t\t\t};\n\t\t},\n\n\t\trenderChildren:function(height, width) {\n\t\t\tvar children = React.Children.map(this.props.children, function(child)  {\n\t\t\t\tif (typeof child.type === 'string') return child;\n\t\t\t\tvar newChild = child;\n\t\t\t\tvar props = {};\n\t\t\t\tObject.keys(this.props)\n\t\t\t\t\t.filter(function(eachProp)  {return doNotPassThrough.indexOf(eachProp) === -1;})\n\t\t\t\t\t.forEach(function(key)  {return props[key] = this.props[key];}.bind(this));\n\n\t\t\t\tObject.keys(this.state.passThroughProps)\n\t\t\t\t\t.forEach(function(key)  {return props[key] = this.state.passThroughProps[key];}.bind(this));\n\n\t\t\t\t// console.log(Object.keys(props));\n\t\t\t\treturn React.addons.cloneWithProps(newChild, props);\n\t\t\t}.bind(this));\n\t\t\treturn this._renderChildren(children);\n\t\t},\n\t\trender:function() {\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"g\", null, this.renderChildren())\n\t\t\t);\n\t\t}\n\t});\n\n\tmodule.exports = DataTransform;\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar React = __webpack_require__(23),\n\t\td3 = __webpack_require__(24),\n\t\tPureRenderMixin = __webpack_require__(29);\n\n\tvar XAxis = React.createClass({displayName: \"XAxis\",\n\t\tmixins: [PureRenderMixin],\n\t\tpropTypes: {\n\t\t\taxisAt: React.PropTypes.oneOfType([\n\t\t\t\t\t\tReact.PropTypes.oneOf(['top', 'bottom', 'middle'])\n\t\t\t\t\t\t, React.PropTypes.number\n\t\t\t\t\t]).isRequired,\n\t\t\torient: React.PropTypes.oneOf(['top', 'bottom']).isRequired,\n\t\t\tinnerTickSize: React.PropTypes.number,\n\t\t\touterTickSize: React.PropTypes.number,\n\t\t\ttickFormat: React.PropTypes.func,\n\t\t\ttickPadding: React.PropTypes.number,\n\t\t\ttickSize: React.PropTypes.number,\n\t\t\tticks: React.PropTypes.number,\n\t\t\ttickValues: React.PropTypes.array\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\tnamespace: \"ReStock.XAxis\",\n\t\t\t\tshowGrid: false\n\t\t\t};\n\t\t},\n\t\tgetInitialState:function() {\n\t\t\treturn {};\n\t\t},\n\t\tcomponentWillMount:function() {\n\t\t\tthis.state.xAxis = d3.svg.axis();\n\t\t},\n\t\tcomponentDidMount:function() {\n\t\t\tthis.updateAxis();\n\t\t},\n\t\tcomponentDidUpdate:function() {\n\t\t\tthis.updateAxis();\n\t\t},\n\t\tupdateAxis:function() {\n\t\t\tvar axis = d3.svg.axis()\n\t\t\t\t.scale(this.props._xScale)\n\t\t\t\t.orient(this.props.orient)\n\t\t\t\t//.innerTickSize(this.props.showGrid ? this.props.innerTickSize : 5)\n\t\t\t\t//.outerTickSize(this.props.showGrid ? this.props.outerTickSize : 5)\n\t\t\t\t//.tickPadding(this.props.showGrid ? 5 : 10)\n\t\t\t\t;\n\t\t\tif (this.props.orient) axis.orient(this.props.orient);\n\t\t\tif (this.props.innerTickSize) axis.innerTickSize(this.props.innerTickSize);\n\t\t\tif (this.props.outerTickSize) axis.outerTickSize(this.props.outerTickSize);\n\t\t\tif (this.props.tickFormat) {\n\t\t\t\tif (this.props._xScale.isPolyLinear && this.props._xScale.isPolyLinear())\n\t\t\t\t\tconsole.warn('Cannot set tickFormat on a poly linear scale, ignoring tickFormat on XAxis');\n\t\t\t\telse\n\t\t\t\t\taxis.tickFormat(this.props.tickFormat)\n\t\t\t};\n\t\t\tif (this.props.tickPadding) axis.tickPadding(this.props.tickPadding);\n\t\t\tif (this.props.tickSize) axis.tickSize(this.props.tickSize);\n\t\t\tif (this.props.ticks) axis.ticks(this.props.ticks);\n\t\t\tif (this.props.tickValues) axis.tickValues(this.props.tickValues);\n\t\t\td3.select(this.getDOMNode()).call(axis);\n\t\t},\n\t\trender:function() {\n\t\t\tvar axisAt = this.props.axisAt\n\t\t\t\t, range = this.props._yScale.range();\n\t\t\tif (this.props.axisAt === 'top') axisAt = Math.min(range[0], range[1]);\n\t\t\tif (this.props.axisAt === 'bottom') axisAt = Math.max(range[0], range[1]);\n\t\t\tif (this.props.axisAt === 'middle') axisAt = (range[0] + range[1]) / 2;\n\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"g\", {className: \"x axis\", transform: 'translate(0, ' + axisAt + ')'})\n\t\t\t);\n\t\t}\n\t});\n\n\tmodule.exports = XAxis;\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar React = __webpack_require__(23)\n\t\t, d3 = __webpack_require__(24),\n\t\tPureRenderMixin = __webpack_require__(29);\n\n\n\tvar YAxis = React.createClass({displayName: \"YAxis\",\n\t\tmixins: [PureRenderMixin],\n\t\tpropTypes: {\n\t\t\taxisAt: React.PropTypes.oneOfType([\n\t\t\t\t\t\tReact.PropTypes.oneOf(['left', 'right', 'middle'])\n\t\t\t\t\t\t, React.PropTypes.number\n\t\t\t\t\t]).isRequired,\n\t\t\torient: React.PropTypes.oneOf(['left', 'right']).isRequired,\n\t\t\tinnerTickSize: React.PropTypes.number,\n\t\t\touterTickSize: React.PropTypes.number,\n\t\t\ttickFormat: React.PropTypes.func,\n\t\t\ttickPadding: React.PropTypes.number,\n\t\t\ttickSize: React.PropTypes.number,\n\t\t\tticks: React.PropTypes.number,\n\t\t\ttickValues: React.PropTypes.array,\n\t\t\tpercentScale: React.PropTypes.bool,\n\t\t\taxisPadding: React.PropTypes.number\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\tnamespace: \"ReStock.YAxis\",\n\t\t\t\tshowGrid: false,\n\t\t\t\taxisPadding: 0\n\t\t\t};\n\t\t},\n\t\tgetInitialState:function() {\n\t\t\treturn {};\n\t\t},\n\n\t\tcomponentDidMount:function() {\n\t\t\tthis.updateAxis();\n\t\t},\n\t\tcomponentDidUpdate:function() {\n\t\t\tthis.updateAxis();\n\t\t},\n\t\tupdateAxis:function() {\n\t\t\tvar scale = this.props._yScale;\n\t\t\tif (this.props.percentScale) scale = scale.copy().domain([0, 1]);\n\n\t\t\tvar axis = d3.svg.axis()\n\t\t\t\t.scale(scale)\n\t\t\t\t.orient(this.props.orient)\n\t\t\t\t//.innerTickSize(this.props.showGrid ? this.props.innerTickSize : 5)\n\t\t\t\t//.outerTickSize(this.props.showGrid ? this.props.outerTickSize : 5)\n\t\t\t\t//.tickPadding(this.props.showGrid ? 5 : 10)\n\t\t\t\t;\n\t\t\tif (this.props.orient) axis.orient(this.props.orient);\n\t\t\tif (this.props.innerTickSize) axis.innerTickSize(this.props.innerTickSize);\n\t\t\tif (this.props.outerTickSize) axis.outerTickSize(this.props.outerTickSize);\n\t\t\tif (this.props.tickFormat) axis.tickFormat(this.props.tickFormat);\n\t\t\tif (this.props.tickPadding) axis.tickPadding(this.props.tickPadding);\n\t\t\tif (this.props.tickSize) axis.tickSize(this.props.tickSize);\n\t\t\tif (this.props.ticks) axis.ticks(this.props.ticks);\n\t\t\tif (this.props.tickValues) axis.tickValues(this.props.tickValues);\n\n\t\t\td3.select(this.getDOMNode()).call(axis);\n\t\t},\n\t\trender:function() {\n\t\t\tvar axisAt = this.props.axisAt\n\t\t\t\t, range = this.props._xScale.range();\n\t\t\tif (this.props.axisAt === 'left') axisAt = Math.min(range[0], range[1]) + this.props.axisPadding;\n\t\t\tif (this.props.axisAt === 'right') axisAt = Math.max(range[0], range[1]) + this.props.axisPadding;\n\t\t\tif (this.props.axisAt === 'middle') axisAt = (range[0] + range[1]) / 2 + this.props.axisPadding;\n\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"g\", {className: \"y axis\", transform: 'translate(' + axisAt + ', 0)'})\n\t\t\t);\n\t\t}\n\t});\n\n\tmodule.exports = YAxis;\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\t// Overlays have to be calculated here so scales can be modified according to that\n\n\tvar React = __webpack_require__(23),\n\t\td3 = __webpack_require__(24),\n\t\tScaleUtils = __webpack_require__(30),\n\t\tOverlayUtils = __webpack_require__(31),\n\t\tUtils = __webpack_require__(32),\n\t\toverlayColors = Utils.overlayColors;\n\t\t// logger = require('./utils/logger')\n\n\tvar pluck = Utils.pluck;\n\tvar keysAsArray = Utils.keysAsArray;\n\n\tfunction getOverlayFromList(overlays, id) {\n\t\treturn overlays.map(function(each)  {return [each.id, each];})\n\t\t\t.filter(function(eachMap)  {return eachMap[0] === id;})\n\t\t\t.map(function(eachMap)  {return eachMap[1];})[0];\n\t}\n\n\tvar Chart = React.createClass({displayName: \"Chart\",\n\t\tstatics: {\n\t\t\tgetWidth:function(props) { return props.width || props._width; },\n\t\t\tgetHeight:function(props) { return props.height || props._height; }\n\t\t},\n\t\tpropTypes: {\n\t\t\tdata: React.PropTypes.array.isRequired,\n\t\t\theight: React.PropTypes.number,\n\t\t\twidth: React.PropTypes.number,\n\t\t\torigin: React.PropTypes.oneOfType([\n\t\t\t\t\t\tReact.PropTypes.array\n\t\t\t\t\t\t, React.PropTypes.func\n\t\t\t\t\t]).isRequired,\n\t\t\tid: React.PropTypes.number.isRequired,\n\t\t\t_height: React.PropTypes.number,\n\t\t\t_width: React.PropTypes.number,\n\t\t\t// _showCurrent: React.PropTypes.bool,\n\t\t\t// if xScale and/or yScale is passed as props\n\t\t\t// the user needs to set \n\t\t\t// xDomainUpdate=false and yDomainUpdate=false\n\t\t\t// in order for this component to NOT update the scale on change of data\n\t\t\txScale: React.PropTypes.func,\n\t\t\tyScale: React.PropTypes.func,\n\t\t\txDomainUpdate: React.PropTypes.bool,\n\t\t\tyDomainUpdate: React.PropTypes.bool,\n\t\t\t// _mouseXY: React.PropTypes.array,\n\t\t\t_chartData: React.PropTypes.object.isRequired,\n\t\t\t_updateMode: React.PropTypes.object.isRequired\n\t\t\t/*,\n\t\t\t_currentItem: React.PropTypes.object,\n\t\t\t_lastItem: React.PropTypes.object,\n\t\t\t_currentMouseXY: React.PropTypes.array,\n\t\t\t_currentXYValue: React.PropTypes.array*/\n\t\t},\n\t\tmixins: [React.addons.PureRenderMixin],\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\tnamespace: \"ReStock.Chart\",\n\t\t\t\ttransformDataAs: \"none\",\n\t\t\t\tyDomainUpdate: true,\n\t\t\t\torigin: [0, 0]\n\t\t\t};\n\t\t},/*\n\t\tidentifyOverlaysToAdd(props) {\n\t\t\tvar overlaysToAdd = [];\n\t\t\tReact.Children.forEach(props.children, (child) => {\n\t\t\t\tif (/DataSeries$/.test(child.props.namespace)) {\n\t\t\t\t\tReact.Children.forEach(child.props.children, (grandChild) => {\n\t\t\t\t\t\tif (/OverlaySeries$/.test(grandChild.props.namespace)) {\n\t\t\t\t\t\t\tvar overlay = getOverlayFromList(props._chartData.overlays, grandChild.props.id)\n\t\t\t\t\t\t\tvar yAccessor = OverlayUtils.getYAccessor(grandChild.props);\n\t\t\t\t\t\t\tif (overlay === undefined) {\n\t\t\t\t\t\t\t\toverlay = {\n\t\t\t\t\t\t\t\t\tid: grandChild.props.id,\n\t\t\t\t\t\t\t\t\tyAccessor: yAccessor,\n\t\t\t\t\t\t\t\t\toptions: grandChild.props.options,\n\t\t\t\t\t\t\t\t\ttype: grandChild.props.type,\n\t\t\t\t\t\t\t\t\ttooltipLabel: OverlayUtils.getToolTipLabel(grandChild.props),\n\t\t\t\t\t\t\t\t\tstroke: grandChild.stroke || overlayColors(grandChild.props.id)\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\toverlaysToAdd.push(overlay);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn overlaysToAdd;\n\t\t},\n\t\tcomponentWillNOTMount() {\n\t\t\tvar _chartData = this.props._chartData;\n\n\t\t\tvar scales = this.defineScales(this.props);\n\t\t\tvar accessors = this.getXYAccessors(this.props);\n\t\t\t// identify overlays\n\t\t\tvar overlaysToAdd = this.identifyOverlaysToAdd(this.props);\n\t\t\t_chartData = _chartData.set({ overlays: overlaysToAdd });\n\t\t\t// console.log(overlaysToAdd);\n\t\t\t// calculate overlays\n\t\t\tthis.calculateOverlays(this.props.fullData, _chartData.overlays);\n\n\t\t\tvar overlayValues = this.updateOverlayFirstLast(this.props.data, _chartData.overlays)\n\t\t\t_chartData = _chartData.set( { overlayValues: overlayValues } ); // replace everything\n\n\t\t\tvar overlayYAccessors = pluck(keysAsArray(_chartData.overlays), 'yAccessor');\n\n\t\t\tscales = this.updateScales(this.props\n\t\t\t\t, [accessors.xAccessor]\n\t\t\t\t, [accessors.yAccessor].concat(overlayYAccessors)\n\t\t\t\t, scales.xScale\n\t\t\t\t, scales.yScale);\n\n\t\t\t_chartData = _chartData.set({ accessors: accessors });\n\t\t\t_chartData = _chartData.set({ scales: scales });\n\n\t\t\tvar last = Utils.cloneMe(this.props.data[this.props.data.length - 1]);\n\t\t\t_chartData = _chartData.set({ lastItem: last });\n\n\t\t\tvar first = Utils.cloneMe(this.props.data[0]);\n\t\t\t_chartData = _chartData.set({ firstItem: first });\n\n\t\t\tthis.setState({ chartData: _chartData });\n\t\t},\n\t\tcomponentWillNOTReceiveProps(nextProps) {\n\t\t\t// ignoring  _mouseXY, _currentItem, _lastItem\n\n\t\t\tvar scaleRecalculationNeeded = (Chart.getWidth(this.props) !== Chart.getWidth(nextProps)\n\t\t\t\t|| Chart.getHeight(this.props) !== Chart.getHeight(nextProps)\n\t\t\t\t|| this.props.xScale !== nextProps.xScale\n\t\t\t\t|| this.props.yScale !== nextProps.yScale\n\t\t\t\t|| this.props.xDomainUpdate !== nextProps.xDomainUpdate\n\t\t\t\t|| this.props.yDomainUpdate !== nextProps.yDomainUpdate)\n\n\t\t\tvar _updateMode = nextProps._updateMode;\n\t\t\tvar _chartData = nextProps._chartData;\n\t\t\tvar overlaysToAdd = this.identifyOverlaysToAdd(nextProps);\n\n\t\t\tvar overlays = _chartData.overlays;\n\t\t\tif (overlaysToAdd.length > 0)\n\t\t\t\toverlays = overlays.push(overlaysToAdd);\n\n\t\t\tif (this.props.data !== nextProps.data) {\n\t\t\t\tscaleRecalculationNeeded = true;\n\t\t\t}\n\t\t\t// console.log(this.props._chartData.overlays !== nextProps._chartData.overlays);\n\t\t\tif (this.state.chartData.overlays !== overlays) { //or if the data interval changes\n\t\t\t\t// TODO\n\t\t\t\t// if any overlay.toBeRemoved = true then overlays.splice that one out\n\t\t\t\tthis.calculateOverlays(nextProps.fullData, overlays);\n\n\t\t\t\t_updateMode = _updateMode.set({ immediate: false });\n\n\n\t\t\t\tscaleRecalculationNeeded = true;\n\t\t\t}\n\t\t\tif (scaleRecalculationNeeded) {\n\t\t\t\tvar scales = this.defineScales(nextProps, this.state.chartData.scales.xScale, this.state.chartData.scales.yScale);\n\t\t\t\tvar xyAccessors = this.getXYAccessors(nextProps);\n\n\t\t\t\t_updateMode = _updateMode.set({ immediate: false });\n\t\t\t\tvar overlayYAccessors = pluck(keysAsArray(overlays), 'yAccessor');\n\n\n\t\t\t\tvar overlayValues = this.updateOverlayFirstLast(nextProps.data, _chartData.overlays)\n\t\t\t\t_chartData = _chartData.set( { overlayValues: overlayValues } ); // replace everything\n\n\t\t\t\t// console.log(xyAccessors, overlayYAccessors);\n\n\t\t\t\tscales = this.updateScales(nextProps\n\t\t\t\t\t, [xyAccessors.xAccessor]\n\t\t\t\t\t, [xyAccessors.yAccessor].concat(overlayYAccessors)\n\t\t\t\t\t, scales.xScale\n\t\t\t\t\t, scales.yScale);\n\n\t\t\t\t_chartData = _chartData.set({ accessors: xyAccessors });\n\t\t\t\t_chartData = _chartData.set({ scales: scales });\n\n\t\t\t\tvar last = Utils.cloneMe(nextProps.data[nextProps.data.length - 1]);\n\t\t\t\t_chartData = _chartData.set({ lastItem: last });\n\n\t\t\t\tvar first = Utils.cloneMe(nextProps.data[0]);\n\t\t\t\t_chartData = _chartData.set({ firstItem: first });\n\n\t\t\t\tthis.setState({ chartData: _chartData });\n\t\t\t} else {\n\t\t\t\tthis.setState({ chartData: nextProps._chartData });\n\t\t\t}\n\t\t},\n\t\tcalculateOverlays(data, overlays) {\n\t\t\toverlays\n\t\t\t\t.filter((eachOverlay) => eachOverlay.id !== undefined)\n\t\t\t\t.forEach((overlay) => {\n\t\t\t\t\tOverlayUtils.calculateOverlay(data, overlay);\n\t\t\t\t});\n\t\t\t// console.table(data);\n\t\t\t// console.log(overlays);\n\t\t},\n\t\tupdateOverlayFirstLast(data,\n\t\t\toverlays) {\n\n\t\t\tconsole.log('updateOverlayFirstLast');\n\n\t\t\tvar overlayValues = [];\n\n\t\t\toverlays\n\t\t\t\t.forEach((eachOverlay, idx) => {\n\t\t\t\t\t// console.log(JSON.stringify(first), Object.keys(first), yAccessor(first));\n\t\t\t\t\toverlayValues.push({\n\t\t\t\t\t\tid: eachOverlay.id,\n\t\t\t\t\t\tfirst: OverlayUtils.firstDefined(data, eachOverlay.yAccessor),\n\t\t\t\t\t\tlast: OverlayUtils.lastDefined(data, eachOverlay.yAccessor)\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t// console.log(_overlayValues);\n\t\t\treturn overlayValues;\n\t\t},\n\t\tdefineScales(props, xScaleFromState, yScaleFromState) {\n\t\t\tvar xScale = props.xScale || xScaleFromState || props._xScale,\n\t\t\t\tyScale = props.yScale || yScaleFromState;\n\n\t\t\tif (xScale === undefined) {\n\t\t\t\tvar each = props.data[0];\n\t\t\t\tif (typeof each === 'object') {\n\t\t\t\t\tObject.keys(each).forEach((key) => {\n\t\t\t\t\t\tif (Object.prototype.toString.call(each[key]) === '[object Date]') {\n\t\t\t\t\t\t\txScale = d3.time.scale();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (xScale === undefined) xScale = d3.scale.linear();\n\t\t\t\t//xScale = polyLinearTimeScale();\n\t\t\t}\n\t\t\tif (yScale === undefined) {\n\t\t\t\tyScale = d3.scale.linear();\n\t\t\t}\n\t\t\treturn { xScale: xScale, yScale: yScale };\n\t\t},\n\t\tgetXYAccessors(props) {\n\t\t\tvar accessor = { xAccessor: null, yAccessor: null };\n\n\t\t\tReact.Children.forEach(props.children, (child) => {\n\t\t\t\tif (['ReStock.DataSeries']\n\t\t\t\t\t\t.indexOf(child.props.namespace) > -1) {\n\t\t\t\t\tif (child.props) {\n\t\t\t\t\t\tvar xAccesor = props._stockScale ? props._indexAccessor : child.props.xAccessor\n\t\t\t\t\t\taccessor.xAccessor = xAccesor;\n\t\t\t\t\t\taccessor.yAccessor = child.props.yAccessor;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t// yAccessors.push(overlayY);\n\n\t\t\treturn accessor;\n\t\t},\n\t\tupdateScales(props, xAccessors, yAccessors, xScale, yScale) {\n\t\t\tconsole.log('updateScales');\n\n\t\t\tvar result = ScaleUtils.flattenData(props.data, xAccessors, yAccessors);\n\n\t\t\tif (props.xScale === undefined || props.xDomainUpdate) {\n\t\t\t\txScale.range([0, Chart.getWidth(props)]);\n\t\t\t\t// if polylinear scale then set data\n\t\t\t\tif (xScale.data !== undefined) {\n\t\t\t\t\txScale.data(props.data);\n\t\t\t\t} else {\n\t\t\t\t\t// else set the domain\n\t\t\t\t\txScale.domain(d3.extent(result.xValues));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (props.yScale === undefined || props.yDomainUpdate) {\n\t\t\t\tyScale.range([Chart.getHeight(props), 0]);\n\t\t\t\tvar domain = d3.extent(result.yValues);\n\t\t\t\t//var extraPadding = Math.abs(domain[0] - domain[1]) * 0.05;\n\t\t\t\t//yScale.domain([domain[0] - extraPadding, domain[1] + extraPadding]);\n\t\t\t\tyScale.domain(domain);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\txScale: xScale.copy(),\n\t\t\t\tyScale: yScale.copy()\n\t\t\t};\n\t\t},*/\n\t\trenderChildren:function() {\n\t\t\treturn React.Children.map(this.props.children, function(child)  {\n\t\t\t\tif (typeof child.type === 'string') return child;\n\t\t\t\tif (['ReStock.DataSeries', 'ReStock.ChartOverlay', 'ReStock.XAxis', 'ReStock.YAxis']\n\t\t\t\t\t.indexOf(child.props.namespace) < 0) return child;\n\n\t\t\t\tvar newChild = child;\n\t\t\t\tnewChild = React.addons.cloneWithProps(newChild, {\n\t\t\t\t\t_xScale: this.props._chartData.scales.xScale,\n\t\t\t\t\t_yScale: this.props._chartData.scales.yScale,\n\t\t\t\t\tdata: this.props.data,\n\t\t\t\t\t_xAccessor: this.props._indexAccessor\n\t\t\t\t});\n\t\t\t\tnewChild = this.updatePropsForDataSeries(newChild);\n\t\t\t\tif (newChild.props.xAccessor !== undefined && this.props._stockScale) {\n\t\t\t\t\tconsole.warn('xAccessor defined in DataSeries will override the indexAccessor of the polylinear scale. This might not be the right configuration');\n\t\t\t\t\tconsole.warn('Either remove the xAccessor configuration on the DataSeries or change the polyLinear=false in Translate');\n\t\t\t\t}\n\t\t\t\treturn newChild;\n\t\t\t}.bind(this), this);\n\t\t},\n\t\tupdatePropsForDataSeries:function(child) {\n\t\t\tif (\"ReStock.DataSeries\" === child.props.namespace) {\n\t\t\t\t// console.log(this.state.chartData.overlays);\n\t\t\t\treturn React.addons.cloneWithProps(child, {\n\t\t\t\t\t//_showCurrent: this.props._showCurrent,\n\t\t\t\t\t//_mouseXY: this.props._mouseXY,\n\t\t\t\t\t//_currentItem: this.state.chartData.currentItem,\n\t\t\t\t\t//_lastItem: this.props._chartData.lastItem,\n\t\t\t\t\t//_firstItem: this.props._chartData.firstItem,\n\t\t\t\t\t/*_currentMouseXY: this.props._currentMouseXY,\n\t\t\t\t\t_currentXYValue: this.props._currentXYValue,*/\n\t\t\t\t\t_overlays: this.props._chartData.overlays,\n\t\t\t\t\t_updateMode: this.props._updateMode,\n\t\t\t\t\t_pan: this.props._pan,\n\t\t\t\t\t_isMainChart: this.props._isMainChart\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn child;\n\t\t},\n\t\trender:function() {\n\t\t\tvar height = this.props._height;\n\t\t\tvar width = this.props._width;\n\t\t\tvar origin = typeof this.props.origin === 'function' ? this.props.origin(width, height) : this.props.origin;\n\t\t\tvar transform = 'translate(' + origin[0] + ',' +  origin[1] + ')';\n\t\t\tif (this.props._pan && !this.props._isMainChart) {\n\t\t\t// if (this.props._pan) {\n\t\t\t\treturn React.createElement(\"g\", null)\n\t\t\t}\n\t\t\t// console.log(this.props._chartData);\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"g\", {transform: transform}, this.renderChildren())\n\t\t\t);\n\t\t}\n\t});\n\n\tmodule.exports = Chart;\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\t// DataSeries has to hold OverlaySeries since DataSeries might define the xAccessor and it needs to be sent to OverlaySeries\n\t// Data series has to pass the current mouse position to the children so this has no benefit\n\t//     of PureRenderMixin\n\n\tvar React = __webpack_require__(23),\n\t\tPureRenderMixin = __webpack_require__(29),\n\t\tUtils = __webpack_require__(32),\n\t\td3 = __webpack_require__(24),\n\t\tOverlayUtils = __webpack_require__(31),\n\t\toverlayColors = Utils.overlayColors;\n\n\tfunction getOverlayFromList(overlays, id) {\n\t\treturn overlays.map(function(each)  {return [each.id, each];})\n\t\t\t.filter(function(eachMap)  {return eachMap[0] === id;})\n\t\t\t.map(function(eachMap)  {return eachMap[1];})[0];\n\t}\n\n\tvar DataSeries = React.createClass({displayName: \"DataSeries\",\n\t\tmixins: [PureRenderMixin],\n\t\tpropTypes: {\n\t\t\txAccessor: React.PropTypes.func,\n\t\t\t_xAccessor: React.PropTypes.func,\n\t\t\tyAccessor: React.PropTypes.func.isRequired,\n\n\t\t\t_xScale: React.PropTypes.func,\n\t\t\t_yScale: React.PropTypes.func,\n\n\t\t\t/*_currentItem: React.PropTypes.object,\n\t\t\t_lastItem: React.PropTypes.object,\n\t\t\t_firstItem: React.PropTypes.object,*/\n\t\t\t_overlays: React.PropTypes.array,\n\t\t\t_updateMode: React.PropTypes.object\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\tnamespace: \"ReStock.DataSeries\"\n\t\t\t};\n\t\t},\n\t\trenderChildren:function() {\n\t\t\tvar newChildren = React.Children.map(this.props.children, function(child)  {\n\t\t\t\tvar newChild = child;\n\n\t\t\t\tif (typeof child.type === 'string') return newChild;\n\n\t\t\t\tif (/Series$/.test(newChild.props.namespace)) {\n\t\t\t\t\tnewChild = React.addons.cloneWithProps(newChild, {\n\t\t\t\t\t\t_xScale: this.props._xScale,\n\t\t\t\t\t\t_yScale: this.props._yScale,\n\t\t\t\t\t\t_xAccessor: (this.props.xAccessor || this.props._xAccessor),\n\t\t\t\t\t\t_yAccessor: this.props.yAccessor,\n\t\t\t\t\t\tdata: this.props.data\n\t\t\t\t\t});\n\t\t\t\t\tif (/OverlaySeries$/.test(newChild.props.namespace)) {\n\t\t\t\t\t\tvar key = newChild.props.id;\n\t\t\t\t\t\tvar overlay = getOverlayFromList(this.props._overlays, newChild.props.id);\n\t\t\t\t\t\tnewChild = React.addons.cloneWithProps(newChild, {\n\t\t\t\t\t\t\t_overlay: overlay,\n\t\t\t\t\t\t\t_pan: this.props._pan,\n\t\t\t\t\t\t\t_isMainChart: this.props._isMainChart\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn newChild;\n\t\t\t}.bind(this), this);\n\n\t\t\treturn newChildren;\n\t\t},\n\t\trender:function() {\n\t\t\t//throw new Error();\n\t\t\t// console.log('rendering dataseries...');\n\t\t\t/*if (this.props._pan) {\n\t\t\t\treturn <g></g>\n\t\t\t}*/\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"g\", {style: { \"clipPath\": \"url(#chart-area-clip)\"}}, this.renderChildren())\n\t\t\t);\n\t\t}\n\t});\n\n\tmodule.exports = DataSeries;\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar React = __webpack_require__(23),\n\t\td3 = __webpack_require__(24),\n\t\tPureRenderMixin = __webpack_require__(29);\n\n\tvar AreaSeries = React.createClass({displayName: \"AreaSeries\",\n\t\tmixins: [PureRenderMixin],\n\t\tpropTypes: {\n\t\t\t_xScale: React.PropTypes.func.isRequired,\n\t\t\t_yScale: React.PropTypes.func.isRequired,\n\t\t\t_xAccessor: React.PropTypes.func.isRequired,\n\t\t\t_yAccessor: React.PropTypes.func.isRequired,\n\t\t\tdata: React.PropTypes.array.isRequired\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\tnamespace: \"ReStock.AreaSeries\"\n\t\t\t}\n\t\t},\n\t\tgetPath:function() {\n\t\t\tvar props = this.props;\n\t\t\tvar dataSeries = d3.svg.line()\n\t\t\t\t.defined(function(d, i) {\n\t\t\t\t\t\treturn (props._yAccessor(d) !== undefined);\n\t\t\t\t\t\t//nreturn false;\n\t\t\t\t\t})\n\t\t\t\t.x(function(d) { return props._xScale(props._xAccessor(d)); })\n\t\t\t\t.y(function(d) { return props._yScale(props._yAccessor(d)); });\n\t\t\treturn dataSeries(props.data);\n\t\t},\n\t\tgetArea:function() {\n\t\t\tvar props = this.props, height = props._yScale.range()[0];\n\t\t\tvar areaSeries = d3.svg.area()\n\t\t\t\t.defined(function(d, i) {\n\t\t\t\t\t\treturn (props._yAccessor(d) !== undefined);\n\t\t\t\t\t\t// return false;\n\t\t\t\t\t})\n\t\t\t\t.x(function(d) { return props._xScale(props._xAccessor(d)); })\n\t\t\t\t.y0(height - 1)\n\t\t\t\t.y1(function(d) { return props._yScale(props._yAccessor(d)); });\n\n\t\t\treturn areaSeries(props.data);\n\t\t},\n\t\trender:function() {\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"g\", null, \n\t\t\t\t\tReact.createElement(\"path\", {d: this.getPath(), className: \"line line-stroke\"}), \n\t\t\t\t\tReact.createElement(\"path\", {d: this.getArea(), className: \"area\"})\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\n\tmodule.exports = AreaSeries;\n\n\t/*\t\t\t\t\n\n\t*/\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar React = __webpack_require__(23),\n\t\td3 = __webpack_require__(24),\n\t\tPureRenderMixin = __webpack_require__(29);\n\n\n\tvar LineSeries = React.createClass({displayName: \"LineSeries\",\n\t\t// mixins: [PureRenderMixin],\n\t\tpropTypes: {\n\t\t\t_xScale: React.PropTypes.func.isRequired,\n\t\t\t_yScale: React.PropTypes.func.isRequired,\n\t\t\t_xAccessor: React.PropTypes.func.isRequired,\n\t\t\t_yAccessor: React.PropTypes.func.isRequired,\n\t\t\tdata: React.PropTypes.array.isRequired,\n\t\t\tclassName: React.PropTypes.string,\n\t\t\tstroke: React.PropTypes.string\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\tnamespace: \"ReStock.LineSeries\",\n\t\t\t\tclassName: \"line \"\n\t\t\t}\n\t\t},\n\t\tgetPath:function() {\n\t\t\t// console.log('LineSeries.getPath');\n\t\t\tvar props = this.props;\n\t\t\tvar dataSeries = d3.svg.line()\n\t\t\t\t.defined(function(d, i) {\n\t\t\t\t\t\treturn (props._yAccessor(d) !== undefined);\n\t\t\t\t\t\t//nreturn false;\n\t\t\t\t\t})\n\t\t\t\t.x(function(d) { return props._xScale(props._xAccessor(d)); })\n\t\t\t\t.y(function(d) { return props._yScale(props._yAccessor(d)); });\n\t\t\treturn dataSeries(props.data);\n\t\t},\n\t\trender:function() {\n\t\t\tvar className = this.props.className.concat((this.props.stroke !== undefined) ? '' : ' line-stroke');\n\t\t\t// console.log('%s, %s, %s', className, this.props.className, this.props.stroke);\n\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"g\", null, \n\t\t\t\t\tReact.createElement(\"path\", {d: this.getPath(), stroke: this.props.stroke, fill: \"none\", className: className})\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\n\tmodule.exports = LineSeries;\n\n\t/*\t\t\t\t\n\n\t*/\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar React = __webpack_require__(23),\n\t\td3 = __webpack_require__(24),\n\t\tPureRenderMixin = __webpack_require__(29);\n\n\n\tvar CandlestickSeries = React.createClass({displayName: \"CandlestickSeries\",\n\t\tmixins: [PureRenderMixin],\n\t\tpropTypes: {\n\t\t\t_xScale: React.PropTypes.func.isRequired,\n\t\t\t_yScale: React.PropTypes.func.isRequired,\n\t\t\t_xAccessor: React.PropTypes.func.isRequired,\n\t\t\t_yAccessor: React.PropTypes.func.isRequired\n\t\t},\n\t\tstatics: {\n\t\t\tyAccessor: function(d)  {return {open: d.open, high: d.high, low: d.low, close: d.close};}\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\tnamespace: \"ReStock.CandlestickSeries\"\n\t\t\t}\n\t\t},\n\t\tgetWicks:function() {\n\t\t\tvar wicks = this.props.data\n\t\t\t\t\t.filter(function (d) { return d.close !== undefined; })\n\t\t\t\t\t.map(function(d, idx) {\n\t\t\t\t\t\tvar ohlc = this.props._yAccessor(d);\n\n\t\t\t\t\t\tvar x1 = Math.round(this.props._xScale(this.props._xAccessor(d))),\n\t\t\t\t\t\t\ty1 = this.props._yScale(ohlc.high),\n\t\t\t\t\t\t\tx2 = x1,\n\t\t\t\t\t\t\ty2 = this.props._yScale(ohlc.low),\n\t\t\t\t\t\t\tclassName = (ohlc.open >= ohlc.close) ? 'up' : 'down';\n\t\t\t\t\t\tvar path = 'M' + x1 + ' ' + y1 + 'L' + x2 + ' ' + y2;\n\t\t\t\t\t\t//return <path key={idx} d={path} className={className} />\n\t\t\t\t\t\t/* */\n\t\t\t\t\t\treturn React.createElement(\"line\", {key: idx, \n\t\t\t\t\t\t\t\t\t\tclassName: className, \n\t\t\t\t\t\t\t\t\t\tx1: x1, \n\t\t\t\t\t\t\t\t\t\ty1: y1, \n\t\t\t\t\t\t\t\t\t\tx2: x2, \n\t\t\t\t\t\t\t\t\t\ty2: y2})\n\t\t\t\t\t}, this);\n\t\t\treturn wicks;\n\t\t},\n\t\tgetCandles:function() {\n\t\t\tvar width = this.props._xScale(this.props._xAccessor(this.props.data[this.props.data.length - 1]))\n\t\t\t\t- this.props._xScale(this.props._xAccessor(this.props.data[0]));\n\t\t\tvar cw = (width / (this.props.data.length)) * 0.5;\n\t\t\tvar candleWidth = Math.floor(cw) % 2 === 0 ? Math.floor(cw) : Math.round(cw); // \n\t\t\tvar candles = this.props.data\n\t\t\t\t\t.filter(function (d) { return d.close !== undefined; })\n\t\t\t\t\t.map(function(d, idx) {\n\t\t\t\t\t\tvar ohlc = this.props._yAccessor(d);\n\t\t\t\t\t\tvar x = Math.round(this.props._xScale(this.props._xAccessor(d)))\n\t\t\t\t\t\t\t\t- (candleWidth === 1 ? 0 : 0.5 * candleWidth),\n\t\t\t\t\t\t\ty = this.props._yScale(Math.max(ohlc.open, ohlc.close)),\n\t\t\t\t\t\t\theight = Math.abs(this.props._yScale(ohlc.open) - this.props._yScale(ohlc.close)),\n\t\t\t\t\t\t\tclassName = (ohlc.open <= ohlc.close) ? 'up' : 'down';\n\t\t\t\t\t\tif (ohlc.open === ohlc.close) {\n\t\t\t\t\t\t\treturn React.createElement(\"line\", {key: idx, x1: x, y1: y, x2: x + candleWidth, y2: y})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (candleWidth <= 1) {\n\t\t\t\t\t\t\treturn React.createElement(\"line\", {className: className, key: idx, x1: x, y1: y, x2: x, y2: y + height})\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn React.createElement(\"rect\", {key: idx, className: className, \n\t\t\t\t\t\t\t\t\tx: x, \n\t\t\t\t\t\t\t\t\ty: y, \n\t\t\t\t\t\t\t\t\twidth: candleWidth, \n\t\t\t\t\t\t\t\t\theight: height})\n\t\t\t\t\t}, this);\n\t\t\treturn candles;\n\t\t},\n\t\trender:function() {\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"g\", null, \n\t\t\t\t\tReact.createElement(\"g\", {className: \"wick\", key: \"wicks\"}, \n\t\t\t\t\t\tthis.getWicks()\n\t\t\t\t\t), \n\t\t\t\t\tReact.createElement(\"g\", {className: \"candle\", key: \"candles\"}, \n\t\t\t\t\t\tthis.getCandles()\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\n\tmodule.exports = CandlestickSeries;\n\n\t/*\t\t\t\t\n\n\t*/\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar React = __webpack_require__(23),\n\t\tPureRenderMixin = __webpack_require__(29),\n\t\tUtils = __webpack_require__(32),\n\t\tOverlayUtils = __webpack_require__(31);\n\n\tvar OverlaySeries = React.createClass({displayName: \"OverlaySeries\",\n\t\t//namespace: \"ReStock.OverlaySeries\",\n\t\tmixins: [PureRenderMixin],\n\t\t/*shouldComponentUpdate(nextProps, nextState) {\n\t\t\treturn false;\n\t\t},*/\n\t\tpropTypes: {\n\t\t\t_xScale: React.PropTypes.func.isRequired,\n\t\t\t_yScale: React.PropTypes.func.isRequired,\n\t\t\t_xAccessor: React.PropTypes.func.isRequired,\n\t\t\t// _yAccessor: React.PropTypes.func.isRequired,\n\t\t\t_overlay: React.PropTypes.object.isRequired,\n\t\t\tdata: React.PropTypes.array.isRequired,\n\t\t\ttype: React.PropTypes.oneOf(['sma', 'ema']),\n\t\t\toptions: React.PropTypes.object.isRequired,\n\t\t\tid: React.PropTypes.number.isRequired,\n\t\t\tstroke: React.PropTypes.string\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\tnamespace: \"ReStock.OverlaySeries\"\n\t\t\t};\n\t\t},/*\n\t\tcomponentWillMount: function () {\n\t\t\tvar overlay = {\n\t\t\t\tid: newChild.props.id,\n\t\t\t\tyAccessor: OverlayUtils.getYAccessor(newChild.props),\n\t\t\t\toptions: newChild.props.options,\n\t\t\t\ttype: newChild.props.type,\n\t\t\t\ttooltipLabel: OverlayUtils.getToolTipLabel(newChild.props),\n\t\t\t\tstroke: newChild.stroke || overlayColors(newChild.props.id)\n\t\t\t};\n\t\t},*/\n\t\tcomponentWillUnMount:function() {\n\t\t\tconsole.log('componentWillUnMount');\n\t\t\tconsole.log('componentWillUnMount');\n\t\t\tconsole.log('componentWillUnMount');\n\t\t\tconsole.log('componentWillUnMount');\n\t\t\tconsole.log('componentWillUnMount');\n\t\t\t// unregister self\n\t\t\tthis.props._overlay.set(null);\n\t\t},\n\t\tcomponentWillReceiveProps:function(nextProps) {\n\t\t\t// if things change reset the overlay TODO\n\n\t\t\t// if optinos have changed - update the options\n\t\t\tif (this.props.options !== nextProps.options) {\n\t\t\t\tconsole.log('updating props.....');\n\t\t\t\t// var overlay = this.props._overlays[key];\n\t\t\t\tthis.props._overlay.set('options', nextProps.options);\n\t\t\t}\n\t\t},\n\t\trenderChildren:function() {\n\t\t\treturn React.Children.map(this.props.children, function(child)  {\n\t\t\t\tvar newChild = child;\n\n\t\t\t\tif (typeof child.type === 'string') return newChild;\n\n\t\t\t\tif (/Series$/.test(newChild.props.namespace)) {\n\t\t\t\t\tnewChild = React.addons.cloneWithProps(newChild, {\n\t\t\t\t\t\t_xScale: this.props._xScale,\n\t\t\t\t\t\t_yScale: this.props._yScale,\n\t\t\t\t\t\t_xAccessor: (this.props.xAccessor || this.props._xAccessor),\n\t\t\t\t\t\t_yAccessor: this.props._overlay.yAccessor,\n\t\t\t\t\t\tdata: this.props.data,\n\t\t\t\t\t\tstroke: this.props._overlay.stroke,\n\t\t\t\t\t\tclassName: \"overlay\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn newChild;\n\t\t\t}.bind(this), this);\n\t\t},\n\t\trender:function() {\n\t\t\t// console.log('OverlaySeries.render');\n\t\t\tif (this.props._overlay.yAccessor === undefined) return null;\n\t\t\tif (this.props._pan && this.props._isMainChart) {\n\t\t\t\treturn React.createElement(\"g\", null)\n\t\t\t}\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"g\", null, this.renderChildren())\n\t\t\t);\n\t\t}\n\t});\n\n\tmodule.exports = OverlaySeries;\n\n\t//\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar React = __webpack_require__(23),\n\t\td3 = __webpack_require__(24),\n\t\tPureRenderMixin = __webpack_require__(29);\n\n\n\tvar HistogramSeries = React.createClass({displayName: \"HistogramSeries\",\n\t\tmixins: [PureRenderMixin],\n\t\tpropTypes: {\n\t\t\t_xScale: React.PropTypes.func.isRequired,\n\t\t\t_yScale: React.PropTypes.func.isRequired,\n\t\t\t_xAccessor: React.PropTypes.func.isRequired,\n\t\t\t_yAccessor: React.PropTypes.func.isRequired,\n\t\t\tbaseAt: React.PropTypes.oneOfType([\n\t\t\t\t\t\tReact.PropTypes.oneOf(['top', 'bottom', 'middle'])\n\t\t\t\t\t\t, React.PropTypes.number\n\t\t\t\t\t]).isRequired,\n\t\t\tdirection: React.PropTypes.oneOf(['up', 'down']).isRequired,\n\t\t\tclassName: React.PropTypes.oneOfType([\n\t\t\t\t\t\tReact.PropTypes.func, React.PropTypes.string\n\t\t\t\t\t]).isRequired,\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\tnamespace: \"ReStock.HistogramSeries\",\n\t\t\t\tbaseAt: 'bottom',\n\t\t\t\tdirection: 'up',\n\t\t\t\tclassName: 'bar'\n\t\t\t}\n\t\t},\n\t\tgetBars:function() {\n\t\t\tvar base = this.props.baseAt === 'top'\n\t\t\t\t\t\t? 0\n\t\t\t\t\t\t: this.props.baseAt === 'bottom'\n\t\t\t\t\t\t\t? this.props._yScale.range()[0]\n\t\t\t\t\t\t\t: this.props.baseAt === 'middle'\n\t\t\t\t\t\t\t\t? (this.props._yScale.range()[0] + this.props._yScale.range()[1]) / 2\n\t\t\t\t\t\t\t\t: this.props.baseAt;\n\n\t\t\tvar dir = this.props.direction === 'up' ? -1 : 1;\n\n\t\t\tvar getClassName = function()  {return this.props.className;}.bind(this);\n\t\t\tif (typeof this.props.className === 'function') {\n\t\t\t\tgetClassName = this.props.className;\n\t\t\t}\n\t\t\tvar width = Math.abs(this.props._xScale.range()[0] - this.props._xScale.range()[1]);\n\t\t\tvar barWidth = width / (this.props.data.length) * 0.5;\n\t\t\tvar bars = this.props.data\n\t\t\t\t\t.filter(function(d)  {return this.props._yAccessor(d) !== undefined;}.bind(this) )\n\t\t\t\t\t.map(function(d, idx)  {\n\t\t\t\t\t\tvar yValue = this.props._yAccessor(d);\n\t\t\t\t\t\tvar x = Math.round(this.props._xScale(this.props._xAccessor(d))) - 0.5 * barWidth,\n\t\t\t\t\t\t\tclassName = getClassName(d) ,\n\t\t\t\t\t\t\ty, height;\n\t\t\t\t\t\tif (dir > 0) {\n\t\t\t\t\t\t\ty = base;\n\t\t\t\t\t\t\theight = this.props._yScale.range()[0] - this.props._yScale(yValue);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ty = this.props._yScale(yValue);\n\t\t\t\t\t\t\theight = base - y;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (Math.round(barWidth) <= 1) {\n\t\t\t\t\t\t\treturn React.createElement(\"line\", {key: idx, className: className, \n\t\t\t\t\t\t\t\t\t\tx1: Math.round(x), y1: Math.round(y), \n\t\t\t\t\t\t\t\t\t\tx2: Math.round(x), y2: Math.round(y + height)})\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn React.createElement(\"rect\", {key: idx, className: className, \n\t\t\t\t\t\t\t\t\tx: Math.round(x), \n\t\t\t\t\t\t\t\t\ty: Math.round(y), \n\t\t\t\t\t\t\t\t\twidth: Math.round(barWidth), \n\t\t\t\t\t\t\t\t\theight: Math.round(height)})\n\t\t\t\t\t}.bind(this), this);\n\t\t\treturn bars;\n\t\t},\n\t\trender:function() {\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"g\", {className: \"histogram\"}, \n\t\t\t\t\tthis.getBars()\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\n\tmodule.exports = HistogramSeries;\n\n\t/*\t\t\t\t\n\n\t*/\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar React = __webpack_require__(23);\n\tvar Utils = __webpack_require__(32)\n\n\tvar EventCapture = React.createClass({displayName: \"EventCapture\",\n\t\tpropTypes: {\n\t\t\tmainChart: React.PropTypes.number.isRequired,\n\t\t\tmouseMove: React.PropTypes.bool.isRequired,\n\t\t\tzoom: React.PropTypes.bool.isRequired,\n\t\t\tzoomMultiplier: React.PropTypes.number.isRequired,\n\t\t\tpan: React.PropTypes.bool.isRequired,\n\t\t\tpanSpeedMultiplier: React.PropTypes.number.isRequired,\n\t\t\tdefaultFocus: React.PropTypes.bool.isRequired,\n\n\t\t\t_chartData: React.PropTypes.object.isRequired,\n\t\t\t_height: React.PropTypes.number.isRequired,\n\t\t\t_width: React.PropTypes.number.isRequired,\n\t\t\t_eventStore: React.PropTypes.object.isRequired,\n\t\t\t_zoomEventStore: React.PropTypes.object\n\t\t},\n\t\tgetInitialState:function() {\n\t\t\treturn {\n\t\t\t\tdragOrigin: [0, 0],\n\t\t\t\tdefaultFocus: false\n\t\t\t};\n\t\t},\n\t\tcomponentWillMount:function() {\n\t\t\tthis.setState({\n\t\t\t\tclassName: this.props.className,\n\t\t\t\tinFocus: this.props.defaultFocus\n\t\t\t});\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\tnamespace: \"ReStock.EventCapture\"\n\t\t\t\t, mouseMove: false\n\t\t\t\t, zoom: false\n\t\t\t\t, zoomMultiplier: 1\n\t\t\t\t, pan: false\n\t\t\t\t, panSpeedMultiplier: 1\n\t\t\t\t, className: \"crosshair\"\n\t\t\t\t, defaultFocus: false\n\t\t\t}\n\t\t},\n\t\ttoggleFocus:function() {\n\t\t\tthis.setFocus(!this.state.defaultFocus);\n\t\t},\n\t\tsetFocus:function(focus) {\n\t\t\tthis.setState({\n\t\t\t\tdefaultFocus: focus\n\t\t\t});\n\t\t},\n\t\thandleEnter:function() {\n\t\t\tif (this.props._eventStore) {\n\t\t\t\t// console.log('in');\n\t\t\t\tthis.props._eventStore.get().mouseOver.set({'value': true});\n\t\t\t}\n\t\t},\n\t\thandleLeave:function() {\n\t\t\tif (this.props._eventStore) {\n\t\t\t\t// console.log('out');\n\t\t\t\tvar eventData = this.props._eventStore.get();\n\t\t\t\tthis.props._eventStore.get().mouseOver.set({'value': false});\n\t\t\t\tthis.props._eventStore.get().set({ pan: false });\n\t\t\t\tthis.setState({\n\t\t\t\t\tdragging: false,\n\t\t\t\t\tdragOrigin: [0, 0],\n\t\t\t\t\tclassName: this.props.className\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\thandleWheel:function(e) {\n\t\t\tif (this.props.zoom\n\t\t\t\t\t&& this.props._eventStore\n\t\t\t\t\t//&& this.props._eventStore.get().inFocus.value\n\t\t\t\t\t&& this.state.inFocus\n\t\t\t\t\t&& this.props._zoomEventStore) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\tvar zoomDir = e.deltaY > 0 ? this.props.zoomMultiplier : -this.props.zoomMultiplier;\n\t\t\t\t//console.log(zoomDir);\n\n\t\t\t\tthis.props._zoomEventStore.get().set({ zoom : zoomDir });\n\t\t\t}\n\t\t},\n\t\thandleMouseMove:function(e) {\n\t\t\tif (this.props._eventStore && this.props.mouseMove) {\n\t\t\t\tvar eventData = this.props._eventStore.get();\n\t\t\t\tvar newPos = Utils.mousePosition(e);\n\t\t\t\t//var oldPos = eventData.mouseXY;\n\t\t\t\tvar startPos = this.state.dragOrigin;\n\t\t\t\tif (! (startPos[0] === newPos[0] && startPos[1] === newPos[1])) {\n\t\t\t\t\tif (this.state.dragging) {\n\t\t\t\t\t\teventData = eventData.set({\n\t\t\t\t\t\t\tdx: (newPos[0] - startPos[0]) * this.props.panSpeedMultiplier,\n\t\t\t\t\t\t\tdragOriginDomain: this.state.dragOriginDomain\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\t\t\t\t\teventData = eventData.set( { mouseXY: newPos } );\n\t\t\t\t\teventData = eventData.set({ pan: this.state.dragging });\n\t\t\t\t\t// console.log('eventData....', eventData);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thandleMouseDown:function(e) {\n\t\t\tif (this.props._eventStore) {\n\t\t\t\t// this.props._eventStore.get().inFocus.set({'value': true});\n\t\t\t\tvar inFocus = true\n\t\t\t\tif (this.props.pan && this.props._zoomEventStore) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tdragging: true,\n\t\t\t\t\t\tdragOrigin: Utils.mousePosition(e),\n\t\t\t\t\t\tdragOriginDomain: this.props._chartData.scales.xScale.domain(),\n\t\t\t\t\t\tclassName: \"grabbing\",\n\t\t\t\t\t\tinFocus: inFocus\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tinFocus: inFocus\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\te.preventDefault();\n\t\t},\n\t\thandleMouseUp:function(e) {\n\t\t\tif (this.props.pan && this.props._zoomEventStore) {\n\n\t\t\t\tthis.props._eventStore.get().set({ pan: false })\n\t\t\t\tthis.setState({\n\t\t\t\t\tdragging: false,\n\t\t\t\t\tdragOrigin: [0, 0],\n\t\t\t\t\tclassName: this.props.className\n\t\t\t\t})\n\t\t\t}\n\t\t\te.preventDefault();\n\t\t},\n\t\trender:function() {\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"rect\", {\n\t\t\t\t\tclassName: this.state.className, \n\t\t\t\t\twidth: this.props._width, height: this.props._height, style: {opacity: 0}, \n\t\t\t\t\tonMouseEnter: this.handleEnter, \n\t\t\t\t\tonMouseLeave: this.handleLeave, \n\t\t\t\t\tonMouseMove: this.handleMouseMove, \n\t\t\t\t\tonMouseDown: this.handleMouseDown, \n\t\t\t\t\tonMouseUp: this.handleMouseUp, \n\t\t\t\t\tonWheel: this.handleWheel}\n\t\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\n\tmodule.exports = EventCapture;\n\n\t/*\t\t\t\t\n\n\t*/\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar React = __webpack_require__(23);\n\tvar EdgeCoordinate = __webpack_require__(33)\n\tvar Utils = __webpack_require__(32)\n\n\t// Should not use xScale and yScale here as MouseCoordinate is common across all charts\n\t// if it is made to be inside a Chart another Chart might be displayed over it\n\tvar MouseCoordinates = React.createClass({displayName: \"MouseCoordinates\",\n\t\tpropTypes: {\n\t\t\t_height: React.PropTypes.number.isRequired,\n\t\t\t_width: React.PropTypes.number.isRequired,\n\t\t\t_show: React.PropTypes.bool.isRequired,\n\t\t\t_mouseXY: React.PropTypes.array.isRequired,\n\t\t\t_chartData: React.PropTypes.object.isRequired,\n\t\t\t_currentItem: React.PropTypes.object.isRequired,\n\n\t\t\tforChart: React.PropTypes.number.isRequired, \n\t\t\txDisplayFormat: React.PropTypes.func.isRequired,\n\t\t\tyDisplayFormat: React.PropTypes.func.isRequired\n\t\t},\n\t\tshouldComponentUpdate:function(nextProps, nextState) {\n\t\t\treturn nextProps._currentItem != this.props._currentItem\n\t\t\t\t\t|| nextProps._mouseXY !== this.props._mouseXY\n\t\t\t\t\t|| nextProps._show !== this.props._show\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\tnamespace: \"ReStock.MouseCoordinates\",\n\t\t\t\t_show: false,\n\t\t\t\tsnapX: true,\n\t\t\t\txDisplayFormat: Utils.displayDateFormat,\n\t\t\t\tyDisplayFormat: Utils.displayNumberFormat,\n\t\t\t}\n\t\t},\n\t\trenderChildren:function() {\n\t\t\tvar chartData = this.props._chartData;\n\t\t\tvar item = this.props._currentItem.data;\n\t\t\t\n\n\t\t\tvar xValue = chartData.accessors.xAccessor(item);\n\t\t\tvar xDisplayValue = this.props._dateAccessor === undefined\n\t\t\t\t? xValue\n\t\t\t\t: this.props._dateAccessor(item);\n\n\t\t\tvar yValue = chartData.scales.yScale.invert(this.props._mouseXY[1]);\n\n\t\t\tif (xValue === undefined || yValue === undefined) return null;\n\t\t\tvar x = this.props.snapX ? Math.round(chartData.scales.xScale(xValue)) : this.props._mouseXY[0];\n\t\t\tvar y = this.props._mouseXY[1];\n\n\t\t\t//console.log(xValue, this.props.xDisplayFormat(xValue));\n\t\t\t//console.log(yValue, this.props.yDisplayFormat(yValue));\n\n\t\t\treturn React.Children.map(this.props.children, function(child)  {\n\t\t\t\tif (typeof child.type === 'string') return child;\n\t\t\t\tvar newChild = child;\n\t\t\t\treturn React.addons.cloneWithProps(newChild, {\n\t\t\t\t\t_width: this.props._width\n\t\t\t\t\t, _height: this.props._height\n\t\t\t\t\t, _mouseXY: [x, y]\n\t\t\t\t\t, _xDisplayValue: this.props.xDisplayFormat(xDisplayValue)\n\t\t\t\t\t, _yDisplayValue: this.props.yDisplayFormat(yValue)\n\t\t\t\t});\n\t\t\t}.bind(this), this);\n\t\t},\n\t\trender:function() {\n\t\t\tvar children = null;\n\t\t\tif (this.props._show) {\n\t\t\t\tchildren = this.renderChildren();\n\t\t\t};\n\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"g\", {className: this.props._show ? 'show' : 'hide'}, \n\t\t\t\t\tchildren\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\n\tmodule.exports = MouseCoordinates;\n\n\n\t/*\n\n\n\n\t*/\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar React = __webpack_require__(23);\n\tvar EdgeCoordinate = __webpack_require__(33)\n\tvar Utils = __webpack_require__(32)\n\n\tvar CrossHair = React.createClass({displayName: \"CrossHair\",\n\t\tpropTypes: {\n\t\t\t_height: React.PropTypes.number.isRequired,\n\t\t\t_width: React.PropTypes.number.isRequired,\n\t\t\t_mouseXY: React.PropTypes.array.isRequired,\n\t\t\t_xDisplayValue: React.PropTypes.string.isRequired,\n\t\t\t_yDisplayValue: React.PropTypes.string.isRequired,\n\t\t\tyAxisPad: React.PropTypes.number.isRequired\n\t\t},\n\t\tshouldComponentUpdate:function(nextProps, nextState) {\n\t\t\treturn nextProps._mouseXY !== this.props._mouseXY\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\tnamespace: \"ReStock.CrossHair\",\n\t\t\t\tyAxisPad: 5\n\t\t\t}\n\t\t},\n\t\trender:function() {\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"g\", {className: 'crosshair '}, \n\t\t\t\t\tReact.createElement(EdgeCoordinate, {\n\t\t\t\t\t\ttype: \"horizontal\", \n\t\t\t\t\t\tclassName: \"horizontal\", \n\t\t\t\t\t\tshow: true, \n\t\t\t\t\t\tx1: 0, y1: this.props._mouseXY[1], \n\t\t\t\t\t\tx2: this.props._width + this.props.yAxisPad, y2: this.props._mouseXY[1], \n\t\t\t\t\t\tcoordinate: this.props._yDisplayValue, \n\t\t\t\t\t\tedgeAt: this.props._width + this.props.yAxisPad, \n\t\t\t\t\t\torient: \"right\"}\n\t\t\t\t\t\t), \n\t\t\t\t\tReact.createElement(EdgeCoordinate, {\n\t\t\t\t\t\ttype: \"vertical\", \n\t\t\t\t\t\tclassName: \"horizontal\", \n\t\t\t\t\t\tshow: true, \n\t\t\t\t\t\tx1: this.props._mouseXY[0], y1: 0, \n\t\t\t\t\t\tx2: this.props._mouseXY[0], y2: this.props._height, \n\t\t\t\t\t\tcoordinate: this.props._xDisplayValue, \n\t\t\t\t\t\tedgeAt: this.props._height, \n\t\t\t\t\t\torient: \"bottom\"}\n\t\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\n\tmodule.exports = CrossHair;\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar React = __webpack_require__(23);\n\tvar EdgeCoordinate = __webpack_require__(33)\n\tvar Utils = __webpack_require__(32)\n\n\tvar VerticalMousePointer = React.createClass({displayName: \"VerticalMousePointer\",\n\t\tpropTypes: {\n\t\t\t_height: React.PropTypes.number.isRequired,\n\t\t\t_width: React.PropTypes.number.isRequired,\n\t\t\t_mouseXY: React.PropTypes.array.isRequired,\n\t\t\t_xDisplayValue: React.PropTypes.string.isRequired,\n\t\t\t_yDisplayValue: React.PropTypes.string.isRequired,\n\t\t\tyAxisPad: React.PropTypes.number.isRequired\n\t\t},\n\t\tshouldComponentUpdate:function(nextProps, nextState) {\n\t\t\treturn nextProps._mouseXY !== this.props._mouseXY\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\tnamespace: \"ReStock.VerticalMousePointer\",\n\t\t\t\tyAxisPad: 10\n\t\t\t}\n\t\t},\n\t\trender:function() {\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"g\", {className: 'crosshair '}, \n\t\t\t\t\tReact.createElement(EdgeCoordinate, {\n\t\t\t\t\t\ttype: \"vertical\", \n\t\t\t\t\t\tclassName: \"horizontal\", \n\t\t\t\t\t\tshow: true, \n\t\t\t\t\t\tx1: this.props._mouseXY[0], y1: 0, \n\t\t\t\t\t\tx2: this.props._mouseXY[0], y2: this.props._height, \n\t\t\t\t\t\tcoordinate: this.props._xDisplayValue, \n\t\t\t\t\t\tedgeAt: this.props._height, \n\t\t\t\t\t\torient: \"bottom\"}\n\t\t\t\t\t\t)\n\t\t\t\t\t\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\n\tmodule.exports = VerticalMousePointer;\n\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar React = __webpack_require__(23),\n\t\tPureRenderMixin = __webpack_require__(29),\n\t\tUtils = __webpack_require__(32);\n\n\tvar CurrentCoordinate = React.createClass({displayName: \"CurrentCoordinate\",\n\t\t//namespace: \"ReStock.DataSeries\",\n\t\tmixins: [PureRenderMixin],\n\t\tpropTypes: {\n\t\t\tforChart: React.PropTypes.number.isRequired,\n\t\t\tforOverlay: React.PropTypes.number,\n\t\t\tyAccessor: React.PropTypes.func,\n\t\t\tr: React.PropTypes.number.isRequired,\n\t\t\tclassName: React.PropTypes.string,\n\n\t\t\t_show: React.PropTypes.bool.isRequired,\n\t\t\t_chartData: React.PropTypes.object.isRequired,\n\t\t\t_currentItem: React.PropTypes.object.isRequired,\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\tnamespace: \"ReStock.CurrentCoordinate\",\n\t\t\t\tr: 3\n\t\t\t};\n\t\t},\n\t\trender:function() {\n\n\t\t\tvar chartData = this.props._chartData;\n\t\t\tvar item = this.props._currentItem.data;\n\t\t\tvar fill = 'black';\n\n\t\t\tif (! this.props._show || item === undefined) return null;\n\t\t\tvar yAccessor =  this.props.yAccessor || chartData.accessors.yAccessor;\n\n\t\t\tif (this.props.forOverlay !== undefined) {\n\t\t\t\tvar overlays = chartData.overlays\n\t\t\t\t\t.filter(function(each)  {return each.id === this.props.forOverlay;}.bind(this));\n\n\t\t\t\tif (overlays.length != 1) {\n\t\t\t\t\tconsole.warn('Unique overlay with id={%s} not found', this.props.forOverlay);\n\t\t\t\t\tthrow new Error('Unique overlay not found');\n\t\t\t\t}\n\t\t\t\tfill = overlays[0].stroke;\n\t\t\t\tyAccessor = overlays[0].yAccessor;\n\t\t\t}\n\n\t\t\tvar xValue = chartData.accessors.xAccessor(item);\n\t\t\tvar yValue = yAccessor(item);\n\n\t\t\tif (yValue === undefined) return null;\n\n\t\t\tvar x = Math.round(chartData.scales.xScale(xValue)) + chartData.origin[0];\n\t\t\tvar y = Math.round(chartData.scales.yScale(yValue)) + chartData.origin[1];\n\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"circle\", {className: this.props.className, cx: x, cy: y, r: this.props.r, fill: fill})\n\t\t\t);\n\t\t}\n\t});\n\n\tmodule.exports = CurrentCoordinate;\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar React = __webpack_require__(23);\n\n\tvar TooltipContainer = React.createClass({displayName: \"TooltipContainer\",\n\t\tpropTypes: {\n\t\t\t_currentItems: React.PropTypes.array.isRequired,\n\t\t\t_charts: React.PropTypes.array.isRequired\n\t\t},\n\t\tshouldComponentUpdate:function(nextProps, nextState) {\n\t\t\treturn nextProps._charts !== this.props._charts || nextProps._currentItems !== this.props._currentItems;\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\tnamespace: \"ReStock.TooltipContainer\"\n\t\t\t}\n\t\t},\n\t\trenderChildren:function() {\n\t\t\treturn React.Children.map(this.props.children, function(child)  {\n\t\t\t\tif (typeof child.type === 'string') return child;\n\t\t\t\tvar newChild = child;\n\t\t\t\tvar chart = this.props._charts.filter(function(chart)  {return chart.id === newChild.props.forChart;})[0];\n\t\t\t\tvar currentItem = this.props._currentItems.filter(function(item)  {return item.id === newChild.props.forChart;})[0];\n\t\t\t\tnewChild = React.addons.cloneWithProps(newChild, {\n\t\t\t\t\t_currentItem: currentItem.data\n\t\t\t\t});\n\t\t\t\tif (/MovingAverageTooltip$/.test(newChild.props.namespace)) {\n\t\t\t\t\tnewChild = React.addons.cloneWithProps(newChild, {\n\t\t\t\t\t\t_overlays: chart.overlays\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn newChild;\n\t\t\t}.bind(this));\n\t\t},\n\t\trender:function() {\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"g\", {className: \"toottip-hover\"}, \n\t\t\t\t\tthis.renderChildren()\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\n\tmodule.exports = TooltipContainer;\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar React = __webpack_require__(23);\n\tvar Utils = __webpack_require__(32)\n\n\tvar billion = 1 * 1000 * 1000 * 1000;\n\tvar million = 1 * 1000 * 1000;\n\tvar thousand = 1 * 1000;\n\n\tvar OHLCTooltip = React.createClass({displayName: \"OHLCTooltip\",\n\t\tpropTypes: {\n\t\t\t_currentItem: React.PropTypes.object.isRequired,\n\t\t\taccessor: React.PropTypes.func.isRequired,\n\t\t\txDisplayFormat: React.PropTypes.func.isRequired,\n\t\t\torigin: React.PropTypes.array.isRequired,\n\t\t},\n\t\tshouldComponentUpdate:function(nextProps, nextState) {\n\t\t\treturn (nextProps._currentItem !== this.props._currentItem);\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\tnamespace: \"ReStock.OHLCTooltip\",\n\t\t\t\taccessor: function(d)  {return {date: d.date, open: d.open, high: d.high, low: d.low, close: d.close, volume: d.volume}},\n\t\t\t\txDisplayFormat: Utils.displayDateFormat,\n\t\t\t\torigin: [0, 0]\n\t\t\t}\n\t\t},\n\t\trender:function() {\n\t\t\tvar displayDate, fromDate, toDate, open, high, low, close, volume;\n\n\t\t\tdisplayDate = fromDate = toDate = open = high = low = close = volume = \"n/a\";\n\t\t\tvar item = this.props.accessor(this.props._currentItem);\n\n\t\t\tif (item !== undefined && item.close !== undefined) {\n\t\t\t\tvolume = (item.volume / billion > 1)\n\t\t\t\t\t? (item.volume / billion).toFixed(2) + \"b\"\n\t\t\t\t\t: (item.volume / million > 1)\n\t\t\t\t\t\t? (item.volume / million).toFixed(2) + \"m\"\n\t\t\t\t\t\t: (item.volume / thousand > 1)\n\t\t\t\t\t\t\t? (item.volume / thousand).toFixed(2) + \"k\"\n\t\t\t\t\t\t\t: item.volume;\n\n\t\t\t\tdisplayDate = this.props.xDisplayFormat(item.date);\n\t\t\t\topen = Utils.displayNumberFormat(item.open);\n\t\t\t\thigh = Utils.displayNumberFormat(item.high);\n\t\t\t\tlow = Utils.displayNumberFormat(item.low);\n\t\t\t\tclose = Utils.displayNumberFormat(item.close);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"g\", {transform: \"translate(\" + this.props.origin[0] + \", \" + this.props.origin[1] + \")\"}, \n\t\t\t\t\tReact.createElement(\"text\", {x: 0, y: 0, className: \"legend\"}, \n\t\t\t\t\t\tReact.createElement(\"tspan\", {key: \"label\", x: 0, dy: \"5\", className: \"tooltip-label\"}, \"Date: \"), \n\t\t\t\t\t\tReact.createElement(\"tspan\", {key: \"value\"}, displayDate), \n\t\t\t\t\t\tReact.createElement(\"tspan\", {key: \"label_O\", className: \"tooltip-label\"}, \" O: \"), React.createElement(\"tspan\", {key: \"value_O\"}, open), \n\t\t\t\t\t\tReact.createElement(\"tspan\", {key: \"label_H\", className: \"tooltip-label\"}, \" H: \"), React.createElement(\"tspan\", {key: \"value_H\"}, high), \n\t\t\t\t\t\tReact.createElement(\"tspan\", {key: \"label_L\", className: \"tooltip-label\"}, \" L: \"), React.createElement(\"tspan\", {key: \"value_L\"}, low), \n\t\t\t\t\t\tReact.createElement(\"tspan\", {key: \"label_C\", className: \"tooltip-label\"}, \" C: \"), React.createElement(\"tspan\", {key: \"value_C\"}, close), \n\t\t\t\t\t\tReact.createElement(\"tspan\", {key: \"label_Vol\", className: \"tooltip-label\"}, \" Vol: \"), React.createElement(\"tspan\", {key: \"value_Vol\"}, volume)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\n\tmodule.exports = OHLCTooltip;\n\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar React = __webpack_require__(23);\n\tvar Utils = __webpack_require__(32)\n\n\tvar SingleMAToolTip = React.createClass({displayName: \"SingleMAToolTip\",\n\t\tpropTypes: {\n\t\t\torigin: React.PropTypes.array.isRequired,\n\t\t\tcolor: React.PropTypes.string.isRequired,\n\t\t\tdisplayName: React.PropTypes.string.isRequired,\n\t\t\tvalue: React.PropTypes.string.isRequired,\n\t\t\tonClick: React.PropTypes.func\n\t\t},\n\t\tgetDefaultProps:function() {\n\n\t\t},\n\t\thandleClick:function(overlay) {\n\t\t\tif (this.props.onClick) {\n\t\t\t\tthis.props.onClick(overlay);\n\t\t\t}\n\t\t},\n\t\trender:function() {\n\t\t\tvar translate = \"translate(\" + this.props.origin[0] + \", \" + this.props.origin[1] + \")\";\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"g\", {transform: translate}, \n\t\t\t\t\tReact.createElement(\"line\", {x1: 0, y1: 2, x2: 0, y2: 28, stroke: this.props.color}), \n\t\t\t\t\tReact.createElement(\"text\", {x: 5, y: 11, className: \"legend\"}, \n\t\t\t\t\t\tReact.createElement(\"tspan\", {className: \"tooltip-label\"}, this.props.displayName), \n\t\t\t\t\t\tReact.createElement(\"tspan\", {x: \"5\", dy: \"15\"}, this.props.value)\n\t\t\t\t\t), \n\t\t\t\t\tReact.createElement(\"rect\", {x: 0, y: 0, width: 55, height: 30, onClick: this.handleClick.bind(this, this.props.overlay)})\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\n\n\tvar MovingAverageTooltip = React.createClass({displayName: \"MovingAverageTooltip\",\n\t\tpropTypes: {\n\t\t\t_currentItem: React.PropTypes.object.isRequired,\n\t\t\t_overlays: React.PropTypes.array.isRequired,\n\t\t\tdisplayFormat: React.PropTypes.func.isRequired,\n\t\t\torigin: React.PropTypes.array.isRequired,\n\t\t\tonClick: React.PropTypes.func\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\tnamespace: \"ReStock.MovingAverageTooltip\",\n\t\t\t\tdisplayFormat: Utils.displayNumberFormat,\n\t\t\t\torigin: [0, 10],\n\t\t\t\twidth: 65\n\t\t\t}\n\t\t},\n\t\trender:function() {\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"g\", {transform: \"translate(\" + this.props.origin[0] + \", \" + this.props.origin[1] + \")\", className: \"ma-container\"}, \n\t\t\t\t\tthis.props._overlays.map(function(eachOverlay, idx)  {\n\t\t\t\t\t\tvar yValue = eachOverlay.yAccessor(this.props._currentItem);\n\t\t\t\t\t\t// console.log(yValue);\n\t\t\t\t\t\tvar yDisplayValue = yValue ? this.props.displayFormat(yValue) : \"n/a\";\n\t\t\t\t\t\treturn React.createElement(SingleMAToolTip, {\n\t\t\t\t\t\t\tkey: idx, \n\t\t\t\t\t\t\torigin: [this.props.width * idx, 0], \n\t\t\t\t\t\t\tcolor: eachOverlay.stroke, \n\t\t\t\t\t\t\tdisplayName: eachOverlay.tooltipLabel, \n\t\t\t\t\t\t\tvalue: yDisplayValue, \n\t\t\t\t\t\t\toverlay: eachOverlay, \n\t\t\t\t\t\t\tonClick: this.props.onClick})\n\t\t\t\t\t}.bind(this))\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\n\tmodule.exports = MovingAverageTooltip;\n\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar React = __webpack_require__(23);\n\n\tvar EdgeContainer = React.createClass({displayName: \"EdgeContainer\",\n\t\tpropTypes: {\n\t\t\t_currentItems: React.PropTypes.array.isRequired,\n\t\t\t_charts: React.PropTypes.array.isRequired,\n\t\t\t_height: React.PropTypes.number.isRequired,\n\t\t\t_width: React.PropTypes.number.isRequired,\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\tnamespace: \"ReStock.EdgeContainer\",\n\t\t\t}\n\t\t},\n\t\trenderChildren:function() {\n\t\t\treturn React.Children.map(this.props.children, function(child)  {\n\t\t\t\tif (typeof child.type === 'string') return child;\n\t\t\t\tvar newChild = child;\n\t\t\t\tif (/EdgeIndicator$/.test(newChild.props.namespace)) {\n\t\t\t\t\tvar chart = this.props._charts.filter(function(chart)  {return chart.id === newChild.props.forChart;})[0];\n\t\t\t\t\tvar currentItem = this.props._currentItems.filter(function(item)  {return item.id === newChild.props.forChart;})[0];\n\t\t\t\t\tnewChild = React.addons.cloneWithProps(newChild, {\n\t\t\t\t\t\t_width: this.props._width,\n\t\t\t\t\t\t_chart: chart,\n\t\t\t\t\t\t_currentItem: currentItem\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn newChild;\n\t\t\t}.bind(this));\n\t\t},\n\t\trender:function() {\n\t\t\treturn React.createElement(\"g\", null, this.renderChildren())\n\t\t}\n\t});\n\n\tmodule.exports = EdgeContainer;\n\n\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar React = __webpack_require__(23);\n\tvar Utils = __webpack_require__(32)\n\tvar EdgeCoordinate = __webpack_require__(33)\n\n\n\tvar EdgeIndicator = React.createClass({displayName: \"EdgeIndicator\",\n\t\tpropTypes: {\n\t\t\ttype: React.PropTypes.oneOf(['horizontal']).isRequired,\n\t\t\tclassName: React.PropTypes.string,\n\t\t\titemType: React.PropTypes.oneOf(['first', 'last', 'current']).isRequired,\n\t\t\torient: React.PropTypes.oneOf(['left', 'right']),\n\t\t\tedgeAt: React.PropTypes.oneOf(['left', 'right']),\n\n\t\t\tforChart: React.PropTypes.number.isRequired,\n\t\t\tforOverlay: React.PropTypes.number, // undefined means main Data series of that chart\n\n\t\t\tdisplayFormat: React.PropTypes.func.isRequired,\n\n\t\t\t_width: React.PropTypes.number,\n\t\t\t_currentItem: React.PropTypes.object.isRequired,\n\t\t\t_chart: React.PropTypes.object.isRequired,\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\ttype: 'horizontal',\n\t\t\t\torient: 'left',\n\t\t\t\tedgeAt: 'left',\n\t\t\t\tdisplayFormat: Utils.displayNumberFormat,\n\t\t\t\tyAxisPad: 5,\n\t\t\t\tnamespace: \"ReStock.EdgeIndicator\"\n\t\t\t};\n\t\t},/*\n\t\tshouldComponentUpdate(nextProps, nextState) {\n\t\t\tif (nextProps.itemType === 'current') {\n\t\t\t\treturn \n\t\t\t} else {\n\n\t\t\t}\n\t\t},*/\n\t\trenderEdge:function() {\n\t\t\tvar edge = null, item, yAccessor;\n\t\t\tif (this.props.forOverlay !== undefined\n\t\t\t\t\t&& this.props._chart.overlays.length > 0\n\t\t\t\t\t&& this.props._chart.overlayValues.length > 0) {\n\n\t\t\t\tvar overlay = this.props._chart.overlays\n\t\t\t\t\t.filter(function(eachOverlay)  {return eachOverlay.id === this.props.forOverlay;}.bind(this));\n\t\t\t\tvar overlayValue = this.props._chart.overlayValues\n\t\t\t\t\t.filter(function(eachOverlayValue)  {return eachOverlayValue.id === this.props.forOverlay;}.bind(this));\n\n\t\t\t\t// console.log(overlay, overlayValue);\n\t\t\t\tif (overlay.length !== 1) {\n\t\t\t\t\tconsole.warn('%s overlays found with id %s, correct the OverlaySeries so there is exactly one for each id', overlay.length, newChild.props.forOverlay)\n\t\t\t\t\tthrow new Error('Unable to identify unique Overlay for the id');\n\t\t\t\t}\n\t\t\t\tif (overlayValue.length !== 1 && overlay.length === 1) {\n\t\t\t\t\tconsole.warn('Something is wrong!!!, There should be 1 overlayValue, report the issue on github');\n\t\t\t\t}\n\n\t\t\t\titem = this.props.itemType === 'first'\n\t\t\t\t\t? overlayValue[0].first\n\t\t\t\t\t: this.props.itemType === 'last'\n\t\t\t\t\t\t? overlayValue[0].last\n\t\t\t\t\t\t: this.props._currentItem;\n\t\t\t\tyAccessor = overlay[0].yAccessor;\n\n\t\t\t\tif (item !== undefined) {\n\t\t\t\t\tvar yValue = yAccessor(item), xValue = this.props._chart.accessors.xAccessor(item);\n\t\t\t\t\tvar x1 = Math.round(this.props._chart.scales.xScale(xValue)), y1 = Math.round(this.props._chart.scales.yScale(yValue));\n\t\t\t\t\tvar edgeX = this.props.edgeAt === 'left'\n\t\t\t\t\t\t? 0 - this.props.yAxisPad\n\t\t\t\t\t\t: this.props._width + this.props.yAxisPad\n\n\t\t\t\t\tedge = React.createElement(EdgeCoordinate, {\n\t\t\t\t\t\t\ttype: this.props.type, \n\t\t\t\t\t\t\tclassName: \"edge-coordinate\", \n\t\t\t\t\t\t\tfill: overlay[0].stroke, \n\t\t\t\t\t\t\tshow: true, \n\t\t\t\t\t\t\tx1: x1 + this.props._chart.origin[0], y1: y1 + this.props._chart.origin[1], \n\t\t\t\t\t\t\tx2: edgeX + this.props._chart.origin[0], y2: y1 + this.props._chart.origin[1], \n\t\t\t\t\t\t\tcoordinate: this.props.displayFormat(yValue), \n\t\t\t\t\t\t\tedgeAt: edgeX, \n\t\t\t\t\t\t\torient: this.props.orient}\n\t\t\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t} else if (this.props.forOverlay === undefined) {\n\t\t\t\titem = this.props.itemType === 'first'\n\t\t\t\t\t? this.props._chart.firstItem\n\t\t\t\t\t: this.props.itemType === 'last'\n\t\t\t\t\t\t? this.props._chart.lastItem\n\t\t\t\t\t\t: this.props._currentItem;\n\t\t\t\tyAccessor = this.props._chart.accessors.yAccessor;\n\n\t\t\t\tif (item !== undefined && yAccessor !== null) {\n\t\t\t\t\tvar yValue = yAccessor(item);\n\t\t\t\t\tvar xValue = this.props._chart.accessors.xAccessor(item);\n\n\t\t\t\t\tvar x1 = Math.round(this.props._chart.scales.xScale(xValue)), y1 = Math.round(this.props._chart.scales.yScale(yValue));\n\t\t\t\t\tvar edgeX = this.props.edgeAt === 'left'\n\t\t\t\t\t\t? 0 - this.props.yAxisPad\n\t\t\t\t\t\t: this.props._width + this.props.yAxisPad\n\n\t\t\t\t\tedge = React.createElement(EdgeCoordinate, {\n\t\t\t\t\t\t\ttype: this.props.type, \n\t\t\t\t\t\t\tclassName: \"edge-coordinate\", \n\t\t\t\t\t\t\tshow: true, \n\t\t\t\t\t\t\tx1: x1 + this.props._chart.origin[0], y1: y1 + this.props._chart.origin[1], \n\t\t\t\t\t\t\tx2: edgeX + this.props._chart.origin[0], y2: y1 + this.props._chart.origin[1], \n\t\t\t\t\t\t\tcoordinate: this.props.displayFormat(yValue), \n\t\t\t\t\t\t\tedgeAt: edgeX, \n\t\t\t\t\t\t\torient: this.props.orient}\n\t\t\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn edge;\n\t\t},\n\t\trender:function() {\n\t\t\treturn this.renderEdge();\n\t\t}\n\t});\n\n\tmodule.exports = EdgeIndicator;\n\n\t/*\n\t<EdgeCoordinate\n\t\t\t\t\ttype={this.props.type}\n\t\t\t\t\tclassName={this.props.className}\n\t\t\t\t\tshow={true}\n\t\t\t\t\tx1={this.props._x1} y1={this.props._y1}\n\t\t\t\t\tx2={this.props._width + this.props.yAxisPad} y2={this.props._mouseXY[1]}\n\t\t\t\t\tcoordinate={this.props._yDisplayValue}\n\t\t\t\t\tedgeAt={this.props._width + this.props.yAxisPad}\n\t\t\t\t\torient=\"right\"\n\t\t\t\t\t/>\n\t*/\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_23__;\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_24__;\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar React = __webpack_require__(23);\n\tvar EventCapture = __webpack_require__(13);\n\tvar MouseCoordinates = __webpack_require__(14);\n\tvar Utils = __webpack_require__(32);\n\n\tvar Freezer = __webpack_require__(36);\n\t// Let's create a freezer store\n\tfunction getLongValue(value) {\n\t\tif (value instanceof Date) {\n\t\t\treturn value.getTime();\n\t\t}\n\t\treturn value;\n\t}\n\tvar EventCaptureMixin = {\n\t\tdoesContainChart:function() {\n\t\t\tvar children = Array.isArray(this.props.children)\n\t\t\t\t? this.props.children\n\t\t\t\t: [this.props.children];\n\n\t\t\treturn children\n\t\t\t\t.filter(function(child)  {return /Chart$/.test(child.props.namespace);})\n\t\t\t\t.length > 0;\n\t\t},\n\t\tcomponentWillMount:function() {\n\t\t\tif (this.doesContainChart()) {\n\t\t\t\t// console.log('EventCaptureMixin.componentWillMount', this.state);\n\t\t\t\tvar eventStore = new Freezer({\n\t\t\t\t\tmouseXY: [0, 0],\n\t\t\t\t\tmouseOver: { value: false },\n\t\t\t\t\tinFocus: { value: true } // TODO change to false later\n\t\t\t\t});\n\t\t\t\tvar zoomEventStore = new Freezer({\n\t\t\t\t\tzoom: 0\n\t\t\t\t});\n\t\t\t\tvar chartStore  = new Freezer({\n\t\t\t\t\tcharts: [],\n\t\t\t\t\tupdateMode: { immediate : true }\n\t\t\t\t});\n\n\t\t\t\tvar passThroughProps = {};\n\t\t\t\tif (this.isDataDransform && this.isDataDransform()) {\n\t\t\t\t\tpassThroughProps = this.transformData(this.props);\n\t\t\t\t}\n\n\t\t\t\tvar currentItemStore = new Freezer({\n\t\t\t\t\tcurrentItems: [],\n\t\t\t\t\tviewPortXRange: [],\n\t\t\t\t\tviewPortXDelta: 30\n\t\t\t\t});\n\t\t\t\tvar fullData, data;\n\t\t\t\tif (passThroughProps && passThroughProps._stockScale) {\n\t\t\t\t\tcurrentItemStore.get().set({ interval : 'D' });\n\n\t\t\t\t\t//fullData = passThroughProps.data[currentItemStore.get().interval];\n\t\t\t\t\tfullData = passThroughProps.data;\n\t\t\t\t\tdata = fullData[currentItemStore.get().interval];\n\t\t\t\t} else {\n\t\t\t\t\tfullData = this.props.data;\n\t\t\t\t\tdata = fullData;\n\t\t\t\t}\n\n\t\t\t\tReact.Children.forEach(this.props.children, function(child)  {\n\t\t\t\t\tif (\"ReStock.Chart\" === child.props.namespace) {\n\t\t\t\t\t\tvar chartProps = child.props;\n\n\t\t\t\t\t\tvar dimensions = this.getDimensions(this.props, chartProps);\n\t\t\t\t\t\tvar threshold = dimensions.width / 4;\n\t\t\t\t\t\tif (data.length > threshold) {\n\t\t\t\t\t\t\tdata = data.slice(data.length - threshold);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//var charts = chartStore.get().charts.push(this.createChartData(child.props.id));\n\t\t\t\t\t\t//var _chartData = charts[charts.length - 1];\n\t\t\t\t\t\tvar _chartData = this.getChartDataFor(this.props, chartProps, data, fullData, passThroughProps);\n\t\t\t\t\t\t_chartData.id = child.props.id;\n\t\t\t\t\t\tchartStore.get().charts.push(_chartData);\n\t\t\t\t\t}\n\t\t\t\t}.bind(this));\n\n\t\t\t\tvar stores = {\n\t\t\t\t\t\teventStore: eventStore,\n\t\t\t\t\t\tchartStore: chartStore,\n\t\t\t\t\t\tcurrentItemStore: currentItemStore,\n\t\t\t\t\t\tzoomEventStore: zoomEventStore,\n\t\t\t\t\t\tfullData: fullData,\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\tpassThroughProps: passThroughProps\n\t\t\t\t\t};\n\t\t\t\t// console.log(stores);\n\t\t\t\tthis.setState(stores);\n\t\t\t}\n\t\t},\n\t\tgetEventStore:function() {\n\t\t\treturn this.state.eventStore;\n\t\t},\n\t\tupdateEventStore:function(eventStore, zoomEventStore) {\n\t\t\tthis.unListen();\n\n\t\t\tvar newState = {\n\t\t\t\teventStore: eventStore,\n\t\t\t\tchartStore: this.state.chartStore,\n\t\t\t\tcurrentItemStore: this.state.currentItemStore,\n\t\t\t\tzoomEventStore: zoomEventStore || this.state.zoomEventStore\n\t\t\t};\n\t\t\tthis.setState(newState, function()  { this.listen(newState) }.bind(this));\n\t\t},\n\t\tcomponentWillUnmount:function() {\n\t\t\tif (this.doesContainChart()) {\n\t\t\t\tthis.unListen();\n\t\t\t}\n\t\t},\n\t\tunListen:function() {\n\t\t\tif (this.state.eventStore !== undefined) {\n\t\t\t\tthis.state.eventStore.off('update', this.eventListener);\n\t\t\t}\n\t\t\tif (this.state.chartStore !== undefined) {\n\t\t\t\tthis.state.chartStore.off('update', this.dataListener);\n\t\t\t}\n\t\t\tif (this.state.zoomEventStore !== undefined) {\n\t\t\t\tthis.state.zoomEventStore.off('update', this.zoomEventListener);\n\t\t\t}\n\t\t},\n\t\teventListener:function(d) {\n\t\t\t//console.log('events updated...', d);\n\t\t\t//this.state.chartStore.get().currentItem.set({value : new Date().getTime()});\n\t\t\tif (this.state.chartStore.get().updateMode.immediate) {\n\t\t\t\tthis.state.chartStore.get().charts.forEach(function(chart)  {\n\t\t\t\t\tthis.updateCurrentItemForChart(chart);\n\t\t\t\t}.bind(this));\n\t\t\t\tif (this.state.eventStore.get().pan) {\n\t\t\t\t\trequestAnimationFrame(function()  {\n\n\t\t\t\t\t\tvar mainChart = this.state.currentItemStore.get().mainChart;\n\t\t\t\t\t\tvar chart = this.getChartForId(mainChart);\n\t\t\t\t\t\t//var domain = chart.scales.xScale.domain();\n\t\t\t\t\t\tvar domain = this.state.eventStore.get().dragOriginDomain;\n\t\t\t\t\t\tvar domainRange = domain[1] - domain[0];\n\n\t\t\t\t\t\t// domainRange = domain[1] - domain[0];\n\t\t\t\t\t\t// get width of mainChart\n\t\t\t\t\t\tvar fullData = this.state.fullData[this.state.currentItemStore.get().interval];\n\t\t\t\t\t\tvar last = fullData[fullData.length - 1];\n\t\t\t\t\t\tvar first = fullData[0];\n\n\t\t\t\t\t\tvar domainStart = Math.round(getLongValue(domain[0]) - this.state.eventStore.get().dx/chart.width * domainRange)\n\t\t\t\t\t\tif (domainStart < getLongValue(chart.accessors.xAccessor(first)) - Math.floor(domainRange/3)) {\n\t\t\t\t\t\t\tdomainStart = getLongValue(chart.accessors.xAccessor(first)) - Math.floor(domainRange/3)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdomainStart = Math.min(getLongValue(chart.accessors.xAccessor(last))\n\t\t\t\t\t\t\t\t+ Math.ceil(domainRange/3), domainStart + domainRange) - domainRange;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/*console.log('pan in progress...', this.state.eventStore.get().dx, domain[0], domainRange\n\t\t\t\t\t\t\t, new Date(domainStart));*/\n\n\t\t\t\t\t\tvar domainL = domainStart, domainR = domainStart + domainRange\n\t\t\t\t\t\tif (domain[0] instanceof Date) {\n\t\t\t\t\t\t\tdomainL = new Date(domainL);\n\t\t\t\t\t\t\tdomainR = new Date(domainR);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.state.currentItemStore.get().viewPortXRange.set([domainL, domainR]);\n\n\t\t\t\t\t\tvar data = this.calculateViewableData();\n\n\t\t\t\t\t\t// update the viewPortXRange\n\t\t\t\t\t\t// this.state.currentItemStore.get().viewPortXRange\n\n\t\t\t\t\t\tReact.Children.forEach(this.props.children, function(child)  {\n\t\t\t\t\t\t\tif (\"ReStock.Chart\" === child.props.namespace) {\n\t\t\t\t\t\t\t\tvar _chartData = this.getChartForId(child.props.id);\n\n\t\t\t\t\t\t\t\t_chartData = this.updateChartDataFor(_chartData, data.data)\n\n\t\t\t\t\t\t\t\t_chartData.scales.xScale.domain([domainL, domainR]);\n\t\t\t\t\t\t\t\t//_chartData.scales.xScale.domain(this.state.currentItemStore.get().viewPortXRange);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}.bind(this))\n\t/*\t\t\t\t\tvar thisChart = this.getChartForId(mainChart);\n\t\t\t\t\t\tthisChart = this.updateChartDataFor(thisChart, data)\n\t\t\t\t\t\tthisChart.scales.xScale.domain([domainL, domainR]);\n\t*/\t\t\t\t\t//var newXScale = this.updateXScaleDomain(chart.scales.xScale, [domainL, domainR])\n\n\t\t\t\t\t\t//chart.scales.set({ xScale: newXScale });\n\n\t\t\t\t\t\t/*this.setState({\n\t\t\t\t\t\t\tdata: data\n\t\t\t\t\t\t})*/\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tdata: data.data\n\t\t\t\t\t\t})\n\t\t\t\t\t\t// this.forceUpdate();\n\t\t\t\t\t}.bind(this));\n\t\t\t\t} else {\n\t\t\t\t\t/*requestAnimationFrame(() => {\n\t\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t\t});*/\n\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcomponentWillReceiveProps:function(nextProps) {\n\t\t\tif (this.doesContainChart()) {\n\t\t\t\t/*console.log('EventCaptureMixin.componentWillReceiveProps');\n\t\t\t\tconsole.log('EventCaptureMixin.componentWillReceiveProps');\n\t\t\t\tconsole.log('EventCaptureMixin.componentWillReceiveProps');*/\n\n\t\t\t\tvar passThroughProps;\n\t\t\t\tif (this.isDataDransform && this.isDataDransform()) {\n\t\t\t\t\tpassThroughProps = this.transformData(this.props);\n\t\t\t\t}\n\n\t\t\t\tReact.Children.forEach(nextProps.children, function(child)  {\n\t\t\t\t\tif (\"ReStock.Chart\" === child.props.namespace) {\n\n\n\t\t\t\t\t\tvar chartProps = child.props;\n\n\t\t\t\t\t\tvar _chartData = this.getChartDataFor(nextProps, chartProps, nextProps.data, nextProps.data, passThroughProps);\n\t\t\t\t\t\t_chartData.id = child.props.id;\n\n\t\t\t\t\t\tvar chartData = this.getChartForId(child.props.id);\n\t\t\t\t\t\tchartData.reset(_chartData);\n\t\t\t\t\t}\n\t\t\t\t}.bind(this))\n\n\t\t\t\t//this.calculateViewableData();\n\t\t\t}\n\t\t},\n\t\tcalculateViewableData:function() {\n\t\t\tvar xRange = this.state.currentItemStore.get().viewPortXRange;\n\t\t\tvar fullData = this.getFullData()[this.state.currentItemStore.get().interval];\n\t\t\tvar data = this.state.data;\n\n\t\t\tif (xRange.length > 0) {\n\t\t\t\tvar mainChart = this.state.currentItemStore.get().mainChart,\n\t\t\t\t\tchart = this.getChartForId(mainChart);\n\n\t\t\t\tvar leftX = Utils.getClosestItemIndexes(fullData, xRange[0], chart.accessors.xAccessor);\n\t\t\t\tvar rightX = Utils.getClosestItemIndexes(fullData, xRange[1], chart.accessors.xAccessor);\n\t\t\t\t\t\t\tconsole.log('whoa whoa whoa');\n\t\t\t\tvar currentInterval = this.state.currentItemStore.get().interval;\n\t\t\t\tvar filteredData = fullData.slice(leftX.left, rightX.right);\n\t\t\t\tif (this.state.passThroughProps && this.state.passThroughProps._stockScale\n\t\t\t\t\t\t&& filteredData.length > chart.width / 3) {\n\t\t\t\t\tif (this.state.passThroughProps._multiInterval && currentInterval ==='D' ) {\n\t\t\t\t\t\tvar interval = 'W';\n\t\t\t\t\t\tthis.state.currentItemStore.get().set({ interval : interval });\n\t\t\t\t\t\tfullData = this.state.fullData[interval];\n\n\t\t\t\t\t\tleftX = Utils.getClosestItemIndexes(fullData, xRange[0], chart.accessors.xAccessor);\n\t\t\t\t\t\trightX = Utils.getClosestItemIndexes(fullData, xRange[1], chart.accessors.xAccessor);\n\t\t\t\t\t\tfilteredData = fullData.slice(leftX.left, rightX.right);\n\n\t\t\t\t\t} else if (this.state.passThroughProps._multiInterval && currentInterval ==='W' ) {\n\t\t\t\t\t\tvar interval = 'M';\n\t\t\t\t\t\tthis.state.currentItemStore.get().set({ interval : interval });\n\t\t\t\t\t\tfullData = this.state.fullData[interval];\n\n\t\t\t\t\t\tleftX = Utils.getClosestItemIndexes(fullData, xRange[0], chart.accessors.xAccessor);\n\t\t\t\t\t\trightX = Utils.getClosestItemIndexes(fullData, xRange[1], chart.accessors.xAccessor);\n\t\t\t\t\t\tfilteredData = fullData.slice(leftX.left, rightX.right);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar l = getLongValue(chart.accessors.xAccessor(this.state.data[0]));\n\t\t\t\t\t\tvar r = getLongValue(chart.accessors.xAccessor(this.state.data[this.state.data.length - 1]));\n\t\t\t\t\t\tthis.state.currentItemStore.get().set({ viewPortXRange : [l, r] });\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tdata: this.state.data\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t} else if (this.state.passThroughProps && this.state.passThroughProps._stockScale\n\t\t\t\t\t\t&& (currentInterval === 'W' || currentInterval === 'M')) {\n\t\t\t\t\t// TODO if zoom in, try to go from M to W or W to D if possible\n\t\t\t\t} else if (filteredData.length / chart.width < .03) {\n\t\t\t\t\tvar l = getLongValue(chart.accessors.xAccessor(this.state.data[0]));\n\t\t\t\t\tvar r = getLongValue(chart.accessors.xAccessor(this.state.data[this.state.data.length - 1]));\n\t\t\t\t\tthis.state.currentItemStore.get().set({ viewPortXRange : [l, r] });\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdata: this.state.data\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tdata: filteredData\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tdata: data\n\t\t\t}\n\t\t},\n\t\tzoomEventListener:function(d) {\n\t\t\t//console.log('events updated...', d);\n\t\t\t//this.state.chartStore.get().currentItem.set({value : new Date().getTime()});\n\t\t\tif (this.state.chartStore.get().updateMode.immediate) {\n\n\n\t\t\t\tvar zoomData = this.state.zoomEventStore.get(),\n\t\t\t\t\tzoomDir = zoomData.zoom,\n\t\t\t\t\tmainChart = this.state.currentItemStore.get().mainChart,\n\t\t\t\t\tchart = this.getChartForId(mainChart);\n\n\t\t\t\t// console.log('************UPDATING NOW**************- zoomDir = ', zoomDir, mainChart);\n\n\t\t\t\tthis.updateCurrentItemForChart(chart);\n\n\t\t\t\tvar item = this.getCurrentItemForChart(mainChart).data,\n\t\t\t\t\tdomain = chart.scales.xScale.domain(),\n\t\t\t\t\tcenterX = chart.accessors.xAccessor(item),\n\t\t\t\t\tleftX = centerX - domain[0],\n\t\t\t\t\trightX = domain[1] - centerX,\n\t\t\t\t\tzoom = Math.pow(1 + Math.abs(zoomDir)/2 , zoomDir),\n\t\t\t\t\tdomainL = (getLongValue(centerX) - ( leftX * zoom)),\n\t\t\t\t\tdomainR = (getLongValue(centerX) + (rightX * zoom));\n\n\t\t\t\tvar domainRange = Math.abs(domain[1] - domain[0]);\n\t\t\t\tvar fullData = this.state.fullData[this.state.currentItemStore.get().interval];\n\t\t\t\tvar last = fullData[fullData.length - 1];\n\t\t\t\tvar first = fullData[0];\n\n\t\t\t\tdomainL = Math.max(getLongValue(chart.accessors.xAccessor(first)) - Math.floor(domainRange/3), domainL)\n\t\t\t\tdomainR = Math.min(getLongValue(chart.accessors.xAccessor(last)) + Math.floor(domainRange/3), domainR)\n\n\t\t\t\tif (centerX instanceof Date) {\n\t\t\t\t\tdomainL = new Date(domainL);\n\t\t\t\t\tdomainR = new Date(domainR);\n\t\t\t\t}\n\n\n\n\n\t\t\t\tthis.state.currentItemStore.get().viewPortXRange.set([domainL, domainR]);\n\n\t\t\t\trequestAnimationFrame(function()  {\n\t\t\t\t\tvar data = this.calculateViewableData();\n\t\t\t\t\tconsole.log(domainL, domainR);\n\t\t\t\t\tvar passThroughProps = this.state.passThroughProps;\n\n\t\t\t\t\tReact.Children.forEach(this.props.children, function(child)  {\n\t\t\t\t\t\tif (\"ReStock.Chart\" === child.props.namespace) {\n\t/*\n\n\n\t*/\n\t\t\t\t\t\t\tvar _chartData = this.getChartForId(child.props.id);\n\n\t\t\t\t\t\t\t_chartData = this.updateChartDataFor(_chartData, data.data)\n\t\t\t\t\t\t\t_chartData.scales.xScale.domain(this.state.currentItemStore.get().viewPortXRange);\n\t\t\t\t\t\t}\n\t\t\t\t\t}.bind(this))\n\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tdata: data.data\n\t\t\t\t\t})\n\t\t\t\t}.bind(this));\n\n\t\t\t\t// find mainChart\n\t\t\t\t// get new domainL & R\n\t\t\t\t// if (this.props.changeIntervalIfNeeded) is present\n\t\t\t\t//\t\tcall this.props.changeIntervalIfNeeded\n\t\t\t\t//\t\tif ^ returns false\n\t\t\t\t//\t\t\trequestAnimationFrame and send down new data\n\t\t\t\t//\t\t\tupdate currentItem\n\t\t\t\t//\t\tif true\n\t\t\t\t//\t\t\tupdate currentItem\n\t\t\t\t// else\n\t\t\t\t//\t\trequestAnimationFrame and send down new data\n\t\t\t\t//\t\tupdate currentItem\n\n\t\t\t}\n\t\t},\n\t\tdataListener:function(d) {\n\t\t\t// console.log('data updated from ', this.state.chartStore.get().currentItem, ' to ', d);\n\t\t\tif (this.state.chartStore.get().updateMode.immediate) {\n\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\t// console.log('************UPDATING NOW**************');\n\t\t\t\t\t// console.log(this.state.chartStore.get().charts[0].overlays);\n\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t},\n\t\tcomponentDidMount:function() {\n\t\t\tif (this.doesContainChart()) {\n\t\t\t\t// this.state.chartStore.get().updateMode.set({ immediate: true });\n\t\t\t\tthis.listen(this.state);\n\t\t\t}\n\t\t},\n\t\tcomponentDidUpdate:function() {\n\t\t\tif (this.doesContainChart()) {\n\t\t\t\tif (! this.state.chartStore.get().updateMode.immediate)\n\t\t\t\t\tthis.state.chartStore.get().updateMode.set({ immediate: true });\n\t\t\t}\n\t\t},\n\t\tlisten:function(stores) {\n\t\t\t// console.log('begining to listen...', stores);\n\n\t\t\tstores.eventStore.on('update', this.eventListener);\n\t\t\t// stores.chartStore.on('update', this.dataListener);\n\t\t\tstores.zoomEventStore.on('update', this.zoomEventListener);\n\t\t\t// stores.chartStore.get().currentItem.getListener().on('update', this.dataListener);\n\t\t},\n\t\tupdatePropsForEventCapture:function(child) {\n\t\t\tif (\"ReStock.EventCapture\" === child.props.namespace) {\n\t\t\t\t// find mainChart and add to zoomeventstores\n\t\t\t\tif (this.state.currentItemStore.get().mainChart === undefined\n\t\t\t\t\t|| this.state.currentItemStore.get().mainChart !== child.props.mainChart) {\n\n\t\t\t\t\tthis.state.currentItemStore.get().set({ mainChart: child.props.mainChart });\n\t\t\t\t}\n\t\t\t\treturn React.addons.cloneWithProps(child, {\n\t\t\t\t\t_eventStore: this.state.eventStore,\n\t\t\t\t\t_zoomEventStore: this.state.zoomEventStore,\n\t\t\t\t\t_chartData: this.getChartForId(child.props.mainChart)\n\t\t\t\t}); \n\t\t\t}\n\t\t\treturn child;\n\t\t},\n\t\tupdatePropsForCurrentCoordinate:function(child) {\n\t\t\tif (\"ReStock.CurrentCoordinate\" === child.props.namespace) {\n\t\t\t\tvar chart = this.getChartForId(child.props.forChart);\n\t\t\t\tvar currentItem = this.getCurrentItemForChart(child.props.forChart);\n\n\t\t\t\treturn React.addons.cloneWithProps(child, {\n\t\t\t\t\t_show: this.state.eventStore.get().mouseOver.value,\n\t\t\t\t\t_chartData: chart,\n\t\t\t\t\t_currentItem: currentItem\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn child;\n\t\t},\n\t\tupdatePropsForMouseCoordinates:function(child) {\n\t\t\tif (\"ReStock.MouseCoordinates\" === child.props.namespace) {\n\t\t\t\tvar chart = this.getChartForId(child.props.forChart);\n\t\t\t\tvar currentItem = this.getCurrentItemForChart(child.props.forChart);\n\n\t\t\t\treturn React.addons.cloneWithProps(child, {\n\t\t\t\t\t_show: this.state.eventStore.get().mouseOver.value,\n\t\t\t\t\t_mouseXY: this.state.eventStore.get().mouseXY,\n\t\t\t\t\t_chartData: chart,\n\t\t\t\t\t_currentItem: currentItem\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn child;\n\t\t},\n\t\tupdatePropsForTooltipContainer:function(child) {\n\t\t\tif (\"ReStock.TooltipContainer\" === child.props.namespace) {\n\t\t\t\treturn React.addons.cloneWithProps(child, {\n\t\t\t\t\t_currentItems: this.state.currentItemStore.get().currentItems,\n\t\t\t\t\t_charts: this.state.chartStore.get().charts\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn child;\n\t\t},\n\t\tupdatePropsForEdgeContainer:function(child) {\n\t\t\tif (\"ReStock.EdgeContainer\" === child.props.namespace) {\n\t\t\t\treturn React.addons.cloneWithProps(child, {\n\t\t\t\t\t_currentItems: this.state.currentItemStore.get().currentItems,\n\t\t\t\t\t_charts: this.state.chartStore.get().charts\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn child;\n\t\t},\n\t\tupdatePropsForChart:function(child) {\n\t\t\tvar newChild = child;\n\t\t\tif (\"ReStock.Chart\" === child.props.namespace) {\n\t\t\t\tif (this.state.eventStore && this.state.chartStore) {\n\t\t\t\t\tvar _chartData = this.getChartForId(newChild.props.id);\n\t\t\t\t\tnewChild = React.addons.cloneWithProps(newChild, {\n\t\t\t\t\t\t_updateMode: this.state.chartStore.get().updateMode,\n\t\t\t\t\t\t_chartData: _chartData,\n\t\t\t\t\t\tdata: this.getData(),\n\t\t\t\t\t\t//_pan: this.state.eventStore.get().pan,\n\t\t\t\t\t\t//_isMainChart: newChild.props.id === this.state.currentItemStore.get().mainChart/**/\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn newChild;\n\t\t},\n\t\tgetData:function(range) {\n\t\t\treturn this.state.data;\n\t\t},\n\t\tgetFullData:function() {\n\t\t\treturn this.state.fullData;\n\t\t},\n\t\tgetChartForId:function(chartId) {\n\t\t\tvar charts = this.state.chartStore.get().charts;\n\t\t\tvar filteredCharts = charts.filter(function(eachChart)  {return eachChart.id === chartId;});\n\t\t\tif (filteredCharts.length > 1) {\n\t\t\t\tvar errorMessage = (\"multiple charts with the same id \" +  chartId + \" found\");\n\t\t\t\tconsole.warn(errorMessage);\n\t\t\t\tthrow new Error(errorMessage);\n\t\t\t}\n\t\t\tif (filteredCharts.length === 0) {\n\t\t\t\tcharts = charts.push(createChartData(chartId));\n\t\t\t\treturn this.getChartForId(chartId);\n\t\t\t}\n\t\t\treturn filteredCharts[0];\n\t\t},\n\t\tcreateChartData:function(chartId) {\n\t\t\tvar chart = {\n\t\t\t\t\tid: chartId,\n\t\t\t\t\tscales: { xScale: null, yScale: null },\n\t\t\t\t\taccessors: { xAccessor: null, yAccessor: null },\n\t\t\t\t\tlastItem: {},\n\t\t\t\t\tfirstItem: {},\n\t\t\t\t\toverlays: [],\n\t\t\t\t\toverlayValues: []\n\t\t\t\t};\n\t\t\treturn chart;\n\t\t},\n\t\tgetCurrentItemForChart:function(chartId) {\n\t\t\tvar currentItems = this.state.currentItemStore.get().currentItems;\n\t\t\tvar filteredCurrentItems = currentItems.filter(function(each)  {return each.id === chartId;});\n\t\t\tif (filteredCurrentItems.length > 1) {\n\t\t\t\tvar errorMessage = (\"multiple filteredCurrentItems with the same id \" +  chartId + \" found\");\n\t\t\t\tconsole.warn(errorMessage);\n\t\t\t\tthrow new Error(errorMessage);\n\t\t\t}\n\t\t\tif (filteredCurrentItems.length === 0) {\n\t\t\t\tvar currentItem = {\n\t\t\t\t\tid: chartId,\n\t\t\t\t\tdata: {}\n\t\t\t\t};\n\t\t\t\tcurrentItems = currentItems.push(currentItem);\n\t\t\t\treturn this.getCurrentItemForChart(chartId);\n\t\t\t}\n\t\t\treturn filteredCurrentItems[0];\n\t\t},\n\t\tupdateCurrentItemForChart:function(chartData) {\n\t\t\tvar currentItem = this.getCurrentItemForChart(chartData.id);\n\t\t\tvar mouseXY = this.state.eventStore.get().mouseXY;\n\t\t\tif (chartData.scales.xScale === null) {\n\t\t\t\tconsole.warn('Verify if the the <Chart id=... > matches with the forChart=... This error likely because a Chart defined with id={%s} is not found', chartData.id);\n\t\t\t}\n\t\t\tvar xValue = chartData.scales.xScale.invert(mouseXY[0]);\n\t\t\tvar item = Utils.getClosestItem(this.getData(), xValue, chartData.accessors.xAccessor);\n\n\t\t\tcurrentItem = currentItem.data.reset(item);\n\t\t\t// console.log(currentItem);\n\t\t},\n\t\t_renderChildren:function(children) {\n\t\t\tif (this.doesContainChart()) {\n\t\t\t\treturn React.Children.map(children, function(child)  {\n\t\t\t\t\tif (typeof child.type === 'string') return child;\n\t\t\t\t\tvar newChild = child;\n\t\t\t\t\tnewChild = this.updatePropsForEventCapture(child);\n\t\t\t\t\tnewChild = this.updatePropsForMouseCoordinates(newChild);\n\t\t\t\t\tnewChild = this.updatePropsForTooltipContainer(newChild);\n\t\t\t\t\tnewChild = this.updatePropsForEdgeContainer(newChild);\n\t\t\t\t\tnewChild = this.updatePropsForChart(newChild);\n\t\t\t\t\tnewChild = this.updatePropsForCurrentCoordinate(newChild);\n\t\t\t\t\treturn newChild;\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t\treturn children;\n\t\t}\n\t};\n\n\tmodule.exports = EventCaptureMixin;\n\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar React = __webpack_require__(23),\n\t\td3 = __webpack_require__(24),\n\t\tScaleUtils = __webpack_require__(30),\n\t\tOverlayUtils = __webpack_require__(31),\n\t\tUtils = __webpack_require__(32),\n\t\tChart = __webpack_require__(6),\n\t\toverlayColors = Utils.overlayColors;\n\tvar pluck = Utils.pluck;\n\tvar keysAsArray = Utils.keysAsArray;\n\n\n\tfunction getOverlayFromList(overlays, id) {\n\t\treturn overlays.map(function(each)  {return [each.id, each];})\n\t\t\t.filter(function(eachMap)  {return eachMap[0] === id;})\n\t\t\t.map(function(eachMap)  {return eachMap[1];})[0];\n\t}\n\n\n\tvar ChartContainerMixin = {\n\t\tgetDimensions:function(_props, chartProps) {\n\n\t\t\tvar availableWidth = _props._width || this.getAvailableWidth(_props);\n\t\t\tvar availableHeight = _props._height || this.getAvailableHeight(_props);\n\n\t\t\tvar width = chartProps.width || availableWidth;\n\t\t\tvar height = chartProps.height || availableHeight\n\n\t\t\treturn {\n\t\t\t\tavailableWidth: availableWidth,\n\t\t\t\tavailableHeight: availableHeight,\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t}\n\t\t},\n\t\tgetChartDataFor:function(_props, chartProps, data, fullData, passThroughProps) {\n\t\t\tvar dimensions = this.getDimensions(_props, chartProps);\n\n\t\t\tvar scales = this.defineScales(chartProps, data, passThroughProps);\n\n\t\t\tvar accessors = this.getXYAccessors(chartProps, passThroughProps);\n\t\t\t// identify overlays\n\t\t\tvar overlaysToAdd = this.identifyOverlaysToAdd(chartProps);\n\t\t\t// console.log(overlaysToAdd);\n\t\t\t// calculate overlays\n\t\t\tthis.calculateOverlays(fullData, overlaysToAdd);\n\n\t\t\tvar overlayYAccessors = pluck(keysAsArray(overlaysToAdd), 'yAccessor');\n\n\t\t\tvar xyValues = ScaleUtils.flattenData(data, [accessors.xAccessor], [accessors.yAccessor].concat(overlayYAccessors));\n\n\t\t\tvar overlayValues = this.updateOverlayFirstLast(data, overlaysToAdd)\n\n\t\t\tscales = this.updateScales(\n\t\t\t\txyValues\n\t\t\t\t, scales\n\t\t\t\t, data\n\t\t\t\t, dimensions.width\n\t\t\t\t, dimensions.height);\n\n\t\t\tvar last = Utils.cloneMe(data[data.length - 1]);\n\t\t\tvar first = Utils.cloneMe(data[0]);\n\t\t\tvar origin = typeof chartProps.origin === 'function'\n\t\t\t\t? chartProps.origin(dimensions.availableWidth, dimensions.availableHeight)\n\t\t\t\t: chartProps.origin;\n\n\t\t\tvar drawableWidth = scales.xScale(accessors.xAccessor(data[data.length - 1]))\n\t\t\t\t- scales.xScale(accessors.xAccessor(data[0]));\n\n\t\t\tvar _chartData = {\n\t\t\t\t\twidth: dimensions.width,\n\t\t\t\t\theight: dimensions.height,\n\t\t\t\t\tdrawableWidth: drawableWidth,\n\t\t\t\t\torigin: origin,\n\t\t\t\t\toverlayValues: overlayValues,\n\t\t\t\t\toverlays: overlaysToAdd,\n\t\t\t\t\taccessors: accessors,\n\t\t\t\t\tscales: scales,\n\t\t\t\t\tlastItem: last,\n\t\t\t\t\tfirstItem: first\n\t\t\t\t};\n\t\t\treturn _chartData;\n\t\t},\n\t\tdefineScales:function(props, data, passThroughProps) {\n\t\t\tvar xScale = props.xScale || props._xScale,\n\t\t\t\tyScale = props.yScale;\n\n\t\t\tif (xScale === undefined && passThroughProps) xScale = passThroughProps._xScale;\n\n\t\t\tif (xScale === undefined) {\n\t\t\t\tvar each = data[0];\n\t\t\t\tif (typeof each === 'object') {\n\t\t\t\t\tObject.keys(each).forEach(function(key)  {\n\t\t\t\t\t\tif (Object.prototype.toString.call(each[key]) === '[object Date]') {\n\t\t\t\t\t\t\txScale = d3.time.scale();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (xScale === undefined) xScale = d3.scale.linear();\n\t\t\t\t//xScale = polyLinearTimeScale();\n\t\t\t}\n\t\t\tif (yScale === undefined) {\n\t\t\t\tyScale = d3.scale.linear();\n\t\t\t}\n\t\t\treturn { xScale: xScale, yScale: yScale };\n\t\t},\n\t\tgetXYAccessors:function(props, passThroughProps) {\n\t\t\tvar accessor = { xAccessor: null, yAccessor: null };\n\n\t\t\tReact.Children.forEach(props.children, function(child)  {\n\t\t\t\tif (['ReStock.DataSeries']\n\t\t\t\t\t\t.indexOf(child.props.namespace) > -1) {\n\t\t\t\t\tif (child.props) {\n\n\t\t\t\t\t\tvar xAccesor = passThroughProps !== undefined && passThroughProps._stockScale\n\t\t\t\t\t\t\t? passThroughProps._indexAccessor\n\t\t\t\t\t\t\t: child.props.xAccessor\n\t\t\t\t\t\taccessor.xAccessor = xAccesor;\n\t\t\t\t\t\taccessor.yAccessor = child.props.yAccessor;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t// yAccessors.push(overlayY);\n\n\t\t\treturn accessor;\n\t\t},\n\t\tidentifyOverlaysToAdd:function(props) {\n\t\t\tvar overlaysToAdd = [];\n\t\t\tReact.Children.forEach(props.children, function(child)  {\n\t\t\t\tif (/DataSeries$/.test(child.props.namespace)) {\n\t\t\t\t\tReact.Children.forEach(child.props.children, function(grandChild)  {\n\t\t\t\t\t\tif (/OverlaySeries$/.test(grandChild.props.namespace)) {\n\t\t\t\t\t\t\t// var overlay = getOverlayFromList(overlays, grandChild.props.id)\n\t\t\t\t\t\t\tvar key = OverlayUtils.getYAccessorKey(props.id, grandChild.props);\n\t\t\t\t\t\t\tvar overlay = {\n\t\t\t\t\t\t\t\tid: grandChild.props.id,\n\t\t\t\t\t\t\t\tchartId: props.id,\n\t\t\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\t\t\tyAccessor: function(d)  {return d[key];},\n\t\t\t\t\t\t\t\toptions: grandChild.props.options,\n\t\t\t\t\t\t\t\ttype: grandChild.props.type,\n\t\t\t\t\t\t\t\ttooltipLabel: OverlayUtils.getToolTipLabel(grandChild.props),\n\t\t\t\t\t\t\t\tstroke: grandChild.stroke || overlayColors(grandChild.props.id)\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\toverlaysToAdd.push(overlay);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn overlaysToAdd;\n\t\t},\n\t\tcalculateOverlays:function(fullData, overlays) {\n\t\t\tif (Array.isArray(fullData)) {\n\t\t\t\toverlays\n\t\t\t\t\t.filter(function(eachOverlay)  {return eachOverlay.id !== undefined;})\n\t\t\t\t\t.forEach(function(overlay)  {\n\t\t\t\t\t\tOverlayUtils.calculateOverlay(fullData, overlay);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tObject.keys(fullData)\n\t\t\t\t\t.filter(function(key)  {return ['D', 'W', 'M'].indexOf(key) > -1;})\n\t\t\t\t\t.forEach(function(key)  {\n\t\t\t\t\t\toverlays\n\t\t\t\t\t\t\t.filter(function(eachOverlay)  {return eachOverlay.id !== undefined;})\n\t\t\t\t\t\t\t.forEach(function(overlay)  {\n\t\t\t\t\t\t\t\tOverlayUtils.calculateOverlay(fullData[key], overlay);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t}\n\t\t\t// console.log(overlays);\n\t\t},\n\t\tupdateOverlayFirstLast:function(data,\n\t\t\toverlays) {\n\n\t\t\t// console.log('updateOverlayFirstLast');\n\n\t\t\tvar overlayValues = [];\n\n\t\t\toverlays\n\t\t\t\t.forEach(function(eachOverlay, idx)  {\n\t\t\t\t\t// console.log(JSON.stringify(first), Object.keys(first), yAccessor(first));\n\t\t\t\t\toverlayValues.push({\n\t\t\t\t\t\tid: eachOverlay.id,\n\t\t\t\t\t\tfirst: OverlayUtils.firstDefined(data, eachOverlay.yAccessor),\n\t\t\t\t\t\tlast: OverlayUtils.lastDefined(data, eachOverlay.yAccessor)\n\t\t\t\t\t})/**/\n\t\t\t\t})\n\t\t\t// console.log(_overlayValues);\n\t\t\treturn overlayValues;\n\t\t},\n\t\tupdateScales:function(xyValues, scales, data, width, height) {\n\t\t\tconsole.log('updateScales');\n\n\n\t\t\tscales.xScale.range([0, width]);\n\t\t\t// if polylinear scale then set data\n\t\t\tif (scales.xScale.isPolyLinear && scales.xScale.isPolyLinear()) {\n\t\t\t\tscales.xScale.data(data);\n\t\t\t} else {\n\t\t\t\t// else set the domain\n\t\t\t\tscales.xScale.domain(d3.extent(xyValues.xValues));\n\t\t\t}\n\n\t\t\tscales.yScale.range([height, 0]);\n\n\t\t\tvar domain = d3.extent(xyValues.yValues);\n\t\t\t//var extraPadding = Math.abs(domain[0] - domain[1]) * 0.05;\n\t\t\t//yScale.domain([domain[0] - extraPadding, domain[1] + extraPadding]);\n\t\t\tscales.yScale.domain(domain);\n\n\t\t\treturn {\n\t\t\t\txScale: scales.xScale.copy(),\n\t\t\t\tyScale: scales.yScale.copy()\n\t\t\t};\n\t\t},\n\n\t\tupdateChartDataFor:function(_chartData, data) {\n\t\t\tconsole.log('updateChartDataFor');\n\t\t\tvar scales = _chartData.scales;\n\n\t\t\tvar accessors = _chartData.accessors;\n\n\t\t\tvar overlayValues = this.updateOverlayFirstLast(data, _chartData.overlays)\n\t\t\t_chartData = _chartData.set( { overlayValues: overlayValues } ); // replace everything\n\n\t\t\tvar overlayYAccessors = pluck(keysAsArray(_chartData.overlays), 'yAccessor');\n\n\n\t\t\tvar xyValues = ScaleUtils.flattenData(data, [accessors.xAccessor], [accessors.yAccessor].concat(overlayYAccessors));\n\n\t\t\tscales = this.updateScales(\n\t\t\t\txyValues\n\t\t\t\t, scales\n\t\t\t\t, data\n\t\t\t\t, _chartData.width\n\t\t\t\t, _chartData.height);\n\n\t\t\t_chartData = _chartData.set({ scales: scales });\n\n\t\t\tvar last = Utils.cloneMe(data[data.length - 1]);\n\t\t\t_chartData = _chartData.set({ lastItem: last });\n\n\t\t\tvar first = Utils.cloneMe(data[0]);\n\t\t\t_chartData = _chartData.set({ firstItem: first });\n\t\t\treturn _chartData;\n\t\t}\n\t};\n\n\tmodule.exports = ChartContainerMixin;\n\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar ChartTransformer = __webpack_require__(34);\n\n\tvar DataTransformMixin = {\n\t\tisDataDransform:function() {\n\t\t\treturn true;\n\t\t},\n\t\ttransformData:function(props) {\n\t\t\tvar transformer = ChartTransformer.getTransformerFor(props.transformType);\n\t\t\tvar passThroughProps = transformer(props.data, props.options)\n\t\t\t// console.log('passThroughProps-------', passThroughProps);\n\n\t\t\t// this.setState({ passThroughProps: passThroughProps });\n\t\t\treturn passThroughProps;\n\t\t}\n\t};\n\n\tmodule.exports = DataTransformMixin;\n\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar d3 = __webpack_require__(24);\n\n\tvar polylineartimescale = function(indexAccessor) {\n\t\treturn guided_scale([0, 1], indexAccessor, d3.scale.linear());\n\t};\n\n\tfunction guided_scale(drawableData, indexAccessor, backingLinearScale) {\n\t\t//var  = 'week'; //valid values 'day', 'week', 'month'\n\n\t\tvar d3_time_scaleSteps = [\n\t\t\t{ step: 864e5, f: function (d, i) {return d.date !== undefined && true ;}},  // 1-day\n\t\t\t{ step: 1728e5, f: function (d, i) {return d.date !== undefined && (i % 2 == 0) ;}},  // 2-day\n\t\t\t{ step: 8380e5, f: function (d, i, arr) {\n\t\t\t\t\tif (d.startOfMonth) return true;\n\t\t\t\t\tvar list = [];\n\t\t\t\t\tif ((i - 2) >= 0) list.push(arr[i - 2]);\n\t\t\t\t\tif ((i - 1) >= 0) list.push(arr[i - 1]);\n\t\t\t\t\tlist.push(arr[i]);\n\t\t\t\t\tif ((i + 1) <= arr.length - 1) list.push(arr[i + 1]);\n\t\t\t\t\tif ((i + 2) <= arr.length - 1) list.push(arr[i + 2]);\n\t\t\t\t\tvar sm = list\n\t\t\t\t\t\t\t\t.map(function (d) { return d.startOfMonth; })\n\t\t\t\t\t\t\t\t.reduce(function(prev, curr) {\n\t\t\t\t\t\t\t\t\t\treturn prev || curr;\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\treturn sm ? false : d.startOfWeek;\n\t\t\t\t}},  // 1-week\n\t\t\t{ step: 3525e6, f: function (d) {return d.startOfMonth; }},  // 1-month\n\t\t\t{ step: 7776e6, f: function (d) {return d.startOfQuarter; }},  // 3-month\n\t\t\t{ step: 31536e6, f: function (d) {return d.startOfYear; }},  // 1-year\n\t\t\t{ step: 91536e15, f: function (d) {return d.date !== undefined && (d.startOfYear && d.date.getFullYear() % 2 == 0); }}  // 2-year\n\t\t];\n\t\tvar timeScaleStepsBisector = d3.bisector(function(d) { return d.step; }).left;\n\t\tvar __BISECT = d3.bisector(function(d) { return indexAccessor(d); }).left;\n\t\tvar tickFormat = [\n\t\t\t[d3.time.format(\"%Y\"), function(d) { return d.startOfYear; }],\n\t\t\t[d3.time.format(\"%b %Y\"), function(d) { return d.startOfQuarter; }],\n\t\t\t[d3.time.format(\"%b\"), function(d) { return d.startOfMonth; }],\n\t\t\t[d3.time.format(\"%d %b\"), function(d) { return d.startOfWeek; }],\n\t\t\t[d3.time.format(\"%a %d \"), function(d) { return true; }]\n\t\t];\n\t\tfunction formater(d) {\n\t\t\tvar i = 0, format = tickFormat[i];\n\t\t\twhile (!format[1](d)) format = tickFormat[++i];\n\t\t\tvar tickDisplay = format[0](d.date);\n\t\t\t// console.log(tickDisplay);\n\t\t\treturn tickDisplay;\n\t\t};\n\n\t\tvar ticks;\n\n\t\tfunction scale(x) {\n\t\t\treturn backingLinearScale(x);\n\t\t};\n\t\tscale.isPolyLinear = function() {\n\t\t\treturn true;\n\t\t}\n\t\tscale.invert = function(x) {\n\t\t\treturn backingLinearScale.invert(x);\n\t\t};\n\t\tscale.data = function(x) {\n\t\t\tif (!arguments.length) {\n\t\t\t\treturn drawableData;\n\t\t\t} else {\n\t\t\t\tdrawableData = x;\n\t\t\t\t//this.domain([drawableData.first().index, drawableData.last().index]);\n\t\t\t\tthis.domain([indexAccessor(drawableData[0]), indexAccessor(drawableData[drawableData.length - 1])]);\n\t\t\t\treturn scale;\n\t\t\t}\n\t\t};\n\t\tscale.domain = function(x) {\n\t\t\tif (!arguments.length) return backingLinearScale.domain();\n\t\t\t//console.log(\"before = %s, after = %s\", JSON.stringify(backingLinearScale.domain()), JSON.stringify(x))\n\t\t\tvar d = [Math.floor(x[0]), Math.ceil(x[1])]\n\n\t\t\tbackingLinearScale.domain(d);\n\t\t\treturn scale;\n\t\t};\n\t\tscale.range = function(x) {\n\t\t\tif (!arguments.length) return backingLinearScale.range();\n\t\t\tbackingLinearScale.range(x);\n\t\t\treturn scale;\n\t\t};\n\t\tscale.rangeRound = function(x) {\n\t\t\treturn backingLinearScale.range(x);\n\t\t};\n\t\tscale.clamp = function(x) {\n\t\t\tif (!arguments.length) return backingLinearScale.clamp();\n\t\t\tbackingLinearScale.clamp(x);\n\t\t\treturn scale;\n\t\t};\n\t\tscale.interpolate = function(x) {\n\t\t\tif (!arguments.length) return backingLinearScale.interpolate();\n\t\t\tbackingLinearScale.interpolate(x);\n\t\t\treturn scale;\n\t\t};\n\n\t\tscale.ticks = function(m) {\n\n\t\t\tvar start, end, count = 0;\n\t\t\tdrawableData.forEach(function (d, i) {\n\t\t\t\tif (d.date !== undefined) {\n\t\t\t\t\tif (start === undefined) start = d;\n\t\t\t\t\tend = d;\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t});\n\t\t\tm = (count/drawableData.length) * m;\n\t\t\tvar span = (end.date.getTime() - start.date.getTime());\n\t\t\tvar target = span/m;\n\t\t\t/*\n\t\t\tconsole.log(drawableData[drawableData.length - 1].date\n\t\t\t\t, drawableData[0].date\n\t\t\t\t, span\n\t\t\t\t, m\n\t\t\t\t, target\n\t\t\t\t, timeScaleStepsBisector(d3_time_scaleSteps, target)\n\t\t\t\t);\n\t\t\t*/\n\t\t\tvar ticks = drawableData\n\t\t\t\t\t\t\t.filter(d3_time_scaleSteps[timeScaleStepsBisector(d3_time_scaleSteps, target)].f)\n\t\t\t\t\t\t\t.map(function(d, i) {return indexAccessor(d);})\n\t\t\t\t\t\t\t;\n\t\t\t// return the index of all the ticks to be displayed,\n\t\t\t//console.log(target, span, m, ticks);\n\t\t\treturn ticks;\n\t\t};\n\t\tscale.tickFormat = function(ticks) {\n\t\t\treturn function(d) {\n\t\t\t\t// for each index received from ticks() function derive the formatted output\n\t\t\t\tvar tickIndex = __BISECT(drawableData, d);\n\t\t\t\treturn formater(drawableData[tickIndex]) ;\n\t\t\t\t//return formater(d) ;\n\t\t\t};\n\t\t}\n\n\t\tscale.nice = function(m) {\n\t\t\tbackingLinearScale.nice(m);\n\t\t\treturn scale;\n\t\t};\n\t\tscale.copy = function() {\n\t\t\treturn guided_scale(drawableData, indexAccessor, backingLinearScale.copy());\n\t\t};\n\t\treturn scale;\n\t}\n\n\n\tmodule.exports = polylineartimescale\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar shallowEqual = __webpack_require__(37);\n\n\t/**\n\t * If your React component's render function is \"pure\", e.g. it will render the\n\t * same result given the same props and state, provide this Mixin for a\n\t * considerable performance boost.\n\t *\n\t * Most React components have pure render functions.\n\t *\n\t * Example:\n\t *\n\t *   var ReactComponentWithPureRenderMixin =\n\t *     require('ReactComponentWithPureRenderMixin');\n\t *   React.createClass({\n\t *     mixins: [ReactComponentWithPureRenderMixin],\n\t *\n\t *     render: function() {\n\t *       return <div className={this.props.className}>foo</div>;\n\t *     }\n\t *   });\n\t *\n\t * Note: This only checks shallow equality for props and state. If these contain\n\t * complex data structures this mixin may have false-negatives for deeper\n\t * differences. Only mixin to components which have simple props and state, or\n\t * use `forceUpdate()` when you know deep data structures have changed.\n\t */\n\tvar ReStockPureRenderMixin = {\n\t\tshouldComponentUpdate: function(nextProps, nextState) {\n\t\t\tvar extraCheck = (typeof this.extraShouldComponentUpdate === \"function\")\n\t\t\t\t? this.extraShouldComponentUpdate\n\t\t\t\t: function(nextProps, nextState, actualCheck)  {return actualCheck;}\n\t\t\tvar actualCheck = !shallowEqual(this.props, nextProps) ||\n\t\t\t\t\t!shallowEqual(this.state, nextState)\n\t\t\treturn extraCheck(nextProps, nextState, actualCheck);\n\t\t}\n\t};\n\n\tmodule.exports = ReStockPureRenderMixin;\n\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tfunction pushToValues(values, eachValue) {\n\t\tif (typeof eachValue === 'object' && Object.keys(eachValue).length > 0) {\n\t\t\tObject.keys(eachValue).forEach(function (key) {\n\t\t\t\tif (!isNaN(eachValue[key])) {\n\t\t\t\t\tvalues.push(eachValue[key]);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tif (!isNaN(eachValue)) {\n\t\t\t\tvalues.push(eachValue);\n\t\t\t}\n\t\t}\n\t}\n\n\n\tvar ScaleUtils = {\n\t\tflattenData:function(data, xAccessors, yAccessors) {\n\t\t\tvar xValues = [];\n\t\t\tvar yValues = [];\n\t\t\tdata.forEach( function(row)  {\n\t\t\t\txAccessors.forEach( function(xAccessor)  {\n\t\t\t\t\tvar x = xAccessor(row);\n\t\t\t\t\tif (x !== undefined) {\n\t\t\t\t\t\tpushToValues(xValues, x);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tyAccessors.forEach( function(yAccessor)  {\n\t\t\t\t\tvar y = yAccessor(row);\n\t\t\t\t\tif (y !== undefined) {\n\t\t\t\t\t\tpushToValues(yValues, y);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t})\n\t\t\treturn {\n\t\t\t\txValues: xValues,\n\t\t\t\tyValues: yValues\n\t\t\t};\n\t\t}\n\t}\n\tmodule.exports = ScaleUtils;\n\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar Utils = __webpack_require__(32);\n\tvar MACalculator = __webpack_require__(35);\n\n\tvar OverlayUtils = {\n\t\tgetToolTipLabel:function(props) {\n\t\t\tif (props.type === \"sma\" || props.type === \"ema\") {\n\t\t\t\tvar tooltip = props.type.toUpperCase() + '(' + props.options.period + ')';\n\t\t\t\treturn tooltip;\n\t\t\t}\n\t\t\treturn 'N/A';\n\t\t},/*\n\t\tgetYAccessor(chartId, props) {\n\t\t\tif (props.type === \"sma\" || props.type === \"ema\") {\n\t\t\t\tvar key = props.type + props.options.period + '_chart_' + chartId;\n\t\t\t\treturn (d) => d[key];\n\t\t\t}\n\t\t\treturn false;\n\t\t},*/\n\t\tgetYAccessorKey:function(chartId, props) {\n\t\t\tif (props.type === \"sma\" || props.type === \"ema\") {\n\t\t\t\tvar key = props.type + props.options.period + '_chart_' + chartId;\n\t\t\t\treturn key;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tcalculateOverlay:function(data, overlay) {\n\t\t\tconsole.log(overlay);\n\t\t\tif (overlay.type === 'sma') {\n\t\t\t\tdata = MACalculator.calculateSMA(data, overlay.options.period, overlay.key, overlay.options.pluck);\n\t\t\t} else if (overlay.type === 'ema') {\n\t\t\t\tdata = MACalculator.calculateEMA(data, overlay.options.period, overlay.key, overlay.options.pluck);\n\t\t\t}\n\t\t\treturn data;\n\t\t},\n\t\tfirstDefined:function(data, accessor) {\n\t\t\tvar each;\n\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\tif (accessor(data[i]) === undefined) continue;\n\t\t\t\teach = data[i];\n\t\t\t\t// console.log(i, each, accessor(each));\n\t\t\t\tbreak;\n\t\t\t};\n\t\t\treturn Utils.cloneMe(each);\n\t\t},\n\t\tlastDefined:function(data, accessor) {\n\t\t\tvar each;\n\t\t\tfor (var i = data.length - 1; i >= 0; i--) {\n\t\t\t\tif (accessor(data[i]) === undefined) continue;\n\t\t\t\teach = data[i];\n\t\t\t\t// console.log(i, each, accessor(each));\n\t\t\t\tbreak;\n\t\t\t};\n\t\t\treturn Utils.cloneMe(each);\n\t\t}\n\t}\n\n\tmodule.exports = OverlayUtils;\n\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar d3 = __webpack_require__(24);\n\n\tvar overlayColors = d3.scale.category10();\n\n\tfunction Utils() {\n\t}\n\n\tUtils.overlayColors = overlayColors;\n\tUtils.cloneMe = function(obj) {\n\t\tif(obj == null || typeof(obj) !== 'object')\n\t\t\treturn obj;\n\t\tif (obj instanceof Date) {\n\t\t\treturn new Date(obj.getTime());\n\t\t}\n\t\tvar temp = {};//obj.constructor(); // changed\n\n\t\tfor(var key in obj) {\n\t\t\tif(obj.hasOwnProperty(key)) {\n\t\t\t\ttemp[key] = Utils.cloneMe(obj[key]);\n\t\t\t}\n\t\t}\n\t\treturn temp;\n\t}\n\tUtils.displayDateFormat = d3.time.format(\"%Y-%m-%d\");\n\tUtils.displayNumberFormat = function(x) {\n\t\treturn Utils.numberWithCommas(x.toFixed(2));\n\t};\n\tUtils.numberWithCommas = function(x) {\n\t\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n\t};\n\tUtils.isNumeric = function(n) {\n\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\n\t};\n\tUtils.mousePosition = function(e) {\n\t\tvar container = e.currentTarget,\n\t\t\trect = container.getBoundingClientRect(),\n\t\t\tx = e.clientX - rect.left - container.clientLeft,\n\t\t\ty = e.clientY - rect.top - container.clientTop,\n\t\t\txy = [ Math.round(x), Math.round(y) ];\n\t\treturn xy;\n\t}\n\tUtils.getValue = function(d) {\n\t\tif (d instanceof Date) {\n\t\t\treturn d.getTime();\n\t\t}\n\t\treturn d;\n\t}\n\tUtils.getClosestItem = function(array, value, accessor) {\n\t\tvar lo = 0, hi = array.length - 1;\n\t\twhile (hi - lo > 1) {\n\t\t\tvar mid = Math.round((lo + hi)/2);\n\t\t\tif (accessor(array[mid]) <= value) {\n\t\t\t\tlo = mid;\n\t\t\t} else {\n\t\t\t\thi = mid;\n\t\t\t}\n\t\t}\n\t\tif (accessor(array[lo]) === value) hi = lo;\n\t\tvar closest = (Math.abs(accessor(array[lo]) - value) < Math.abs(accessor(array[hi]) - value))\n\t\t\t\t\t\t\t? array[lo]\n\t\t\t\t\t\t\t: array[hi]\n\t\t//console.log(array[lo], array[hi], closest, lo, hi);\n\t\treturn Utils.cloneMe(closest);\n\t}\n\tUtils.getClosestItemIndexes = function(array, value, accessor) {\n\t\tvar lo = 0, hi = array.length - 1;\n\t\twhile (hi - lo > 1) {\n\t\t\tvar mid = Math.round((lo + hi)/2);\n\t\t\tif (accessor(array[mid]) <= value) {\n\t\t\t\tlo = mid;\n\t\t\t} else {\n\t\t\t\thi = mid;\n\t\t\t}\n\t\t}\n\t\tif (accessor(array[lo]) === value) hi = lo;\n\t\t//console.log(array[lo], array[hi], closestIndex, lo, hi);\n\t\treturn { left: lo, right: hi };\n\t}\n\tUtils.pluck = function(array, key) {\n\t\treturn array.map(function(each)  {return each[key];})\n\t}\n\tUtils.keysAsArray = function(obj) {\n\t\treturn Object.keys(obj)\n\t\t\t.filter(function(key)  {return obj[key] !== null;})\n\t\t\t.map(function(key)  {return obj[key];});\n\t}\n\tUtils.sum = function(array) {\n\t\treturn array.reduce(function(d1, d2)  {return d1 + d2;});\n\t}\n\n\tmodule.exports = Utils;\n\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar React = __webpack_require__(23);\n\n\tvar EdgeCoordinate = React.createClass({displayName: \"EdgeCoordinate\",\n\t\tpropTypes: {\n\t\t\ttype: React.PropTypes.oneOf(['vertical', 'horizontal']).isRequired,\n\t\t\tcoordinate: React.PropTypes.any.isRequired,\n\t\t\tx1: React.PropTypes.number.isRequired,\n\t\t\ty1: React.PropTypes.number.isRequired,\n\t\t\tx2: React.PropTypes.number.isRequired,\n\t\t\ty2: React.PropTypes.number.isRequired,\n\t\t\torient: React.PropTypes.oneOf(['bottom', 'top', 'left', 'right']),\n\t\t\trectWidth: React.PropTypes.number\n\t\t},\n\t\tgetDefaultProps:function() {\n\t\t\treturn {\n\t\t\t\torient: 'left'\n\t\t\t};\n\t\t},\n\t\trender:function() {\n\t\t\tif (!this.props.show) return null;\n\n\t\t\tvar displayCoordinate = this.props.coordinate;\n\t\t\tvar rectWidth = this.props.rectWidth\n\t\t\t\t? this.props.rectWidth\n\t\t\t\t: (this.props.type === 'horizontal')\n\t\t\t\t\t? 60\n\t\t\t\t\t: 100,\n\t\t\t\trectHeight = 20;\n\n\t\t\tvar edgeXRect, edgeYRect, edgeXText, edgeYText;\n\n\t\t\tif (this.props.type === 'horizontal') {\n\n\t\t\t\tedgeXRect = (this.props.orient === 'right') ? this.props.edgeAt + 1 : this.props.edgeAt - rectWidth - 1;\n\t\t\t\tedgeYRect = this.props.y1 - (rectHeight / 2);\n\t\t\t\tedgeXText = (this.props.orient === 'right') ? this.props.edgeAt + (rectWidth / 2) : this.props.edgeAt - (rectWidth / 2);\n\t\t\t\tedgeYText = this.props.y1;\n\t\t\t} else {\n\t\t\t\tedgeXRect = this.props.x1 - (rectWidth / 2);\n\t\t\t\tedgeYRect = (this.props.orient === 'bottom') ? this.props.edgeAt : this.props.edgeAt - rectHeight;\n\t\t\t\tedgeXText = this.props.x1;\n\t\t\t\tedgeYText = (this.props.orient === 'bottom') ? this.props.edgeAt + (rectHeight / 2) : this.props.edgeAt - (rectHeight / 2);\n\t\t\t}\n\t\t\tvar coordinateBase = null, coordinate = null;\n\t\t\tif (displayCoordinate !== undefined) {\n\t\t\t\t\tcoordinateBase = (React.createElement(\"rect\", {key: 1, className: \"textbg\", \n\t\t\t\t\t\t\t\t\t\tx: edgeXRect, \n\t\t\t\t\t\t\t\t\t\ty: edgeYRect, \n\t\t\t\t\t\t\t\t\t\theight: rectHeight, width: rectWidth, fill: this.props.fill}));\n\t\t\t\t\tcoordinate = (React.createElement(\"text\", {key: 2, x: edgeXText, \n\t\t\t\t\t\t\t\t\t\ty: edgeYText, \n\t\t\t\t\t\t\t\t\t\tstyle: {\"textAnchor\": \"middle\"}, \n\t\t\t\t\t\t\t\t\t\tdy: \".32em\"}, displayCoordinate));\n\t\t\t}\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"g\", {className: (this.props.show ? 'show ' : 'hide ') + this.props.className}, \n\t\t\t\t\t\tReact.createElement(\"line\", {className: \"cross-hair\", \n\t\t\t\t\t\t\tx1: this.props.x1, y1: this.props.y1, \n\t\t\t\t\t\t\tx2: this.props.x2, y2: this.props.y2}), \n\t\t\t\t\t\tcoordinateBase, \n\t\t\t\t\t\tcoordinate\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\n\tmodule.exports = EdgeCoordinate;\n\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar StockScaleTransformer = __webpack_require__(38);\n\n\tvar ChartTransformer = {\n\t\tgetTransformerFor:function(type) {\n\t\t\tif (type === \"none\")\n\t\t\t\treturn function(d)  {return d;};\n\t\t\tif (type === \"stockscale\")\n\t\t\t\treturn StockScaleTransformer;\n\t\t\treturn false;\n\t\t},\n\t\tfilter:function(data, dateAccesor, fromDate, toDate) {\n\t\t\tvar filteredData = data.filter(function(each)  {\n\t\t\t\tvar filtered = dateAccesor(each).getTime() > fromDate.getTime() && dateAccesor(each).getTime() < toDate.getTime()\n\t\t\t\treturn filtered;\n\t\t\t});\n\t\t\treturn filteredData;\n\t\t}\n\t}\n\n\tmodule.exports = ChartTransformer;\n\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar Utils = __webpack_require__(32);\n\n\tvar pluck = Utils.pluck;\n\tvar sum = Utils.sum;\n\n\tfunction MACalculator() {\n\n\t};\n\tMACalculator.calculateSMA = function(data, period, key, pluckKey) {\n\t\tconsole.log('calculateSMA');\n\n\t\tvar l = data.length - 1;//, key = 'sma' + period;\n\t\tvar maKey = pluckKey || 'close';\n\n\t\tdata.map(function(each, i)  {return data.slice(i - period, i);})\n\t\t\t.filter(function(array)  {return array.length === period && array.length > 0;})\n\t\t\t.map(function(array)  {return pluck(array, maKey);})\n\t\t\t.map(function(array)  {return sum(array);})\n\t\t\t.map(function(sum)  {return sum / period;})\n\t\t\t.reverse()\n\t\t\t.forEach(function(avg, i)  {\n\t\t\t\t// Object.defineProperty(data[l - i], key, { value: avg });\n\t\t\t\tdata[l - i][key] = avg;\n\t\t\t\t// console.log(data[l - i][key]);\n\t\t\t})\n\t\tif (key === 'sma53_chart_2') {\n\t\t\tconsole.table(data);\n\t\t}\n\t\treturn data;\n\t}\n\n\tMACalculator.calculateEMA = function (data, period) {\n\t\tconsole.log('calculating EMA');\n\t\treturn false;\n\t}\n\n\tmodule.exports = MACalculator;\n\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Freezer = __webpack_require__(39);\n\tmodule.exports = Freezer;\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright 2013-2014, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * LICENSE file in the root directory of this source tree. An additional grant\n\t * of patent rights can be found in the PATENTS file in the same directory.\n\t *\n\t * @providesModule shallowEqual\n\t */\n\n\t\"use strict\";\n\n\t/**\n\t * Performs equality by iterating through keys on an object and returning\n\t * false when any key has values which are not strictly equal between\n\t * objA and objB. Returns true when the values of all keys are strictly equal.\n\t *\n\t * @return {boolean}\n\t */\n\tfunction shallowEqual(objA, objB) {\n\t  if (objA === objB) {\n\t    return true;\n\t  }\n\t  var key;\n\t  // Test for A's keys different from B.\n\t  for (key in objA) {\n\t    if (objA.hasOwnProperty(key) &&\n\t        (!objB.hasOwnProperty(key) || objA[key] !== objB[key])) {\n\t      return false;\n\t    }\n\t  }\n\t  // Test for B's keys missing from A.\n\t  for (key in objB) {\n\t    if (objB.hasOwnProperty(key) && !objA.hasOwnProperty(key)) {\n\t      return false;\n\t    }\n\t  }\n\t  return true;\n\t}\n\n\tmodule.exports = shallowEqual;\n\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar d3 = __webpack_require__(24);\n\tvar dateFormat = d3.time.format(\"%Y-%m-%d\");\n\tvar Utils = __webpack_require__(32);\n\tvar stockScale = __webpack_require__(28);\n\n\tvar defaultOptions = {\n\t\tdateAccesor: function(d)  {return d.date;},\n\t\tindexAccessor: function(d)  {return d._idx;},\n\t\tindexMutator: function(d, i)  {d._idx = i;}\n\t}\n\n\tfunction StockScaleTransformer(data, options) {\n\t\tif (options === undefined) options = defaultOptions;\n\t\tvar dateAccesor = options.dateAccesor;\n\t\tvar dateMutator = options.dateMutator || function(d, date) {d.date = date};\n\t\tvar indexMutator = options.indexMutator;\n\n\t\tvar prevDate;\n\t\tvar responseData = {}\n\t\tresponseData.D = data\n\t\t\t//.filter((each) => Math.random() > 0.9)\n\t\t\t.map(function(each, i)  {\n\t\t\t\tvar row = each;//Utils.cloneMe(each);\n\t\t\t\t// console.log(each);\n\t\t\t\t//console.log(row);\n\t\t\t\tindexMutator(row,  i);\n\n\t\t\t\trow.startOfWeek = false;\n\t\t\t\trow.startOfMonth = false;\n\t\t\t\trow.startOfQuarter = false;\n\t\t\t\trow.startOfYear = false;\n\t\t\t\tvar date = dateAccesor(row);\n\t\t\t\t//row.displayDate = dateFormat(date);\n\t\t\t\tif (prevDate !== undefined) {\n\t\t\t\t\t// According to ISO calendar\n\t\t\t\t\t// Sunday = 0, Monday = 1, ... Saturday = 6\n\t\t\t\t\t// day of week of today < day of week of yesterday then today is start of week\n\t\t\t\t\trow.startOfWeek = date.getDay() < prevDate.getDay();\n\t\t\t\t\t// month of today != month of yesterday then today is start of month\n\t\t\t\t\trow.startOfMonth = date.getMonth() != prevDate.getMonth();\n\t\t\t\t\t//if start of month and month % 3 === 0 then it is start of quarter\n\t\t\t\t\trow.startOfQuarter = row.startOfMonth && date.getMonth() % 3 === 0;\n\t\t\t\t\t// year of today != year of yesterday then today is start of year\n\t\t\t\t\trow.startOfYear = date.getYear() != prevDate.getYear();\n\t\t\t\t}\n\t\t\t\tprevDate = date;\n\t\t\t\treturn row;\n\t\t\t});\n\t\t// console.table(responseData);\n\t\tresponseData.W = buildWeeklyData(responseData.D, indexMutator, dateAccesor, dateMutator);\n\t\tresponseData.M = buildMonthlyData(responseData.D, indexMutator, dateAccesor, dateMutator);\n\n\t\t// console.table(responseData.W);\n\n\t\treturn {\n\t\t\t\tdata: responseData,\n\t\t\t\t_dateAccessor: dateAccesor,\n\t\t\t\t_indexAccessor: options.indexAccessor,\n\t\t\t\t// _indexMutator: indexMutator,\n\t\t\t\t_stockScale: true,\n\t\t\t\t_xScale: stockScale(options.indexAccessor),\n\t\t\t\t_multiInterval: true\n\t\t\t};\n\t}\n\n\tfunction buildWeeklyData(daily, indexMutator, dateAccesor, dateMutator) {\n\t\tvar weekly = [], prevWeek, eachWeek = {};\n\t\tfor (var i = 0; i < daily.length; i++) {\n\t\t\tvar d = daily[i];\n\n\t\t\tif (dateAccesor(eachWeek)) indexMutator(eachWeek,  i);\n\n\t\t\tdateMutator(eachWeek, dateAccesor(d));\n\n\t\t\teachWeek.startOfWeek = eachWeek.startOfWeek || d.startOfWeek;\n\t\t\teachWeek.startOfMonth = eachWeek.startOfMonth || d.startOfMonth;\n\t\t\teachWeek.startOfQuarter = eachWeek.startOfQuarter || d.startOfQuarter;\n\t\t\teachWeek.startOfYear = eachWeek.startOfYear || d.startOfYear;\n\n\t\t\tif (!eachWeek.open) eachWeek.open = d.open;\n\t\t\tif (!eachWeek.high) eachWeek.high = d.high;\n\t\t\tif (!eachWeek.low) eachWeek.low = d.low;\n\n\t\t\teachWeek.close = d.close;\n\n\t\t\teachWeek.high = Math.max(eachWeek.high, d.high);\n\t\t\teachWeek.low = Math.min(eachWeek.low, d.low);\n\n\t\t\tif (!eachWeek.volume) eachWeek.volume = 0;\n\t\t\teachWeek.volume += d.volume;\n\n\t\t\tif (d.startOfWeek) {\n\t\t\t\tif (prevWeek) {\n\t\t\t\t\teachWeek.trueRange = Math.max(\n\t\t\t\t\t\teachWeek.high - eachWeek.low\n\t\t\t\t\t\t, eachWeek.high - prevWeek.close\n\t\t\t\t\t\t, eachWeek.low - prevWeek.close\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tprevWeek = eachWeek\n\t\t\t\tweekly.push(eachWeek);\n\t\t\t\teachWeek = {};\n\t\t\t}\n\t\t}\n\t\treturn weekly;\n\t}\n\n\tfunction buildMonthlyData(daily, indexMutator, dateAccesor) {\n\t\tvar monthly = [], prevMonth, eachMonth = {};\n\t\tfor (var i = 0; i < daily.length; i++) {\n\t\t\tvar d = daily[i];\n\n\t\t\tif (!eachMonth.date) indexMutator(eachMonth,  i);\n\n\t\t\teachMonth.date = dateAccesor(d);\n\n\t\t\teachMonth.startOfMonth = eachMonth.startOfMonth || d.startOfMonth;\n\t\t\teachMonth.startOfQuarter = eachMonth.startOfQuarter || d.startOfQuarter;\n\t\t\teachMonth.startOfYear = eachMonth.startOfYear || d.startOfYear;\n\n\t\t\tif (!eachMonth.open) eachMonth.open = d.open;\n\t\t\tif (!eachMonth.high) eachMonth.high = d.high;\n\t\t\tif (!eachMonth.low) eachMonth.low = d.low;\n\n\t\t\teachMonth.close = d.close;\n\n\t\t\teachMonth.high = Math.max(eachMonth.high, d.high);\n\t\t\teachMonth.low = Math.min(eachMonth.low, d.low);\n\n\t\t\tif (!eachMonth.volume) eachMonth.volume = 0;\n\t\t\teachMonth.volume += d.volume;\n\n\t\t\tif (d.startOfMonth) {\n\t\t\t\teachMonth.startOfWeek = d.startOfWeek;\n\t\t\t\tif (prevMonth) {\n\t\t\t\t\teachMonth.trueRange = Math.max(\n\t\t\t\t\t\teachMonth.high - eachMonth.low\n\t\t\t\t\t\t, eachMonth.high - prevMonth.close\n\t\t\t\t\t\t, eachMonth.low - prevMonth.close\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tprevMonth = eachMonth\n\t\t\t\tmonthly.push(eachMonth);\n\t\t\t\teachMonth = {};\n\t\t\t}\n\t\t}\n\t\treturn monthly;\n\t}\n\n\tmodule.exports = StockScaleTransformer;\n\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar Utils = __webpack_require__( 40 ),\n\t\tEmitter = __webpack_require__( 41 ),\n\t\tMixins = __webpack_require__( 42 ),\n\t\tFrozen = __webpack_require__( 43 )\n\t;\n\n\t//#build\n\tvar Freezer = function( initialValue ) {\n\t\tvar me = this;\n\n\t\t// Immutable data\n\t\tvar frozen;\n\n\t\tvar notify = function notify( eventName, node, options ){\n\t\t\tif( eventName == 'listener' )\n\t\t\t\treturn Frozen.createListener( node );\n\n\t\t\tvar updated = Frozen.update( eventName, node, options );\n\n\t\t\tif( !updated )\n\t\t\t\treturn Utils.error( 'Can\\'t udpate. The node is not in the freezer.' );\n\n\t\t\treturn updated;\n\t\t};\n\n\t\t// Create the frozen object\n\t\tfrozen = Frozen.freeze( initialValue, notify );\n\n\t\t// Listen to its changes immediately\n\t\tvar listener = frozen.getListener();\n\n\t\t// Updating flag to trigger the event on nextTick\n\t\tvar updating = false;\n\n\t\tlistener.on( 'immediate', function( prevNode, updated ){\n\t\t\tif( prevNode != frozen )\n\t\t\t\treturn;\n\n\t\t\tfrozen = updated;\n\n\t\t\t// Trigger on next tick\n\t\t\tif( !updating ){\n\t\t\t\tupdating = true;\n\t\t\t\tUtils.nextTick( function(){\n\t\t\t\t\tupdating = false;\n\t\t\t\t\tme.trigger( 'update', frozen );\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tUtils.addNE( this, {\n\t\t\tget: function(){\n\t\t\t\treturn frozen;\n\t\t\t},\n\t\t\tset: function( node ){\n\t\t\t\tvar newNode = notify( 'reset', frozen, node );\n\t\t\t\tnewNode.__.listener.trigger( 'immediate', frozen, newNode );\n\t\t\t}\n\t\t});\n\n\t\tUtils.addNE( this, { getData: this.get, setData: this.set } );\n\n\t\t// The event store\n\t\tthis._events = [];\n\t}\n\n\tFreezer.prototype = Utils.createNonEnumerable({}, Emitter);\n\t//#build\n\n\tmodule.exports = Freezer;\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\t//#build\n\tvar global = (new Function(\"return this\")());\n\n\tvar Utils = {\n\t\textend: function( ob, props ){\n\t\t\tfor( var p in props ){\n\t\t\t\tob[p] = props[p];\n\t\t\t}\n\t\t\treturn ob;\n\t\t},\n\n\t\tcreateNonEnumerable: function( obj, proto ){\n\t\t\tvar ne = {};\n\t\t\tfor( var key in obj )\n\t\t\t\tne[key] = {value: obj[key] };\n\t\t\treturn Object.create( proto || {}, ne );\n\t\t},\n\n\t\terror: function( message ){\n\t\t\tvar err = new Error( message );\n\t\t\tif( console )\n\t\t\t\treturn console.error( err );\n\t\t\telse\n\t\t\t\tthrow err;\n\t\t},\n\n\t\teach: function( o, clbk ){\n\t\t\tvar i,l,keys;\n\t\t\tif( o && o.constructor == Array ){\n\t\t\t\tfor (i = 0, l = o.length; i < l; i++)\n\t\t\t\t\tclbk( o[i], i );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tkeys = Object.keys( o );\n\t\t\t\tfor( i = 0, l = keys.length; i < l; i++ )\n\t\t\t\t\tclbk( o[ keys[i] ], keys[i] );\n\t\t\t}\n\t\t},\n\n\t\taddNE: function( node, attrs ){\n\t\t\tfor( var key in attrs ){\n\t\t\t\tObject.defineProperty( node, key, {\n\t\t\t\t\tenumerable: false,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: attrs[ key ]\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t// nextTick - by stagas / public domain\n\t  \tnextTick: (function () {\n\t      var queue = [],\n\t\t\t\tdirty = false,\n\t\t\t\tfn,\n\t\t\t\thasPostMessage = !!global.postMessage,\n\t\t\t\tmessageName = 'nexttick',\n\t\t\t\ttrigger = (function () {\n\t\t\t\t\treturn hasPostMessage\n\t\t\t\t\t\t? function trigger () {\n\t\t\t\t\t\tglobal.postMessage(messageName, '*');\n\t\t\t\t\t}\n\t\t\t\t\t: function trigger () {\n\t\t\t\t\t\tsetTimeout(function () { processQueue() }, 0);\n\t\t\t\t\t};\n\t\t\t\t}()),\n\t\t\t\tprocessQueue = (function () {\n\t\t\t\t\treturn hasPostMessage\n\t\t\t\t\t\t? function processQueue (event) {\n\t\t\t\t\t\t\tif (event.source === global && event.data === messageName) {\n\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t\tflushQueue();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t: flushQueue;\n\t      \t})()\n\t      ;\n\n\t      function flushQueue () {\n\t          while (fn = queue.shift()) {\n\t              fn();\n\t          }\n\t          dirty = false;\n\t      }\n\n\t      function nextTick (fn) {\n\t          queue.push(fn);\n\t          if (dirty) return;\n\t          dirty = true;\n\t          trigger();\n\t      }\n\n\t      if (hasPostMessage) global.addEventListener('message', processQueue, true);\n\n\t      nextTick.removeListener = function () {\n\t          global.removeEventListener('message', processQueue, true);\n\t      }\n\n\t      return nextTick;\n\t  })()\n\t};\n\t//#build\n\n\n\tmodule.exports = Utils;\n\n/***/ },\n/* 41 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar Utils = __webpack_require__( 40 );\n\n\t//#build\n\n\t// The prototype methods are stored in a different object\n\t// and applied as non enumerable properties later\n\tvar emitterProto = {\n\t\ton: function( eventName, listener, once ){\n\t\t\tvar listeners = this._events[ eventName ] || [];\n\n\t\t\tlisteners.push({ callback: listener, once: once});\n\t\t\tthis._events[ eventName ] =  listeners;\n\n\t\t\treturn this;\n\t\t},\n\n\t\tonce: function( eventName, listener ){\n\t\t\tthis.on( eventName, listener, true );\n\t\t},\n\n\t\toff: function( eventName, listener ){\n\t\t\tif( typeof eventName == 'undefined' ){\n\t\t\t\tthis._events = {};\n\t\t\t}\n\t\t\telse if( typeof listener == 'undefined' ) {\n\t\t\t\tthis._events[ eventName ] = [];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar listeners = this._events[ eventName ] || [],\n\t\t\t\t\ti\n\t\t\t\t;\n\n\t\t\t\tfor (i = listeners.length - 1; i >= 0; i--) {\n\t\t\t\t\tif( listeners[i] === listener )\n\t\t\t\t\t\tlisteners.splice( i, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\ttrigger: function( eventName ){\n\t\t\tvar args = [].slice.call( arguments, 1 ),\n\t\t\t\tlisteners = this._events[ eventName ] || [],\n\t\t\t\tonceListeners = [],\n\t\t\t\ti, listener\n\t\t\t;\n\n\t\t\t// Call listeners\n\t\t\tfor (i = 0; i < listeners.length; i++) {\n\t\t\t\tlistener = listeners[i];\n\n\t\t\t\tif( listener.callback )\n\t\t\t\t\tlistener.callback.apply( null, args );\n\t\t\t\telse {\n\t\t\t\t\t// If there is not a callback, remove!\n\t\t\t\t\tlistener.once = true;\n\t\t\t\t}\n\n\t\t\t\tif( listener.once )\n\t\t\t\t\tonceListeners.push( i );\n\t\t\t}\n\n\t\t\t// Remove listeners marked as once\n\t\t\tfor( i = onceListeners.length - 1; i >= 0; i-- ){\n\t\t\t\tlisteners.splice( onceListeners[i], 1 );\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\t};\n\n\t// Methods are not enumerable so, when the stores are\n\t// extended with the emitter, they can be iterated as\n\t// hashmaps\n\tvar Emitter = Utils.createNonEnumerable( emitterProto );\n\t//#build\n\n\tmodule.exports = Emitter;\n\n/***/ },\n/* 42 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar Utils = __webpack_require__( 40 );\n\n\t//#build\n\n\t/**\n\t * Creates non-enumerable property descriptors, to be used by Object.create.\n\t * @param  {Object} attrs Properties to create descriptors\n\t * @return {Object}       A hash with the descriptors.\n\t */\n\tvar createNE = function( attrs ){\n\t\tvar ne = {};\n\n\t\tfor( var key in attrs ){\n\t\t\tne[ key ] = {\n\t\t\t\twritable: true,\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: false,\n\t\t\t\tvalue: attrs[ key]\n\t\t\t}\n\t\t}\n\n\t\treturn ne;\n\t}\n\n\tvar commonMethods = {\n\t\tset: function( attr, value ){\n\t\t\tvar attrs = attr;\n\n\t\t\tif( typeof value != 'undefined' ){\n\t\t\t\tattrs = {};\n\t\t\t\tattrs[ attr ] = value;\n\t\t\t}\n\n\t\t\treturn this.__.notify( 'merge', this, attrs );\n\t\t},\n\n\t\tgetListener: function(){\n\t\t\treturn this.__.notify( 'listener', this );\n\t\t},\n\n\t\ttoJS: function(){\n\t\t\tvar js;\n\t\t\tif( this.constructor == Array ){\n\t\t\t\tjs = new Array( this.length );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tjs = {};\n\t\t\t}\n\n\t\t\tUtils.each( this, function( child, i ){\n\t\t\t\tif( child && child.__ )\n\t\t\t\t\tjs[ i ] = child.toJS();\n\t\t\t\telse\n\t\t\t\t\tjs[ i ] = child;\n\t\t\t});\n\n\t\t\treturn js;\n\t\t}\n\t};\n\n\tvar arrayMethods = Utils.extend({\n\t\tpush: function( el ){\n\t\t\treturn this.append( [el] );\n\t\t},\n\n\t\tappend: function( els ){\n\t\t\tif( els && els.length )\n\t\t\t\treturn this.__.notify( 'splice', this, [this.length, 0].concat( els ) );\n\t\t\treturn this;\n\t\t},\n\n\t\tpop: function(){\n\t\t\tif( !this.length )\n\t\t\t\treturn this;\n\n\t\t\treturn this.__.notify( 'splice', this, [this.length -1, 1] );\n\t\t},\n\n\t\tunshift: function( el ){\n\t\t\treturn this.prepend( [el] );\n\t\t},\n\n\t\tprepend: function( els ){\n\t\t\tif( els && els.length )\n\t\t\t\treturn this.__.notify( 'splice', this, [0, 0].concat( els ) );\n\t\t\treturn this;\n\t\t},\n\n\t\tshift: function(){\n\t\t\tif( !this.length )\n\t\t\t\treturn this;\n\n\t\t\treturn this.__.notify( 'splice', this, [0, 1] );\n\t\t},\n\n\t\tsplice: function( index, toRemove, toAdd ){\n\t\t\treturn this.__.notify( 'splice', this, arguments );\n\t\t}\n\t}, commonMethods );\n\n\tvar FrozenArray = Object.create( Array.prototype, createNE( arrayMethods ) );\n\n\tvar Mixins = {\n\n\tHash: Object.create( Object.prototype, createNE( Utils.extend({\n\t\tremove: function( keys ){\n\t\t\tvar filtered = [],\n\t\t\t\tk = keys\n\t\t\t;\n\n\t\t\tif( keys.constructor != Array )\n\t\t\t\tk = [ keys ];\n\n\t\t\tfor( var i = 0, l = k.length; i<l; i++ ){\n\t\t\t\tif( this.hasOwnProperty( k[i] ) )\n\t\t\t\t\tfiltered.push( k[i] );\n\t\t\t}\n\n\t\t\tif( filtered.length )\n\t\t\t\treturn this.__.notify( 'remove', this, filtered );\n\t\t\treturn this;\n\t\t},\n\n\t\treset: function( attrs ) {\n\t\t\treturn this.__.notify( 'replaceself', this, attrs );\n\t\t}\n\n\t}, commonMethods))),\n\n\tList: FrozenArray,\n\tarrayMethods: arrayMethods\n\t};\n\t//#build\n\n\tmodule.exports = Mixins;\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar Utils = __webpack_require__( 40 ),\n\t\tMixins = __webpack_require__( 42),\n\t\tEmitter = __webpack_require__(41)\n\t;\n\n\t//#build\n\tvar Frozen = {\n\t\tfreeze: function( node, notify ){\n\t\t\tif( node && node.__ ){\n\t\t\t\treturn node;\n\t\t\t}\n\n\t\t\tvar me = this,\n\t\t\t\tfrozen, mixin, cons\n\t\t\t;\n\n\t\t\tif( node.constructor == Array ){\n\t\t\t\tfrozen = this.createArray( node.length );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfrozen = Object.create( Mixins.Hash );\n\t\t\t}\n\n\t\t\tUtils.addNE( frozen, { __: {\n\t\t\t\tlistener: false,\n\t\t\t\tparents: [],\n\t\t\t\tnotify: notify,\n\t\t\t\tdirty: false\n\t\t\t}});\n\n\t\t\t// Freeze children\n\t\t\tUtils.each( node, function( child, key ){\n\t\t\t\tcons = child && child.constructor;\n\t\t\t\tif( cons == Array || cons == Object ){\n\t\t\t\t\tchild = me.freeze( child, notify );\n\t\t\t\t}\n\n\t\t\t\tif( child && child.__ )\n\t\t\t\t\tme.addParent( child, frozen );\n\n\t\t\t\tfrozen[ key ] = child;\n\t\t\t});\n\n\t\t\tObject.freeze( frozen );\n\n\t\t\treturn frozen;\n\t\t},\n\n\t\tupdate: function( type, node, options ){\n\t\t\tif( !this[ type ])\n\t\t\t\treturn Utils.error( 'Unknown update type: ' + type );\n\n\t\t\treturn this[ type ]( node, options );\n\t\t},\n\n\t\treset: function( node, value ){\n\t\t\tvar me = this,\n\t\t\t\tfrozen\n\t\t\t;\n\n\t\t\tif( value && value.__ ){\n\t\t\t\tfrozen = value;\n\t\t\t\tfrozen.__.listener = value.__.listener;\n\t\t\t\tfrozen.__.parents = [];\n\n\t\t\t\t// Set back the parent on the children\n\t\t\t\t// that have been updated\n\t\t\t\tthis.fixChildren( frozen, node );\n\t\t\t\tUtils.each( frozen, function( child ){\n\t\t\t\t\tif( child && child.__ ){\n\t\t\t\t\t\tme.removeParent( node );\n\t\t\t\t\t\tme.addParent( child, frozen );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfrozen = this.freeze( node, node.__.notify );\n\t\t\t}\n\n\t\t\treturn frozen;\n\t\t},\n\n\t\tmerge: function( node, attrs ){\n\t\t\tvar me = this,\n\t\t\t\tfrozen = this.copyMeta( node ),\n\t\t\t\tnotify = node.__.notify,\n\t\t\t\tval, cons, key, isFrozen\n\t\t\t;\n\n\t\t\tUtils.each( node, function( child, key ){\n\t\t\t\tisFrozen = child && child.__;\n\n\t\t\t\tif( isFrozen ){\n\t\t\t\t\tme.removeParent( child, node );\n\t\t\t\t}\n\n\t\t\t\tval = attrs[ key ];\n\t\t\t\tif( !val ){\n\t\t\t\t\tif( isFrozen )\n\t\t\t\t\t\tme.addParent( child, frozen );\n\t\t\t\t\treturn frozen[ key ] = child;\n\t\t\t\t}\n\n\t\t\t\tcons = val && val.constructor;\n\n\t\t\t\tif( cons == Array || cons == Object )\n\t\t\t\t\tval = me.freeze( val, notify );\n\n\t\t\t\tif( val && val.__ )\n\t\t\t\t\tme.addParent( val, frozen );\n\n\t\t\t\tdelete attrs[ key ];\n\n\t\t\t\tfrozen[ key ] = val;\n\t\t\t});\n\n\t\t\tfor( key in attrs ) {\n\t\t\t\tval = attrs[ key ];\n\t\t\t\tcons = val && val.constructor;\n\n\t\t\t\tif( cons == Array || cons == Object )\n\t\t\t\t\tval = me.freeze( val, notify );\n\n\t\t\t\tif( val && val.__ )\n\t\t\t\t\tme.addParent( val, frozen );\n\n\t\t\t\tfrozen[ key ] = val;\n\t\t\t}\n\n\t\t\tObject.freeze( frozen );\n\n\t\t\tthis.refreshParents( node, frozen );\n\n\t\t\treturn frozen;\n\t\t},\n\t\treplaceself: function( node, attrs ) {\n\t\t\tvar me = this,\n\t\t\t\tfrozen = this.copyMeta( node ),\n\t\t\t\tnotify = node.__.notify,\n\t\t\t\tval, cons, key\n\t\t\t;\n\t\t\tfor( key in attrs ) {\n\t\t\t\tval = attrs[ key ];\n\t\t\t\tcons = val && val.constructor;\n\n\t\t\t\tif( cons == Array || cons == Object )\n\t\t\t\t\tval = me.freeze( val, notify );\n\n\t\t\t\tif( val && val.__ )\n\t\t\t\t\tme.addParent( val, frozen );\n\n\t\t\t\tfrozen[ key ] = val;\n\t\t\t}\n\n\t\t\tObject.freeze( frozen );\n\n\t\t\tthis.refreshParents( node, frozen );\n\n\t\t\treturn frozen;\n\t\t},\n\t\tremove: function( node, attrs ){\n\t\t\tvar me = this,\n\t\t\t\tfrozen = this.copyMeta( node ),\n\t\t\t\tisFrozen\n\t\t\t;\n\n\t\t\tUtils.each( node, function( child, key ){\n\t\t\t\tisFrozen = child && child.__;\n\n\t\t\t\tif( isFrozen ){\n\t\t\t\t\tme.removeParent( child, node );\n\t\t\t\t}\n\n\t\t\t\tif( attrs.indexOf( key ) != -1 ){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif( isFrozen )\n\t\t\t\t\tme.addParent( child, frozen );\n\n\t\t\t\tfrozen[ key ] = child;\n\t\t\t});\n\n\t\t\tObject.freeze( frozen );\n\t\t\tthis.refreshParents( node, frozen );\n\n\t\t\treturn frozen;\n\t\t},\n\n\t\tsplice: function( node, args ){\n\t\t\tvar me = this,\n\t\t\t\tfrozen = this.copyMeta( node ),\n\t\t\t\tindex = args[0],\n\t\t\t\tdeleteIndex = index + args[1],\n\t\t\t\tnotify = node.__.notify,\n\t\t\t\tcon, child\n\t\t\t;\n\n\t\t\t// Clone the array\n\t\t\tUtils.each( node, function( child, i ){\n\n\t\t\t\tif( child && child.__ ){\n\t\t\t\t\tme.removeParent( child, node );\n\n\t\t\t\t\t// Skip the nodes to delete\n\t\t\t\t\tif( i < index || i>= deleteIndex )\n\t\t\t\t\t\tme.addParent( child, frozen );\n\t\t\t\t}\n\n\t\t\t\tfrozen[i] = child;\n\t\t\t});\n\n\t\t\t// Prepare the new nodes\n\t\t\tif( args.length > 1 ){\n\t\t\t\tfor (var i = args.length - 1; i >= 2; i--) {\n\t\t\t\t\tchild = args[i];\n\t\t\t\t\tcon = child && child.constructor;\n\n\t\t\t\t\tif( con == Array || con == Object )\n\t\t\t\t\t\tchild = this.freeze( child, notify );\n\n\t\t\t\t\tif( child && child.__ )\n\t\t\t\t\t\tthis.addParent( child, frozen );\n\n\t\t\t\t\targs[i] = child;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// splice\n\t\t\tArray.prototype.splice.apply( frozen, args );\n\n\t\t\tObject.freeze( frozen );\n\t\t\tthis.refreshParents( node, frozen );\n\n\t\t\treturn frozen;\n\t\t},\n\n\t\trefresh: function( node, oldChild, newChild, returnUpdated ){\n\t\t\tvar me = this,\n\t\t\t\tfrozen = this.copyMeta( node ),\n\t\t\t\t__\n\t\t\t;\n\n\t\t\tUtils.each( node, function( child, key ){\n\t\t\t\tif( child == oldChild ){\n\t\t\t\t\tchild = newChild;\n\t\t\t\t}\n\n\t\t\t\tif( child && (__ = child.__) ){\n\t\t\t\t\tif( __.dirty ){\n\t\t\t\t\t\tchild = me.refresh( child, __.dirty[0], __.dirty[1], true );\n\t\t\t\t\t}\n\n\t\t\t\t\tme.removeParent( child, node );\n\t\t\t\t\tme.addParent( child, frozen );\n\t\t\t\t}\n\n\t\t\t\tfrozen[ key ] = child;\n\t\t\t});\n\n\t\t\tObject.freeze( frozen );\n\n\t\t\t// If the node was dirty, clean it\n\t\t\tnode.__.dirty = false;\n\n\t\t\tif( returnUpdated )\n\t\t\t\treturn frozen;\n\n\t\t\tthis.refreshParents( node, frozen );\n\t\t},\n\n\t\tfixChildren: function( node, oldNode ){\n\t\t\tvar me = this;\n\t\t\tUtils.each( node, function( child ){\n\t\t\t\tif( !child || !child.__ )\n\t\t\t\t\treturn;\n\n\t\t\t\t// If the child is linked to the node,\n\t\t\t\t// maybe its children are not linked\n\t\t\t\tif( child.__.parents.indexOf( node ) != -1 )\n\t\t\t\t\treturn me.fixChildren( child );\n\n\t\t\t\t// If the child wasn't linked it is sure\n\t\t\t\t// that it wasn't modified. Just link it\n\t\t\t\t// to the new parent\n\t\t\t\tif( child.__.parents.length == 1 )\n\t\t\t\t\treturn child.__.parents = [ node ];\n\n\t\t\t\tif( oldNode )\n\t\t\t\t\tme.removeParent( child, oldNode );\n\n\t\t\t\tme.addParent( node );\n\t\t\t});\n\t\t},\n\n\t\tclean: function( node ){\n\t\t\treturn this.refresh( node, __.dirty[0], __.dirty[1], true );\n\t\t},\n\n\t\tcopyMeta: function( node ){\n\t\t\tvar me = this,\n\t\t\t\tfrozen\n\t\t\t;\n\n\t\t\tif( node.constructor == Array ){\n\t\t\t\tfrozen = this.createArray( node.length );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfrozen = Object.create( Mixins.Hash );\n\t\t\t}\n\n\t\t\tvar __ = node.__;\n\t\t\tUtils.addNE( frozen, {__: {\n\t\t\t\tnotify: __.notify,\n\t\t\t\tlistener: __.listener,\n\t\t\t\tparents: __.parents.slice( 0 ),\n\t\t\t\tdirty: false\n\t\t\t}});\n\n\t\t\treturn frozen;\n\t\t},\n\n\t\trefreshParents: function( oldChild, newChild ){\n\t\t\tvar __ = oldChild.__,\n\t\t\t\ti\n\t\t\t;\n\n\t\t\tif( __.listener )\n\t\t\t\tthis.trigger( newChild, 'update', newChild );\n\n\t\t\tif( !__.parents.length ){\n\t\t\t\tif( __.listener ){\n\t\t\t\t\t__.listener.trigger( 'immediate', oldChild, newChild );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfor (i = __.parents.length - 1; i >= 0; i--) {\n\t\t\t\t\tif( i == 0 )\n\t\t\t\t\t\tthis.refresh( __.parents[i], oldChild, newChild, false );\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.markDirty( __.parents[i], [oldChild, newChild] );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tmarkDirty: function( node, dirt ){\n\t\t\tvar __ = node.__,\n\t\t\t\ti\n\t\t\t;\n\t\t\t__.dirty = dirt;\n\n\t\t\tfor ( i = __.parents.length - 1; i >= 0; i-- ) {\n\t\t\t\tthis.markDirty( __.parents[i], dirt );\n\t\t\t}\n\t\t},\n\n\t\tremoveParent: function( node, parent ){\n\t\t\tvar parents = node.__.parents,\n\t\t\t\tindex = parents.indexOf( parent )\n\t\t\t;\n\n\t\t\tif( index != -1 ){\n\t\t\t\tparents.splice( index, 1 );\n\t\t\t}\n\t\t},\n\n\t\taddParent: function( node, parent ){\n\t\t\tvar parents = node.__.parents,\n\t\t\t\tindex = parents.indexOf( parent )\n\t\t\t;\n\n\t\t\tif( index == -1 ){\n\t\t\t\tparents[ parents.length ] = parent;\n\t\t\t}\n\t\t},\n\n\t\ttrigger: function( node, eventName, param ){\n\t\t\tvar listener = node.__.listener,\n\t\t\t\tticking = listener.ticking\n\t\t\t;\n\n\t\t\tlistener.ticking = param;\n\t\t\tif( !ticking ){\n\t\t\t\tUtils.nextTick( function(){\n\t\t\t\t\tvar updated = listener.ticking;\n\t\t\t\t\tlistener.ticking = false;\n\t\t\t\t\tlistener.trigger( eventName, updated );\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tcreateListener: function( frozen ){\n\t\t\tvar l = frozen.__.listener;\n\n\t\t\tif( !l ) {\n\t\t\t\tl = Object.create(Emitter, {\n\t\t\t\t\t_events: {\n\t\t\t\t\t\tvalue: {},\n\t\t\t\t\t\twritable: true\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfrozen.__.listener = l;\n\t\t\t}\n\n\t\t\treturn l;\n\t\t},\n\n\t\tcreateArray: (function(){\n\t\t\t// Set createArray method\n\t\t\tif( [].__proto__ )\n\t\t\t\treturn function( length ){\n\t\t\t\t\tvar arr = new Array( length );\n\t\t\t\t\tarr.__proto__ = Mixins.List;\n\t\t\t\t\treturn arr;\n\t\t\t\t}\n\t\t\treturn function( length ){\n\t\t\t\tvar arr = new Array( length ),\n\t\t\t\t\tmethods = Mixins.arrayMethods\n\t\t\t\t;\n\t\t\t\tfor( var m in methods ){\n\t\t\t\t\tarr[ m ] = methods[ m ];\n\t\t\t\t}\n\t\t\t\treturn arr;\n\t\t\t}\n\t\t})()\n\t};\n\t//#build\n\n\tmodule.exports = Frozen;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** react-stockcharts.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 09ea61e58d8519f06e9b\n **/","'use strict';\n\n// common components\nexports.ChartCanvas = require('./lib/chart-canvas');\nexports.DataTransform = require('./lib/data-transform');\n\nexports.XAxis = require('./lib/xaxis');\nexports.YAxis = require('./lib/yaxis');\nexports.Chart = require('./lib/chart');\nexports.DataSeries = require('./lib/dataseries');\n\n// chart types & Series\nexports.AreaSeries = require('./lib/area-series');\nexports.LineSeries = require('./lib/line-series');\nexports.CandlestickSeries = require('./lib/candlestick-series');\nexports.OverlaySeries = require('./lib/overlay-series');\nexports.HistogramSeries = require('./lib/histogram-series');\n// interaction components\nexports.EventCapture = require('./lib/event-capture');\nexports.MouseCoordinates = require('./lib/mouse-coordinates');\nexports.CrossHair = require('./lib/crosshair');\nexports.VerticalMousePointer = require('./lib/vertical-mouse-pointer');\nexports.CurrentCoordinate = require('./lib/current-coordinate');\n\n// Tooltips\nexports.TooltipContainer = require('./lib/tooltip-container');\nexports.OHLCTooltip = require('./lib/ohlc-tooltip');\nexports.MovingAverageTooltip = require('./lib/moving-average-tooltip');\n\n// misc\nexports.EdgeContainer = require('./lib/edge-container');\nexports.EdgeIndicator = require('./lib/edge-indicator');\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","'use strict';\nvar React = require('react/addons');\n// var TestUtils = React.addons.TestUtils;\n\nvar Chart = require('./chart');\nvar EventCaptureMixin = require('./mixin/event-capture-mixin');\nvar ChartContainerMixin = require('./mixin/chart-container-mixin');\n\nvar ChartCanvas = React.createClass({\n\tmixins: [ChartContainerMixin, EventCaptureMixin],\n\tpropTypes: {\n\t\twidth: React.PropTypes.number.isRequired\n\t\t, height: React.PropTypes.number.isRequired\n\t\t, margin: React.PropTypes.object\n\t\t, interval: React.PropTypes.string.isRequired\n\t},\n\tgetAvailableHeight(props) {\n\t\treturn props.height - props.margin.top - props.margin.bottom;\n\t},\n\tgetAvailableWidth(props) {\n\t\treturn props.width - props.margin.left - props.margin.right;\n\t},\n\tgetInitialState() {\n\t\treturn {};\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tmargin: {top: 20, right: 30, bottom: 30, left: 80},\n\t\t\tinterval: \"D\"\n\t\t};\n\t},\n\trenderChildren() {\n\n\t\tvar children = React.Children.map(this.props.children, (child) => {\n\t\t\tif (typeof child.type === 'string') return child;\n\t\t\tvar newChild = child;\n\t\t\tif ('ReStock.DataTransform' === newChild.props.namespace) {\n\t\t\t\tnewChild = React.addons.cloneWithProps(newChild, {\n\t\t\t\t\tdata: this.props.data,\n\t\t\t\t\tinterval: this.props.interval\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn React.addons.cloneWithProps(newChild, {\n\t\t\t\t_width: this.getAvailableWidth(this.props)\n\t\t\t\t, _height: this.getAvailableHeight(this.props)\n\t\t\t});\n\t\t});\n\t\treturn this._renderChildren(children);\n\t},\n\trender() {\n\n\t\tvar transform = 'translate(' + this.props.margin.left + ',' +  this.props.margin.top + ')';\n\t\tvar clipPath = '<clipPath id=\"chart-area-clip\">'\n\t\t\t\t\t\t\t+ '<rect x=\"0\" y=\"0\" width=\"' + this.getAvailableWidth(this.props) + '\" height=\"' + this.getAvailableHeight(this.props) + '\" />'\n\t\t\t\t\t\t+ '</clipPath>';\n\n\t\tvar children = this.renderChildren();\n\n\t\treturn (\n\t\t\t<svg width={this.props.width} height={this.props.height}>\n\t\t\t\t<defs dangerouslySetInnerHTML={{ __html: clipPath}}></defs>\n\t\t\t\t<g transform={transform}>{children}</g>\n\t\t\t</svg>\n\t\t);\n\t}\n});\n\nmodule.exports = ChartCanvas;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/chart-canvas.jsx\n **/","'use strict';\nvar React = require('react');\nvar EventCaptureMixin = require('./mixin/event-capture-mixin');\nvar ChartContainerMixin = require('./mixin/chart-container-mixin');\nvar DataTransformMixin = require('./mixin/data-transform-mixin');\n\nvar polyLinearTimeScale = require('./scale/polylineartimescale');\n\nvar doNotPassThrough = ['transformType', 'options', 'children', 'namespace'];\n\nfunction updatePropsToChild(child, data, props, from, to) {\n\tif (from === undefined) from = Math.max(data.length - 30, 0);\n\tif (to === undefined) to = data.length - 1;\n\t//child.props.data = data.filter();\n\tif (child.type === Chart.type || child.type === DataTransform.type) {\n\t\tchild.props.data = data;\n\t\tchild.props._width = props.width || props._width;\n\t\tchild.props._height = props.height || props._height;\n\t\tchild.props._indexAccessor = props._indexAccessor;\n\t\tchild.props._polyLinear = props.polyLinear;\n\t\tif (props.polyLinear)\n\t\t\tchild.props._xScale = polyLinearTimeScale(child.props._indexAccessor);\n\t}\n}\n\nvar DataTransform = React.createClass({\n\tmixins: [DataTransformMixin, ChartContainerMixin, EventCaptureMixin],\n\tpropTypes: {\n\t\t_height: React.PropTypes.number,\n\t\t_width: React.PropTypes.number,\n\n\t\tdata: React.PropTypes.array.isRequired,\n\t\ttransformType: React.PropTypes.string.isRequired, // stockscale, none\n\t\toptions: React.PropTypes.object\n\t},\n\tgetInitialState() {\n\t\treturn {};\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tnamespace: \"ReStock.DataTransform\",\n\t\t\ttransformType: \"none\"\n\t\t};\n\t},\n\n\trenderChildren(height, width) {\n\t\tvar children = React.Children.map(this.props.children, (child) => {\n\t\t\tif (typeof child.type === 'string') return child;\n\t\t\tvar newChild = child;\n\t\t\tvar props = {};\n\t\t\tObject.keys(this.props)\n\t\t\t\t.filter((eachProp) => doNotPassThrough.indexOf(eachProp) === -1)\n\t\t\t\t.forEach((key) => props[key] = this.props[key]);\n\n\t\t\tObject.keys(this.state.passThroughProps)\n\t\t\t\t.forEach((key) => props[key] = this.state.passThroughProps[key]);\n\n\t\t\t// console.log(Object.keys(props));\n\t\t\treturn React.addons.cloneWithProps(newChild, props);\n\t\t});\n\t\treturn this._renderChildren(children);\n\t},\n\trender() {\n\t\treturn (\n\t\t\t<g>{this.renderChildren()}</g>\n\t\t);\n\t}\n});\n\nmodule.exports = DataTransform;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/data-transform.jsx\n **/","'use strict';\nvar React = require('react'),\n\td3 = require('d3'),\n\tPureRenderMixin = require('./mixin/restock-pure-render-mixin');\n\nvar XAxis = React.createClass({\n\tmixins: [PureRenderMixin],\n\tpropTypes: {\n\t\taxisAt: React.PropTypes.oneOfType([\n\t\t\t\t\tReact.PropTypes.oneOf(['top', 'bottom', 'middle'])\n\t\t\t\t\t, React.PropTypes.number\n\t\t\t\t]).isRequired,\n\t\torient: React.PropTypes.oneOf(['top', 'bottom']).isRequired,\n\t\tinnerTickSize: React.PropTypes.number,\n\t\touterTickSize: React.PropTypes.number,\n\t\ttickFormat: React.PropTypes.func,\n\t\ttickPadding: React.PropTypes.number,\n\t\ttickSize: React.PropTypes.number,\n\t\tticks: React.PropTypes.number,\n\t\ttickValues: React.PropTypes.array\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tnamespace: \"ReStock.XAxis\",\n\t\t\tshowGrid: false\n\t\t};\n\t},\n\tgetInitialState() {\n\t\treturn {};\n\t},\n\tcomponentWillMount() {\n\t\tthis.state.xAxis = d3.svg.axis();\n\t},\n\tcomponentDidMount() {\n\t\tthis.updateAxis();\n\t},\n\tcomponentDidUpdate() {\n\t\tthis.updateAxis();\n\t},\n\tupdateAxis() {\n\t\tvar axis = d3.svg.axis()\n\t\t\t.scale(this.props._xScale)\n\t\t\t.orient(this.props.orient)\n\t\t\t//.innerTickSize(this.props.showGrid ? this.props.innerTickSize : 5)\n\t\t\t//.outerTickSize(this.props.showGrid ? this.props.outerTickSize : 5)\n\t\t\t//.tickPadding(this.props.showGrid ? 5 : 10)\n\t\t\t;\n\t\tif (this.props.orient) axis.orient(this.props.orient);\n\t\tif (this.props.innerTickSize) axis.innerTickSize(this.props.innerTickSize);\n\t\tif (this.props.outerTickSize) axis.outerTickSize(this.props.outerTickSize);\n\t\tif (this.props.tickFormat) {\n\t\t\tif (this.props._xScale.isPolyLinear && this.props._xScale.isPolyLinear())\n\t\t\t\tconsole.warn('Cannot set tickFormat on a poly linear scale, ignoring tickFormat on XAxis');\n\t\t\telse\n\t\t\t\taxis.tickFormat(this.props.tickFormat)\n\t\t};\n\t\tif (this.props.tickPadding) axis.tickPadding(this.props.tickPadding);\n\t\tif (this.props.tickSize) axis.tickSize(this.props.tickSize);\n\t\tif (this.props.ticks) axis.ticks(this.props.ticks);\n\t\tif (this.props.tickValues) axis.tickValues(this.props.tickValues);\n\t\td3.select(this.getDOMNode()).call(axis);\n\t},\n\trender() {\n\t\tvar axisAt = this.props.axisAt\n\t\t\t, range = this.props._yScale.range();\n\t\tif (this.props.axisAt === 'top') axisAt = Math.min(range[0], range[1]);\n\t\tif (this.props.axisAt === 'bottom') axisAt = Math.max(range[0], range[1]);\n\t\tif (this.props.axisAt === 'middle') axisAt = (range[0] + range[1]) / 2;\n\n\t\treturn (\n\t\t\t<g className='x axis' transform={'translate(0, ' + axisAt + ')'}></g>\n\t\t);\n\t}\n});\n\nmodule.exports = XAxis;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/xaxis.jsx\n **/","'use strict';\nvar React = require('react')\n\t, d3 = require('d3'),\n\tPureRenderMixin = require('./mixin/restock-pure-render-mixin');\n\n\nvar YAxis = React.createClass({\n\tmixins: [PureRenderMixin],\n\tpropTypes: {\n\t\taxisAt: React.PropTypes.oneOfType([\n\t\t\t\t\tReact.PropTypes.oneOf(['left', 'right', 'middle'])\n\t\t\t\t\t, React.PropTypes.number\n\t\t\t\t]).isRequired,\n\t\torient: React.PropTypes.oneOf(['left', 'right']).isRequired,\n\t\tinnerTickSize: React.PropTypes.number,\n\t\touterTickSize: React.PropTypes.number,\n\t\ttickFormat: React.PropTypes.func,\n\t\ttickPadding: React.PropTypes.number,\n\t\ttickSize: React.PropTypes.number,\n\t\tticks: React.PropTypes.number,\n\t\ttickValues: React.PropTypes.array,\n\t\tpercentScale: React.PropTypes.bool,\n\t\taxisPadding: React.PropTypes.number\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tnamespace: \"ReStock.YAxis\",\n\t\t\tshowGrid: false,\n\t\t\taxisPadding: 0\n\t\t};\n\t},\n\tgetInitialState() {\n\t\treturn {};\n\t},\n\n\tcomponentDidMount() {\n\t\tthis.updateAxis();\n\t},\n\tcomponentDidUpdate() {\n\t\tthis.updateAxis();\n\t},\n\tupdateAxis() {\n\t\tvar scale = this.props._yScale;\n\t\tif (this.props.percentScale) scale = scale.copy().domain([0, 1]);\n\n\t\tvar axis = d3.svg.axis()\n\t\t\t.scale(scale)\n\t\t\t.orient(this.props.orient)\n\t\t\t//.innerTickSize(this.props.showGrid ? this.props.innerTickSize : 5)\n\t\t\t//.outerTickSize(this.props.showGrid ? this.props.outerTickSize : 5)\n\t\t\t//.tickPadding(this.props.showGrid ? 5 : 10)\n\t\t\t;\n\t\tif (this.props.orient) axis.orient(this.props.orient);\n\t\tif (this.props.innerTickSize) axis.innerTickSize(this.props.innerTickSize);\n\t\tif (this.props.outerTickSize) axis.outerTickSize(this.props.outerTickSize);\n\t\tif (this.props.tickFormat) axis.tickFormat(this.props.tickFormat);\n\t\tif (this.props.tickPadding) axis.tickPadding(this.props.tickPadding);\n\t\tif (this.props.tickSize) axis.tickSize(this.props.tickSize);\n\t\tif (this.props.ticks) axis.ticks(this.props.ticks);\n\t\tif (this.props.tickValues) axis.tickValues(this.props.tickValues);\n\n\t\td3.select(this.getDOMNode()).call(axis);\n\t},\n\trender() {\n\t\tvar axisAt = this.props.axisAt\n\t\t\t, range = this.props._xScale.range();\n\t\tif (this.props.axisAt === 'left') axisAt = Math.min(range[0], range[1]) + this.props.axisPadding;\n\t\tif (this.props.axisAt === 'right') axisAt = Math.max(range[0], range[1]) + this.props.axisPadding;\n\t\tif (this.props.axisAt === 'middle') axisAt = (range[0] + range[1]) / 2 + this.props.axisPadding;\n\n\t\treturn (\n\t\t\t<g className='y axis' transform={'translate(' + axisAt + ', 0)'}></g>\n\t\t);\n\t}\n});\n\nmodule.exports = YAxis;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/yaxis.jsx\n **/","'use strict';\n\n// Overlays have to be calculated here so scales can be modified according to that\n\nvar React = require('react/addons'),\n\td3 = require('d3'),\n\tScaleUtils = require('./utils/scale-utils'),\n\tOverlayUtils = require('./utils/overlay-utils'),\n\tUtils = require('./utils/utils'),\n\toverlayColors = Utils.overlayColors;\n\t// logger = require('./utils/logger')\n\nvar pluck = Utils.pluck;\nvar keysAsArray = Utils.keysAsArray;\n\nfunction getOverlayFromList(overlays, id) {\n\treturn overlays.map((each) => [each.id, each])\n\t\t.filter((eachMap) => eachMap[0] === id)\n\t\t.map((eachMap) => eachMap[1])[0];\n}\n\nvar Chart = React.createClass({\n\tstatics: {\n\t\tgetWidth(props) { return props.width || props._width; },\n\t\tgetHeight(props) { return props.height || props._height; }\n\t},\n\tpropTypes: {\n\t\tdata: React.PropTypes.array.isRequired,\n\t\theight: React.PropTypes.number,\n\t\twidth: React.PropTypes.number,\n\t\torigin: React.PropTypes.oneOfType([\n\t\t\t\t\tReact.PropTypes.array\n\t\t\t\t\t, React.PropTypes.func\n\t\t\t\t]).isRequired,\n\t\tid: React.PropTypes.number.isRequired,\n\t\t_height: React.PropTypes.number,\n\t\t_width: React.PropTypes.number,\n\t\t// _showCurrent: React.PropTypes.bool,\n\t\t// if xScale and/or yScale is passed as props\n\t\t// the user needs to set \n\t\t// xDomainUpdate=false and yDomainUpdate=false\n\t\t// in order for this component to NOT update the scale on change of data\n\t\txScale: React.PropTypes.func,\n\t\tyScale: React.PropTypes.func,\n\t\txDomainUpdate: React.PropTypes.bool,\n\t\tyDomainUpdate: React.PropTypes.bool,\n\t\t// _mouseXY: React.PropTypes.array,\n\t\t_chartData: React.PropTypes.object.isRequired,\n\t\t_updateMode: React.PropTypes.object.isRequired\n\t\t/*,\n\t\t_currentItem: React.PropTypes.object,\n\t\t_lastItem: React.PropTypes.object,\n\t\t_currentMouseXY: React.PropTypes.array,\n\t\t_currentXYValue: React.PropTypes.array*/\n\t},\n\tmixins: [React.addons.PureRenderMixin],\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tnamespace: \"ReStock.Chart\",\n\t\t\ttransformDataAs: \"none\",\n\t\t\tyDomainUpdate: true,\n\t\t\torigin: [0, 0]\n\t\t};\n\t},/*\n\tidentifyOverlaysToAdd(props) {\n\t\tvar overlaysToAdd = [];\n\t\tReact.Children.forEach(props.children, (child) => {\n\t\t\tif (/DataSeries$/.test(child.props.namespace)) {\n\t\t\t\tReact.Children.forEach(child.props.children, (grandChild) => {\n\t\t\t\t\tif (/OverlaySeries$/.test(grandChild.props.namespace)) {\n\t\t\t\t\t\tvar overlay = getOverlayFromList(props._chartData.overlays, grandChild.props.id)\n\t\t\t\t\t\tvar yAccessor = OverlayUtils.getYAccessor(grandChild.props);\n\t\t\t\t\t\tif (overlay === undefined) {\n\t\t\t\t\t\t\toverlay = {\n\t\t\t\t\t\t\t\tid: grandChild.props.id,\n\t\t\t\t\t\t\t\tyAccessor: yAccessor,\n\t\t\t\t\t\t\t\toptions: grandChild.props.options,\n\t\t\t\t\t\t\t\ttype: grandChild.props.type,\n\t\t\t\t\t\t\t\ttooltipLabel: OverlayUtils.getToolTipLabel(grandChild.props),\n\t\t\t\t\t\t\t\tstroke: grandChild.stroke || overlayColors(grandChild.props.id)\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\toverlaysToAdd.push(overlay);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t})\n\t\treturn overlaysToAdd;\n\t},\n\tcomponentWillNOTMount() {\n\t\tvar _chartData = this.props._chartData;\n\n\t\tvar scales = this.defineScales(this.props);\n\t\tvar accessors = this.getXYAccessors(this.props);\n\t\t// identify overlays\n\t\tvar overlaysToAdd = this.identifyOverlaysToAdd(this.props);\n\t\t_chartData = _chartData.set({ overlays: overlaysToAdd });\n\t\t// console.log(overlaysToAdd);\n\t\t// calculate overlays\n\t\tthis.calculateOverlays(this.props.fullData, _chartData.overlays);\n\n\t\tvar overlayValues = this.updateOverlayFirstLast(this.props.data, _chartData.overlays)\n\t\t_chartData = _chartData.set( { overlayValues: overlayValues } ); // replace everything\n\n\t\tvar overlayYAccessors = pluck(keysAsArray(_chartData.overlays), 'yAccessor');\n\n\t\tscales = this.updateScales(this.props\n\t\t\t, [accessors.xAccessor]\n\t\t\t, [accessors.yAccessor].concat(overlayYAccessors)\n\t\t\t, scales.xScale\n\t\t\t, scales.yScale);\n\n\t\t_chartData = _chartData.set({ accessors: accessors });\n\t\t_chartData = _chartData.set({ scales: scales });\n\n\t\tvar last = Utils.cloneMe(this.props.data[this.props.data.length - 1]);\n\t\t_chartData = _chartData.set({ lastItem: last });\n\n\t\tvar first = Utils.cloneMe(this.props.data[0]);\n\t\t_chartData = _chartData.set({ firstItem: first });\n\n\t\tthis.setState({ chartData: _chartData });\n\t},\n\tcomponentWillNOTReceiveProps(nextProps) {\n\t\t// ignoring  _mouseXY, _currentItem, _lastItem\n\n\t\tvar scaleRecalculationNeeded = (Chart.getWidth(this.props) !== Chart.getWidth(nextProps)\n\t\t\t|| Chart.getHeight(this.props) !== Chart.getHeight(nextProps)\n\t\t\t|| this.props.xScale !== nextProps.xScale\n\t\t\t|| this.props.yScale !== nextProps.yScale\n\t\t\t|| this.props.xDomainUpdate !== nextProps.xDomainUpdate\n\t\t\t|| this.props.yDomainUpdate !== nextProps.yDomainUpdate)\n\n\t\tvar _updateMode = nextProps._updateMode;\n\t\tvar _chartData = nextProps._chartData;\n\t\tvar overlaysToAdd = this.identifyOverlaysToAdd(nextProps);\n\n\t\tvar overlays = _chartData.overlays;\n\t\tif (overlaysToAdd.length > 0)\n\t\t\toverlays = overlays.push(overlaysToAdd);\n\n\t\tif (this.props.data !== nextProps.data) {\n\t\t\tscaleRecalculationNeeded = true;\n\t\t}\n\t\t// console.log(this.props._chartData.overlays !== nextProps._chartData.overlays);\n\t\tif (this.state.chartData.overlays !== overlays) { //or if the data interval changes\n\t\t\t// TODO\n\t\t\t// if any overlay.toBeRemoved = true then overlays.splice that one out\n\t\t\tthis.calculateOverlays(nextProps.fullData, overlays);\n\n\t\t\t_updateMode = _updateMode.set({ immediate: false });\n\n\n\t\t\tscaleRecalculationNeeded = true;\n\t\t}\n\t\tif (scaleRecalculationNeeded) {\n\t\t\tvar scales = this.defineScales(nextProps, this.state.chartData.scales.xScale, this.state.chartData.scales.yScale);\n\t\t\tvar xyAccessors = this.getXYAccessors(nextProps);\n\n\t\t\t_updateMode = _updateMode.set({ immediate: false });\n\t\t\tvar overlayYAccessors = pluck(keysAsArray(overlays), 'yAccessor');\n\n\n\t\t\tvar overlayValues = this.updateOverlayFirstLast(nextProps.data, _chartData.overlays)\n\t\t\t_chartData = _chartData.set( { overlayValues: overlayValues } ); // replace everything\n\n\t\t\t// console.log(xyAccessors, overlayYAccessors);\n\n\t\t\tscales = this.updateScales(nextProps\n\t\t\t\t, [xyAccessors.xAccessor]\n\t\t\t\t, [xyAccessors.yAccessor].concat(overlayYAccessors)\n\t\t\t\t, scales.xScale\n\t\t\t\t, scales.yScale);\n\n\t\t\t_chartData = _chartData.set({ accessors: xyAccessors });\n\t\t\t_chartData = _chartData.set({ scales: scales });\n\n\t\t\tvar last = Utils.cloneMe(nextProps.data[nextProps.data.length - 1]);\n\t\t\t_chartData = _chartData.set({ lastItem: last });\n\n\t\t\tvar first = Utils.cloneMe(nextProps.data[0]);\n\t\t\t_chartData = _chartData.set({ firstItem: first });\n\n\t\t\tthis.setState({ chartData: _chartData });\n\t\t} else {\n\t\t\tthis.setState({ chartData: nextProps._chartData });\n\t\t}\n\t},\n\tcalculateOverlays(data, overlays) {\n\t\toverlays\n\t\t\t.filter((eachOverlay) => eachOverlay.id !== undefined)\n\t\t\t.forEach((overlay) => {\n\t\t\t\tOverlayUtils.calculateOverlay(data, overlay);\n\t\t\t});\n\t\t// console.table(data);\n\t\t// console.log(overlays);\n\t},\n\tupdateOverlayFirstLast(data,\n\t\toverlays) {\n\n\t\tconsole.log('updateOverlayFirstLast');\n\n\t\tvar overlayValues = [];\n\n\t\toverlays\n\t\t\t.forEach((eachOverlay, idx) => {\n\t\t\t\t// console.log(JSON.stringify(first), Object.keys(first), yAccessor(first));\n\t\t\t\toverlayValues.push({\n\t\t\t\t\tid: eachOverlay.id,\n\t\t\t\t\tfirst: OverlayUtils.firstDefined(data, eachOverlay.yAccessor),\n\t\t\t\t\tlast: OverlayUtils.lastDefined(data, eachOverlay.yAccessor)\n\t\t\t\t})\n\t\t\t})\n\t\t// console.log(_overlayValues);\n\t\treturn overlayValues;\n\t},\n\tdefineScales(props, xScaleFromState, yScaleFromState) {\n\t\tvar xScale = props.xScale || xScaleFromState || props._xScale,\n\t\t\tyScale = props.yScale || yScaleFromState;\n\n\t\tif (xScale === undefined) {\n\t\t\tvar each = props.data[0];\n\t\t\tif (typeof each === 'object') {\n\t\t\t\tObject.keys(each).forEach((key) => {\n\t\t\t\t\tif (Object.prototype.toString.call(each[key]) === '[object Date]') {\n\t\t\t\t\t\txScale = d3.time.scale();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (xScale === undefined) xScale = d3.scale.linear();\n\t\t\t//xScale = polyLinearTimeScale();\n\t\t}\n\t\tif (yScale === undefined) {\n\t\t\tyScale = d3.scale.linear();\n\t\t}\n\t\treturn { xScale: xScale, yScale: yScale };\n\t},\n\tgetXYAccessors(props) {\n\t\tvar accessor = { xAccessor: null, yAccessor: null };\n\n\t\tReact.Children.forEach(props.children, (child) => {\n\t\t\tif (['ReStock.DataSeries']\n\t\t\t\t\t.indexOf(child.props.namespace) > -1) {\n\t\t\t\tif (child.props) {\n\t\t\t\t\tvar xAccesor = props._stockScale ? props._indexAccessor : child.props.xAccessor\n\t\t\t\t\taccessor.xAccessor = xAccesor;\n\t\t\t\t\taccessor.yAccessor = child.props.yAccessor;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t// yAccessors.push(overlayY);\n\n\t\treturn accessor;\n\t},\n\tupdateScales(props, xAccessors, yAccessors, xScale, yScale) {\n\t\tconsole.log('updateScales');\n\n\t\tvar result = ScaleUtils.flattenData(props.data, xAccessors, yAccessors);\n\n\t\tif (props.xScale === undefined || props.xDomainUpdate) {\n\t\t\txScale.range([0, Chart.getWidth(props)]);\n\t\t\t// if polylinear scale then set data\n\t\t\tif (xScale.data !== undefined) {\n\t\t\t\txScale.data(props.data);\n\t\t\t} else {\n\t\t\t\t// else set the domain\n\t\t\t\txScale.domain(d3.extent(result.xValues));\n\t\t\t}\n\t\t}\n\n\t\tif (props.yScale === undefined || props.yDomainUpdate) {\n\t\t\tyScale.range([Chart.getHeight(props), 0]);\n\t\t\tvar domain = d3.extent(result.yValues);\n\t\t\t//var extraPadding = Math.abs(domain[0] - domain[1]) * 0.05;\n\t\t\t//yScale.domain([domain[0] - extraPadding, domain[1] + extraPadding]);\n\t\t\tyScale.domain(domain);\n\t\t}\n\t\treturn {\n\t\t\txScale: xScale.copy(),\n\t\t\tyScale: yScale.copy()\n\t\t};\n\t},*/\n\trenderChildren() {\n\t\treturn React.Children.map(this.props.children, (child) => {\n\t\t\tif (typeof child.type === 'string') return child;\n\t\t\tif (['ReStock.DataSeries', 'ReStock.ChartOverlay', 'ReStock.XAxis', 'ReStock.YAxis']\n\t\t\t\t.indexOf(child.props.namespace) < 0) return child;\n\n\t\t\tvar newChild = child;\n\t\t\tnewChild = React.addons.cloneWithProps(newChild, {\n\t\t\t\t_xScale: this.props._chartData.scales.xScale,\n\t\t\t\t_yScale: this.props._chartData.scales.yScale,\n\t\t\t\tdata: this.props.data,\n\t\t\t\t_xAccessor: this.props._indexAccessor\n\t\t\t});\n\t\t\tnewChild = this.updatePropsForDataSeries(newChild);\n\t\t\tif (newChild.props.xAccessor !== undefined && this.props._stockScale) {\n\t\t\t\tconsole.warn('xAccessor defined in DataSeries will override the indexAccessor of the polylinear scale. This might not be the right configuration');\n\t\t\t\tconsole.warn('Either remove the xAccessor configuration on the DataSeries or change the polyLinear=false in Translate');\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}, this);\n\t},\n\tupdatePropsForDataSeries(child) {\n\t\tif (\"ReStock.DataSeries\" === child.props.namespace) {\n\t\t\t// console.log(this.state.chartData.overlays);\n\t\t\treturn React.addons.cloneWithProps(child, {\n\t\t\t\t//_showCurrent: this.props._showCurrent,\n\t\t\t\t//_mouseXY: this.props._mouseXY,\n\t\t\t\t//_currentItem: this.state.chartData.currentItem,\n\t\t\t\t//_lastItem: this.props._chartData.lastItem,\n\t\t\t\t//_firstItem: this.props._chartData.firstItem,\n\t\t\t\t/*_currentMouseXY: this.props._currentMouseXY,\n\t\t\t\t_currentXYValue: this.props._currentXYValue,*/\n\t\t\t\t_overlays: this.props._chartData.overlays,\n\t\t\t\t_updateMode: this.props._updateMode,\n\t\t\t\t_pan: this.props._pan,\n\t\t\t\t_isMainChart: this.props._isMainChart\n\t\t\t});\n\t\t}\n\t\treturn child;\n\t},\n\trender() {\n\t\tvar height = this.props._height;\n\t\tvar width = this.props._width;\n\t\tvar origin = typeof this.props.origin === 'function' ? this.props.origin(width, height) : this.props.origin;\n\t\tvar transform = 'translate(' + origin[0] + ',' +  origin[1] + ')';\n\t\tif (this.props._pan && !this.props._isMainChart) {\n\t\t// if (this.props._pan) {\n\t\t\treturn <g></g>\n\t\t}\n\t\t// console.log(this.props._chartData);\n\t\treturn (\n\t\t\t<g transform={transform}>{this.renderChildren()}</g>\n\t\t);\n\t}\n});\n\nmodule.exports = Chart;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/chart.jsx\n **/","'use strict';\n\n// DataSeries has to hold OverlaySeries since DataSeries might define the xAccessor and it needs to be sent to OverlaySeries\n// Data series has to pass the current mouse position to the children so this has no benefit\n//     of PureRenderMixin\n\nvar React = require('react'),\n\tPureRenderMixin = require('./mixin/restock-pure-render-mixin'),\n\tUtils = require('./utils/utils'),\n\td3 = require('d3'),\n\tOverlayUtils = require('./utils/overlay-utils'),\n\toverlayColors = Utils.overlayColors;\n\nfunction getOverlayFromList(overlays, id) {\n\treturn overlays.map((each) => [each.id, each])\n\t\t.filter((eachMap) => eachMap[0] === id)\n\t\t.map((eachMap) => eachMap[1])[0];\n}\n\nvar DataSeries = React.createClass({\n\tmixins: [PureRenderMixin],\n\tpropTypes: {\n\t\txAccessor: React.PropTypes.func,\n\t\t_xAccessor: React.PropTypes.func,\n\t\tyAccessor: React.PropTypes.func.isRequired,\n\n\t\t_xScale: React.PropTypes.func,\n\t\t_yScale: React.PropTypes.func,\n\n\t\t/*_currentItem: React.PropTypes.object,\n\t\t_lastItem: React.PropTypes.object,\n\t\t_firstItem: React.PropTypes.object,*/\n\t\t_overlays: React.PropTypes.array,\n\t\t_updateMode: React.PropTypes.object\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tnamespace: \"ReStock.DataSeries\"\n\t\t};\n\t},\n\trenderChildren() {\n\t\tvar newChildren = React.Children.map(this.props.children, (child) => {\n\t\t\tvar newChild = child;\n\n\t\t\tif (typeof child.type === 'string') return newChild;\n\n\t\t\tif (/Series$/.test(newChild.props.namespace)) {\n\t\t\t\tnewChild = React.addons.cloneWithProps(newChild, {\n\t\t\t\t\t_xScale: this.props._xScale,\n\t\t\t\t\t_yScale: this.props._yScale,\n\t\t\t\t\t_xAccessor: (this.props.xAccessor || this.props._xAccessor),\n\t\t\t\t\t_yAccessor: this.props.yAccessor,\n\t\t\t\t\tdata: this.props.data\n\t\t\t\t});\n\t\t\t\tif (/OverlaySeries$/.test(newChild.props.namespace)) {\n\t\t\t\t\tvar key = newChild.props.id;\n\t\t\t\t\tvar overlay = getOverlayFromList(this.props._overlays, newChild.props.id);\n\t\t\t\t\tnewChild = React.addons.cloneWithProps(newChild, {\n\t\t\t\t\t\t_overlay: overlay,\n\t\t\t\t\t\t_pan: this.props._pan,\n\t\t\t\t\t\t_isMainChart: this.props._isMainChart\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}, this);\n\n\t\treturn newChildren;\n\t},\n\trender() {\n\t\t//throw new Error();\n\t\t// console.log('rendering dataseries...');\n\t\t/*if (this.props._pan) {\n\t\t\treturn <g></g>\n\t\t}*/\n\t\treturn (\n\t\t\t<g  style={{ \"clipPath\": \"url(#chart-area-clip)\" }}>{this.renderChildren()}</g>\n\t\t);\n\t}\n});\n\nmodule.exports = DataSeries;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/dataseries.jsx\n **/","'use strict';\nvar React = require('react'),\n\td3 = require('d3'),\n\tPureRenderMixin = require('./mixin/restock-pure-render-mixin');\n\nvar AreaSeries = React.createClass({\n\tmixins: [PureRenderMixin],\n\tpropTypes: {\n\t\t_xScale: React.PropTypes.func.isRequired,\n\t\t_yScale: React.PropTypes.func.isRequired,\n\t\t_xAccessor: React.PropTypes.func.isRequired,\n\t\t_yAccessor: React.PropTypes.func.isRequired,\n\t\tdata: React.PropTypes.array.isRequired\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tnamespace: \"ReStock.AreaSeries\"\n\t\t}\n\t},\n\tgetPath() {\n\t\tvar props = this.props;\n\t\tvar dataSeries = d3.svg.line()\n\t\t\t.defined(function(d, i) {\n\t\t\t\t\treturn (props._yAccessor(d) !== undefined);\n\t\t\t\t\t//nreturn false;\n\t\t\t\t})\n\t\t\t.x(function(d) { return props._xScale(props._xAccessor(d)); })\n\t\t\t.y(function(d) { return props._yScale(props._yAccessor(d)); });\n\t\treturn dataSeries(props.data);\n\t},\n\tgetArea() {\n\t\tvar props = this.props, height = props._yScale.range()[0];\n\t\tvar areaSeries = d3.svg.area()\n\t\t\t.defined(function(d, i) {\n\t\t\t\t\treturn (props._yAccessor(d) !== undefined);\n\t\t\t\t\t// return false;\n\t\t\t\t})\n\t\t\t.x(function(d) { return props._xScale(props._xAccessor(d)); })\n\t\t\t.y0(height - 1)\n\t\t\t.y1(function(d) { return props._yScale(props._yAccessor(d)); });\n\n\t\treturn areaSeries(props.data);\n\t},\n\trender() {\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t<path d={this.getPath()} className=\"line line-stroke\" />\n\t\t\t\t<path d={this.getArea()} className=\"area\" />\n\t\t\t</g>\n\t\t);\n\t}\n});\n\nmodule.exports = AreaSeries;\n\n/*\t\t\t\t\n\n*/\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/area-series.jsx\n **/","'use strict';\nvar React = require('react'),\n\td3 = require('d3'),\n\tPureRenderMixin = require('./mixin/restock-pure-render-mixin');\n\n\nvar LineSeries = React.createClass({\n\t// mixins: [PureRenderMixin],\n\tpropTypes: {\n\t\t_xScale: React.PropTypes.func.isRequired,\n\t\t_yScale: React.PropTypes.func.isRequired,\n\t\t_xAccessor: React.PropTypes.func.isRequired,\n\t\t_yAccessor: React.PropTypes.func.isRequired,\n\t\tdata: React.PropTypes.array.isRequired,\n\t\tclassName: React.PropTypes.string,\n\t\tstroke: React.PropTypes.string\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tnamespace: \"ReStock.LineSeries\",\n\t\t\tclassName: \"line \"\n\t\t}\n\t},\n\tgetPath() {\n\t\t// console.log('LineSeries.getPath');\n\t\tvar props = this.props;\n\t\tvar dataSeries = d3.svg.line()\n\t\t\t.defined(function(d, i) {\n\t\t\t\t\treturn (props._yAccessor(d) !== undefined);\n\t\t\t\t\t//nreturn false;\n\t\t\t\t})\n\t\t\t.x(function(d) { return props._xScale(props._xAccessor(d)); })\n\t\t\t.y(function(d) { return props._yScale(props._yAccessor(d)); });\n\t\treturn dataSeries(props.data);\n\t},\n\trender() {\n\t\tvar className = this.props.className.concat((this.props.stroke !== undefined) ? '' : ' line-stroke');\n\t\t// console.log('%s, %s, %s', className, this.props.className, this.props.stroke);\n\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t<path d={this.getPath()} stroke={this.props.stroke} fill=\"none\" className={className}/>\n\t\t\t</g>\n\t\t);\n\t}\n});\n\nmodule.exports = LineSeries;\n\n/*\t\t\t\t\n\n*/\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/line-series.jsx\n **/","'use strict';\nvar React = require('react'),\n\td3 = require('d3'),\n\tPureRenderMixin = require('./mixin/restock-pure-render-mixin');\n\n\nvar CandlestickSeries = React.createClass({\n\tmixins: [PureRenderMixin],\n\tpropTypes: {\n\t\t_xScale: React.PropTypes.func.isRequired,\n\t\t_yScale: React.PropTypes.func.isRequired,\n\t\t_xAccessor: React.PropTypes.func.isRequired,\n\t\t_yAccessor: React.PropTypes.func.isRequired\n\t},\n\tstatics: {\n\t\tyAccessor: (d) => ({open: d.open, high: d.high, low: d.low, close: d.close})\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tnamespace: \"ReStock.CandlestickSeries\"\n\t\t}\n\t},\n\tgetWicks() {\n\t\tvar wicks = this.props.data\n\t\t\t\t.filter(function (d) { return d.close !== undefined; })\n\t\t\t\t.map(function(d, idx) {\n\t\t\t\t\tvar ohlc = this.props._yAccessor(d);\n\n\t\t\t\t\tvar x1 = Math.round(this.props._xScale(this.props._xAccessor(d))),\n\t\t\t\t\t\ty1 = this.props._yScale(ohlc.high),\n\t\t\t\t\t\tx2 = x1,\n\t\t\t\t\t\ty2 = this.props._yScale(ohlc.low),\n\t\t\t\t\t\tclassName = (ohlc.open >= ohlc.close) ? 'up' : 'down';\n\t\t\t\t\tvar path = 'M' + x1 + ' ' + y1 + 'L' + x2 + ' ' + y2;\n\t\t\t\t\t//return <path key={idx} d={path} className={className} />\n\t\t\t\t\t/* */\n\t\t\t\t\treturn <line key={idx}\n\t\t\t\t\t\t\t\t\tclassName={className}\n\t\t\t\t\t\t\t\t\tx1={x1}\n\t\t\t\t\t\t\t\t\ty1={y1}\n\t\t\t\t\t\t\t\t\tx2={x2}\n\t\t\t\t\t\t\t\t\ty2={y2} />\n\t\t\t\t}, this);\n\t\treturn wicks;\n\t},\n\tgetCandles() {\n\t\tvar width = this.props._xScale(this.props._xAccessor(this.props.data[this.props.data.length - 1]))\n\t\t\t- this.props._xScale(this.props._xAccessor(this.props.data[0]));\n\t\tvar cw = (width / (this.props.data.length)) * 0.5;\n\t\tvar candleWidth = Math.floor(cw) % 2 === 0 ? Math.floor(cw) : Math.round(cw); // \n\t\tvar candles = this.props.data\n\t\t\t\t.filter(function (d) { return d.close !== undefined; })\n\t\t\t\t.map(function(d, idx) {\n\t\t\t\t\tvar ohlc = this.props._yAccessor(d);\n\t\t\t\t\tvar x = Math.round(this.props._xScale(this.props._xAccessor(d)))\n\t\t\t\t\t\t\t- (candleWidth === 1 ? 0 : 0.5 * candleWidth),\n\t\t\t\t\t\ty = this.props._yScale(Math.max(ohlc.open, ohlc.close)),\n\t\t\t\t\t\theight = Math.abs(this.props._yScale(ohlc.open) - this.props._yScale(ohlc.close)),\n\t\t\t\t\t\tclassName = (ohlc.open <= ohlc.close) ? 'up' : 'down';\n\t\t\t\t\tif (ohlc.open === ohlc.close) {\n\t\t\t\t\t\treturn <line key={idx} x1={x} y1={y} x2={x + candleWidth} y2={y} />\n\t\t\t\t\t}\n\t\t\t\t\tif (candleWidth <= 1) {\n\t\t\t\t\t\treturn <line  className={className} key={idx} x1={x} y1={y} x2={x} y2={y + height} />\n\t\t\t\t\t}\n\t\t\t\t\treturn <rect key={idx} className={className}\n\t\t\t\t\t\t\t\tx={x}\n\t\t\t\t\t\t\t\ty={y}\n\t\t\t\t\t\t\t\twidth={candleWidth}\n\t\t\t\t\t\t\t\theight={height} />\n\t\t\t\t}, this);\n\t\treturn candles;\n\t},\n\trender() {\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t<g className=\"wick\" key=\"wicks\">\n\t\t\t\t\t{this.getWicks()}\n\t\t\t\t</g>\n\t\t\t\t<g className=\"candle\" key=\"candles\">\n\t\t\t\t\t{this.getCandles()}\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t);\n\t}\n});\n\nmodule.exports = CandlestickSeries;\n\n/*\t\t\t\t\n\n*/\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/candlestick-series.jsx\n **/","'use strict';\n\nvar React = require('react'),\n\tPureRenderMixin = require('./mixin/restock-pure-render-mixin'),\n\tUtils = require('./utils/utils'),\n\tOverlayUtils = require('./utils/overlay-utils');\n\nvar OverlaySeries = React.createClass({\n\t//namespace: \"ReStock.OverlaySeries\",\n\tmixins: [PureRenderMixin],\n\t/*shouldComponentUpdate(nextProps, nextState) {\n\t\treturn false;\n\t},*/\n\tpropTypes: {\n\t\t_xScale: React.PropTypes.func.isRequired,\n\t\t_yScale: React.PropTypes.func.isRequired,\n\t\t_xAccessor: React.PropTypes.func.isRequired,\n\t\t// _yAccessor: React.PropTypes.func.isRequired,\n\t\t_overlay: React.PropTypes.object.isRequired,\n\t\tdata: React.PropTypes.array.isRequired,\n\t\ttype: React.PropTypes.oneOf(['sma', 'ema']),\n\t\toptions: React.PropTypes.object.isRequired,\n\t\tid: React.PropTypes.number.isRequired,\n\t\tstroke: React.PropTypes.string\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tnamespace: \"ReStock.OverlaySeries\"\n\t\t};\n\t},/*\n\tcomponentWillMount: function () {\n\t\tvar overlay = {\n\t\t\tid: newChild.props.id,\n\t\t\tyAccessor: OverlayUtils.getYAccessor(newChild.props),\n\t\t\toptions: newChild.props.options,\n\t\t\ttype: newChild.props.type,\n\t\t\ttooltipLabel: OverlayUtils.getToolTipLabel(newChild.props),\n\t\t\tstroke: newChild.stroke || overlayColors(newChild.props.id)\n\t\t};\n\t},*/\n\tcomponentWillUnMount() {\n\t\tconsole.log('componentWillUnMount');\n\t\tconsole.log('componentWillUnMount');\n\t\tconsole.log('componentWillUnMount');\n\t\tconsole.log('componentWillUnMount');\n\t\tconsole.log('componentWillUnMount');\n\t\t// unregister self\n\t\tthis.props._overlay.set(null);\n\t},\n\tcomponentWillReceiveProps(nextProps) {\n\t\t// if things change reset the overlay TODO\n\n\t\t// if optinos have changed - update the options\n\t\tif (this.props.options !== nextProps.options) {\n\t\t\tconsole.log('updating props.....');\n\t\t\t// var overlay = this.props._overlays[key];\n\t\t\tthis.props._overlay.set('options', nextProps.options);\n\t\t}\n\t},\n\trenderChildren() {\n\t\treturn React.Children.map(this.props.children, (child) => {\n\t\t\tvar newChild = child;\n\n\t\t\tif (typeof child.type === 'string') return newChild;\n\n\t\t\tif (/Series$/.test(newChild.props.namespace)) {\n\t\t\t\tnewChild = React.addons.cloneWithProps(newChild, {\n\t\t\t\t\t_xScale: this.props._xScale,\n\t\t\t\t\t_yScale: this.props._yScale,\n\t\t\t\t\t_xAccessor: (this.props.xAccessor || this.props._xAccessor),\n\t\t\t\t\t_yAccessor: this.props._overlay.yAccessor,\n\t\t\t\t\tdata: this.props.data,\n\t\t\t\t\tstroke: this.props._overlay.stroke,\n\t\t\t\t\tclassName: \"overlay\"\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}, this);\n\t},\n\trender() {\n\t\t// console.log('OverlaySeries.render');\n\t\tif (this.props._overlay.yAccessor === undefined) return null;\n\t\tif (this.props._pan && this.props._isMainChart) {\n\t\t\treturn <g></g>\n\t\t}\n\t\treturn (\n\t\t\t<g>{this.renderChildren()}</g>\n\t\t);\n\t}\n});\n\nmodule.exports = OverlaySeries;\n\n//\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/overlay-series.jsx\n **/","'use strict';\nvar React = require('react'),\n\td3 = require('d3'),\n\tPureRenderMixin = require('./mixin/restock-pure-render-mixin');\n\n\nvar HistogramSeries = React.createClass({\n\tmixins: [PureRenderMixin],\n\tpropTypes: {\n\t\t_xScale: React.PropTypes.func.isRequired,\n\t\t_yScale: React.PropTypes.func.isRequired,\n\t\t_xAccessor: React.PropTypes.func.isRequired,\n\t\t_yAccessor: React.PropTypes.func.isRequired,\n\t\tbaseAt: React.PropTypes.oneOfType([\n\t\t\t\t\tReact.PropTypes.oneOf(['top', 'bottom', 'middle'])\n\t\t\t\t\t, React.PropTypes.number\n\t\t\t\t]).isRequired,\n\t\tdirection: React.PropTypes.oneOf(['up', 'down']).isRequired,\n\t\tclassName: React.PropTypes.oneOfType([\n\t\t\t\t\tReact.PropTypes.func, React.PropTypes.string\n\t\t\t\t]).isRequired,\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tnamespace: \"ReStock.HistogramSeries\",\n\t\t\tbaseAt: 'bottom',\n\t\t\tdirection: 'up',\n\t\t\tclassName: 'bar'\n\t\t}\n\t},\n\tgetBars() {\n\t\tvar base = this.props.baseAt === 'top'\n\t\t\t\t\t? 0\n\t\t\t\t\t: this.props.baseAt === 'bottom'\n\t\t\t\t\t\t? this.props._yScale.range()[0]\n\t\t\t\t\t\t: this.props.baseAt === 'middle'\n\t\t\t\t\t\t\t? (this.props._yScale.range()[0] + this.props._yScale.range()[1]) / 2\n\t\t\t\t\t\t\t: this.props.baseAt;\n\n\t\tvar dir = this.props.direction === 'up' ? -1 : 1;\n\n\t\tvar getClassName = () => this.props.className;\n\t\tif (typeof this.props.className === 'function') {\n\t\t\tgetClassName = this.props.className;\n\t\t}\n\t\tvar width = Math.abs(this.props._xScale.range()[0] - this.props._xScale.range()[1]);\n\t\tvar barWidth = width / (this.props.data.length) * 0.5;\n\t\tvar bars = this.props.data\n\t\t\t\t.filter((d) => (this.props._yAccessor(d) !== undefined) )\n\t\t\t\t.map((d, idx) => {\n\t\t\t\t\tvar yValue = this.props._yAccessor(d);\n\t\t\t\t\tvar x = Math.round(this.props._xScale(this.props._xAccessor(d))) - 0.5 * barWidth,\n\t\t\t\t\t\tclassName = getClassName(d) ,\n\t\t\t\t\t\ty, height;\n\t\t\t\t\tif (dir > 0) {\n\t\t\t\t\t\ty = base;\n\t\t\t\t\t\theight = this.props._yScale.range()[0] - this.props._yScale(yValue);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ty = this.props._yScale(yValue);\n\t\t\t\t\t\theight = base - y;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Math.round(barWidth) <= 1) {\n\t\t\t\t\t\treturn <line key={idx} className={className}\n\t\t\t\t\t\t\t\t\tx1={Math.round(x)} y1={Math.round(y)}\n\t\t\t\t\t\t\t\t\tx2={Math.round(x)} y2={Math.round(y + height)} />\n\t\t\t\t\t}\n\t\t\t\t\treturn <rect key={idx} className={className}\n\t\t\t\t\t\t\t\tx={Math.round(x)}\n\t\t\t\t\t\t\t\ty={Math.round(y)}\n\t\t\t\t\t\t\t\twidth={Math.round(barWidth)}\n\t\t\t\t\t\t\t\theight={Math.round(height)} />\n\t\t\t\t}, this);\n\t\treturn bars;\n\t},\n\trender() {\n\t\treturn (\n\t\t\t<g className=\"histogram\">\n\t\t\t\t{this.getBars()}\n\t\t\t</g>\n\t\t);\n\t}\n});\n\nmodule.exports = HistogramSeries;\n\n/*\t\t\t\t\n\n*/\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/histogram-series.jsx\n **/","'use strict';\nvar React = require('react');\nvar Utils = require('./utils/utils.js')\n\nvar EventCapture = React.createClass({\n\tpropTypes: {\n\t\tmainChart: React.PropTypes.number.isRequired,\n\t\tmouseMove: React.PropTypes.bool.isRequired,\n\t\tzoom: React.PropTypes.bool.isRequired,\n\t\tzoomMultiplier: React.PropTypes.number.isRequired,\n\t\tpan: React.PropTypes.bool.isRequired,\n\t\tpanSpeedMultiplier: React.PropTypes.number.isRequired,\n\t\tdefaultFocus: React.PropTypes.bool.isRequired,\n\n\t\t_chartData: React.PropTypes.object.isRequired,\n\t\t_height: React.PropTypes.number.isRequired,\n\t\t_width: React.PropTypes.number.isRequired,\n\t\t_eventStore: React.PropTypes.object.isRequired,\n\t\t_zoomEventStore: React.PropTypes.object\n\t},\n\tgetInitialState() {\n\t\treturn {\n\t\t\tdragOrigin: [0, 0],\n\t\t\tdefaultFocus: false\n\t\t};\n\t},\n\tcomponentWillMount() {\n\t\tthis.setState({\n\t\t\tclassName: this.props.className,\n\t\t\tinFocus: this.props.defaultFocus\n\t\t});\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tnamespace: \"ReStock.EventCapture\"\n\t\t\t, mouseMove: false\n\t\t\t, zoom: false\n\t\t\t, zoomMultiplier: 1\n\t\t\t, pan: false\n\t\t\t, panSpeedMultiplier: 1\n\t\t\t, className: \"crosshair\"\n\t\t\t, defaultFocus: false\n\t\t}\n\t},\n\ttoggleFocus() {\n\t\tthis.setFocus(!this.state.defaultFocus);\n\t},\n\tsetFocus(focus) {\n\t\tthis.setState({\n\t\t\tdefaultFocus: focus\n\t\t});\n\t},\n\thandleEnter() {\n\t\tif (this.props._eventStore) {\n\t\t\t// console.log('in');\n\t\t\tthis.props._eventStore.get().mouseOver.set({'value': true});\n\t\t}\n\t},\n\thandleLeave() {\n\t\tif (this.props._eventStore) {\n\t\t\t// console.log('out');\n\t\t\tvar eventData = this.props._eventStore.get();\n\t\t\tthis.props._eventStore.get().mouseOver.set({'value': false});\n\t\t\tthis.props._eventStore.get().set({ pan: false });\n\t\t\tthis.setState({\n\t\t\t\tdragging: false,\n\t\t\t\tdragOrigin: [0, 0],\n\t\t\t\tclassName: this.props.className\n\t\t\t})\n\t\t}\n\t},\n\thandleWheel(e) {\n\t\tif (this.props.zoom\n\t\t\t\t&& this.props._eventStore\n\t\t\t\t//&& this.props._eventStore.get().inFocus.value\n\t\t\t\t&& this.state.inFocus\n\t\t\t\t&& this.props._zoomEventStore) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\tvar zoomDir = e.deltaY > 0 ? this.props.zoomMultiplier : -this.props.zoomMultiplier;\n\t\t\t//console.log(zoomDir);\n\n\t\t\tthis.props._zoomEventStore.get().set({ zoom : zoomDir });\n\t\t}\n\t},\n\thandleMouseMove(e) {\n\t\tif (this.props._eventStore && this.props.mouseMove) {\n\t\t\tvar eventData = this.props._eventStore.get();\n\t\t\tvar newPos = Utils.mousePosition(e);\n\t\t\t//var oldPos = eventData.mouseXY;\n\t\t\tvar startPos = this.state.dragOrigin;\n\t\t\tif (! (startPos[0] === newPos[0] && startPos[1] === newPos[1])) {\n\t\t\t\tif (this.state.dragging) {\n\t\t\t\t\teventData = eventData.set({\n\t\t\t\t\t\tdx: (newPos[0] - startPos[0]) * this.props.panSpeedMultiplier,\n\t\t\t\t\t\tdragOriginDomain: this.state.dragOriginDomain\n\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t\teventData = eventData.set( { mouseXY: newPos } );\n\t\t\t\teventData = eventData.set({ pan: this.state.dragging });\n\t\t\t\t// console.log('eventData....', eventData);\n\t\t\t}\n\t\t}\n\t},\n\thandleMouseDown(e) {\n\t\tif (this.props._eventStore) {\n\t\t\t// this.props._eventStore.get().inFocus.set({'value': true});\n\t\t\tvar inFocus = true\n\t\t\tif (this.props.pan && this.props._zoomEventStore) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tdragging: true,\n\t\t\t\t\tdragOrigin: Utils.mousePosition(e),\n\t\t\t\t\tdragOriginDomain: this.props._chartData.scales.xScale.domain(),\n\t\t\t\t\tclassName: \"grabbing\",\n\t\t\t\t\tinFocus: inFocus\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.setState({\n\t\t\t\t\tinFocus: inFocus\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\te.preventDefault();\n\t},\n\thandleMouseUp(e) {\n\t\tif (this.props.pan && this.props._zoomEventStore) {\n\n\t\t\tthis.props._eventStore.get().set({ pan: false })\n\t\t\tthis.setState({\n\t\t\t\tdragging: false,\n\t\t\t\tdragOrigin: [0, 0],\n\t\t\t\tclassName: this.props.className\n\t\t\t})\n\t\t}\n\t\te.preventDefault();\n\t},\n\trender() {\n\t\treturn (\n\t\t\t<rect \n\t\t\t\tclassName={this.state.className}\n\t\t\t\twidth={this.props._width} height={this.props._height} style={{opacity: 0}}\n\t\t\t\tonMouseEnter={this.handleEnter}\n\t\t\t\tonMouseLeave={this.handleLeave}\n\t\t\t\tonMouseMove={this.handleMouseMove}\n\t\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\t\tonMouseUp={this.handleMouseUp}\n\t\t\t\tonWheel={this.handleWheel}\n\t\t\t\t/>\n\t\t);\n\t}\n});\n\nmodule.exports = EventCapture;\n\n/*\t\t\t\t\n\n*/\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/event-capture.jsx\n **/","'use strict';\nvar React = require('react/addons');\nvar EdgeCoordinate = require('./edge-coordinate')\nvar Utils = require('./utils/utils')\n\n// Should not use xScale and yScale here as MouseCoordinate is common across all charts\n// if it is made to be inside a Chart another Chart might be displayed over it\nvar MouseCoordinates = React.createClass({\n\tpropTypes: {\n\t\t_height: React.PropTypes.number.isRequired,\n\t\t_width: React.PropTypes.number.isRequired,\n\t\t_show: React.PropTypes.bool.isRequired,\n\t\t_mouseXY: React.PropTypes.array.isRequired,\n\t\t_chartData: React.PropTypes.object.isRequired,\n\t\t_currentItem: React.PropTypes.object.isRequired,\n\n\t\tforChart: React.PropTypes.number.isRequired, \n\t\txDisplayFormat: React.PropTypes.func.isRequired,\n\t\tyDisplayFormat: React.PropTypes.func.isRequired\n\t},\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\treturn nextProps._currentItem != this.props._currentItem\n\t\t\t\t|| nextProps._mouseXY !== this.props._mouseXY\n\t\t\t\t|| nextProps._show !== this.props._show\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tnamespace: \"ReStock.MouseCoordinates\",\n\t\t\t_show: false,\n\t\t\tsnapX: true,\n\t\t\txDisplayFormat: Utils.displayDateFormat,\n\t\t\tyDisplayFormat: Utils.displayNumberFormat,\n\t\t}\n\t},\n\trenderChildren() {\n\t\tvar chartData = this.props._chartData;\n\t\tvar item = this.props._currentItem.data;\n\t\t\n\n\t\tvar xValue = chartData.accessors.xAccessor(item);\n\t\tvar xDisplayValue = this.props._dateAccessor === undefined\n\t\t\t? xValue\n\t\t\t: this.props._dateAccessor(item);\n\n\t\tvar yValue = chartData.scales.yScale.invert(this.props._mouseXY[1]);\n\n\t\tif (xValue === undefined || yValue === undefined) return null;\n\t\tvar x = this.props.snapX ? Math.round(chartData.scales.xScale(xValue)) : this.props._mouseXY[0];\n\t\tvar y = this.props._mouseXY[1];\n\n\t\t//console.log(xValue, this.props.xDisplayFormat(xValue));\n\t\t//console.log(yValue, this.props.yDisplayFormat(yValue));\n\n\t\treturn React.Children.map(this.props.children, (child) => {\n\t\t\tif (typeof child.type === 'string') return child;\n\t\t\tvar newChild = child;\n\t\t\treturn React.addons.cloneWithProps(newChild, {\n\t\t\t\t_width: this.props._width\n\t\t\t\t, _height: this.props._height\n\t\t\t\t, _mouseXY: [x, y]\n\t\t\t\t, _xDisplayValue: this.props.xDisplayFormat(xDisplayValue)\n\t\t\t\t, _yDisplayValue: this.props.yDisplayFormat(yValue)\n\t\t\t});\n\t\t}, this);\n\t},\n\trender() {\n\t\tvar children = null;\n\t\tif (this.props._show) {\n\t\t\tchildren = this.renderChildren();\n\t\t};\n\n\t\treturn (\n\t\t\t<g className={this.props._show ? 'show' : 'hide'}>\n\t\t\t\t{children}\n\t\t\t</g>\n\t\t);\n\t}\n});\n\nmodule.exports = MouseCoordinates;\n\n\n/*\n\n\n\n*/\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/mouse-coordinates.jsx\n **/","'use strict';\nvar React = require('react/addons');\nvar EdgeCoordinate = require('./edge-coordinate')\nvar Utils = require('./utils/utils')\n\nvar CrossHair = React.createClass({\n\tpropTypes: {\n\t\t_height: React.PropTypes.number.isRequired,\n\t\t_width: React.PropTypes.number.isRequired,\n\t\t_mouseXY: React.PropTypes.array.isRequired,\n\t\t_xDisplayValue: React.PropTypes.string.isRequired,\n\t\t_yDisplayValue: React.PropTypes.string.isRequired,\n\t\tyAxisPad: React.PropTypes.number.isRequired\n\t},\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\treturn nextProps._mouseXY !== this.props._mouseXY\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tnamespace: \"ReStock.CrossHair\",\n\t\t\tyAxisPad: 5\n\t\t}\n\t},\n\trender() {\n\t\treturn (\n\t\t\t<g className={'crosshair '}>\n\t\t\t\t<EdgeCoordinate\n\t\t\t\t\ttype=\"horizontal\"\n\t\t\t\t\tclassName=\"horizontal\"\n\t\t\t\t\tshow={true}\n\t\t\t\t\tx1={0} y1={this.props._mouseXY[1]}\n\t\t\t\t\tx2={this.props._width + this.props.yAxisPad} y2={this.props._mouseXY[1]}\n\t\t\t\t\tcoordinate={this.props._yDisplayValue}\n\t\t\t\t\tedgeAt={this.props._width + this.props.yAxisPad}\n\t\t\t\t\torient=\"right\"\n\t\t\t\t\t/>\n\t\t\t\t<EdgeCoordinate\n\t\t\t\t\ttype=\"vertical\"\n\t\t\t\t\tclassName=\"horizontal\"\n\t\t\t\t\tshow={true}\n\t\t\t\t\tx1={this.props._mouseXY[0]} y1={0}\n\t\t\t\t\tx2={this.props._mouseXY[0]} y2={this.props._height}\n\t\t\t\t\tcoordinate={this.props._xDisplayValue}\n\t\t\t\t\tedgeAt={this.props._height}\n\t\t\t\t\torient=\"bottom\"\n\t\t\t\t\t/>\n\t\t\t</g>\n\t\t);\n\t}\n});\n\nmodule.exports = CrossHair;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/crosshair.jsx\n **/","'use strict';\nvar React = require('react/addons');\nvar EdgeCoordinate = require('./edge-coordinate')\nvar Utils = require('./utils/utils')\n\nvar VerticalMousePointer = React.createClass({\n\tpropTypes: {\n\t\t_height: React.PropTypes.number.isRequired,\n\t\t_width: React.PropTypes.number.isRequired,\n\t\t_mouseXY: React.PropTypes.array.isRequired,\n\t\t_xDisplayValue: React.PropTypes.string.isRequired,\n\t\t_yDisplayValue: React.PropTypes.string.isRequired,\n\t\tyAxisPad: React.PropTypes.number.isRequired\n\t},\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\treturn nextProps._mouseXY !== this.props._mouseXY\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tnamespace: \"ReStock.VerticalMousePointer\",\n\t\t\tyAxisPad: 10\n\t\t}\n\t},\n\trender() {\n\t\treturn (\n\t\t\t<g className={'crosshair '}>\n\t\t\t\t<EdgeCoordinate\n\t\t\t\t\ttype=\"vertical\"\n\t\t\t\t\tclassName=\"horizontal\"\n\t\t\t\t\tshow={true}\n\t\t\t\t\tx1={this.props._mouseXY[0]} y1={0}\n\t\t\t\t\tx2={this.props._mouseXY[0]} y2={this.props._height}\n\t\t\t\t\tcoordinate={this.props._xDisplayValue}\n\t\t\t\t\tedgeAt={this.props._height}\n\t\t\t\t\torient=\"bottom\"\n\t\t\t\t\t/>\n\t\t\t\t\n\t\t\t</g>\n\t\t);\n\t}\n});\n\nmodule.exports = VerticalMousePointer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/vertical-mouse-pointer.jsx\n **/","'use strict';\nvar React = require('react'),\n\tPureRenderMixin = require('./mixin/restock-pure-render-mixin'),\n\tUtils = require('./utils/utils');\n\nvar CurrentCoordinate = React.createClass({\n\t//namespace: \"ReStock.DataSeries\",\n\tmixins: [PureRenderMixin],\n\tpropTypes: {\n\t\tforChart: React.PropTypes.number.isRequired,\n\t\tforOverlay: React.PropTypes.number,\n\t\tyAccessor: React.PropTypes.func,\n\t\tr: React.PropTypes.number.isRequired,\n\t\tclassName: React.PropTypes.string,\n\n\t\t_show: React.PropTypes.bool.isRequired,\n\t\t_chartData: React.PropTypes.object.isRequired,\n\t\t_currentItem: React.PropTypes.object.isRequired,\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tnamespace: \"ReStock.CurrentCoordinate\",\n\t\t\tr: 3\n\t\t};\n\t},\n\trender() {\n\n\t\tvar chartData = this.props._chartData;\n\t\tvar item = this.props._currentItem.data;\n\t\tvar fill = 'black';\n\n\t\tif (! this.props._show || item === undefined) return null;\n\t\tvar yAccessor =  this.props.yAccessor || chartData.accessors.yAccessor;\n\n\t\tif (this.props.forOverlay !== undefined) {\n\t\t\tvar overlays = chartData.overlays\n\t\t\t\t.filter((each) => each.id === this.props.forOverlay);\n\n\t\t\tif (overlays.length != 1) {\n\t\t\t\tconsole.warn('Unique overlay with id={%s} not found', this.props.forOverlay);\n\t\t\t\tthrow new Error('Unique overlay not found');\n\t\t\t}\n\t\t\tfill = overlays[0].stroke;\n\t\t\tyAccessor = overlays[0].yAccessor;\n\t\t}\n\n\t\tvar xValue = chartData.accessors.xAccessor(item);\n\t\tvar yValue = yAccessor(item);\n\n\t\tif (yValue === undefined) return null;\n\n\t\tvar x = Math.round(chartData.scales.xScale(xValue)) + chartData.origin[0];\n\t\tvar y = Math.round(chartData.scales.yScale(yValue)) + chartData.origin[1];\n\n\t\treturn (\n\t\t\t<circle className={this.props.className} cx={x} cy={y} r={this.props.r} fill={fill} />\n\t\t);\n\t}\n});\n\nmodule.exports = CurrentCoordinate;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/current-coordinate.jsx\n **/","'use strict';\nvar React = require('react');\n\nvar TooltipContainer = React.createClass({\n\tpropTypes: {\n\t\t_currentItems: React.PropTypes.array.isRequired,\n\t\t_charts: React.PropTypes.array.isRequired\n\t},\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\treturn nextProps._charts !== this.props._charts || nextProps._currentItems !== this.props._currentItems;\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tnamespace: \"ReStock.TooltipContainer\"\n\t\t}\n\t},\n\trenderChildren() {\n\t\treturn React.Children.map(this.props.children, (child) => {\n\t\t\tif (typeof child.type === 'string') return child;\n\t\t\tvar newChild = child;\n\t\t\tvar chart = this.props._charts.filter((chart) => chart.id === newChild.props.forChart)[0];\n\t\t\tvar currentItem = this.props._currentItems.filter((item) => item.id === newChild.props.forChart)[0];\n\t\t\tnewChild = React.addons.cloneWithProps(newChild, {\n\t\t\t\t_currentItem: currentItem.data\n\t\t\t});\n\t\t\tif (/MovingAverageTooltip$/.test(newChild.props.namespace)) {\n\t\t\t\tnewChild = React.addons.cloneWithProps(newChild, {\n\t\t\t\t\t_overlays: chart.overlays\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn newChild;\n\t\t});\n\t},\n\trender() {\n\t\treturn (\n\t\t\t<g className=\"toottip-hover\">\n\t\t\t\t{this.renderChildren()}\n\t\t\t</g>\n\t\t);\n\t}\n});\n\nmodule.exports = TooltipContainer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip-container.jsx\n **/","'use strict';\n\nvar React = require('react');\nvar Utils = require('./utils/utils')\n\nvar billion = 1 * 1000 * 1000 * 1000;\nvar million = 1 * 1000 * 1000;\nvar thousand = 1 * 1000;\n\nvar OHLCTooltip = React.createClass({\n\tpropTypes: {\n\t\t_currentItem: React.PropTypes.object.isRequired,\n\t\taccessor: React.PropTypes.func.isRequired,\n\t\txDisplayFormat: React.PropTypes.func.isRequired,\n\t\torigin: React.PropTypes.array.isRequired,\n\t},\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\treturn (nextProps._currentItem !== this.props._currentItem);\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tnamespace: \"ReStock.OHLCTooltip\",\n\t\t\taccessor: (d) => {return {date: d.date, open: d.open, high: d.high, low: d.low, close: d.close, volume: d.volume}},\n\t\t\txDisplayFormat: Utils.displayDateFormat,\n\t\t\torigin: [0, 0]\n\t\t}\n\t},\n\trender() {\n\t\tvar displayDate, fromDate, toDate, open, high, low, close, volume;\n\n\t\tdisplayDate = fromDate = toDate = open = high = low = close = volume = \"n/a\";\n\t\tvar item = this.props.accessor(this.props._currentItem);\n\n\t\tif (item !== undefined && item.close !== undefined) {\n\t\t\tvolume = (item.volume / billion > 1)\n\t\t\t\t? (item.volume / billion).toFixed(2) + \"b\"\n\t\t\t\t: (item.volume / million > 1)\n\t\t\t\t\t? (item.volume / million).toFixed(2) + \"m\"\n\t\t\t\t\t: (item.volume / thousand > 1)\n\t\t\t\t\t\t? (item.volume / thousand).toFixed(2) + \"k\"\n\t\t\t\t\t\t: item.volume;\n\n\t\t\tdisplayDate = this.props.xDisplayFormat(item.date);\n\t\t\topen = Utils.displayNumberFormat(item.open);\n\t\t\thigh = Utils.displayNumberFormat(item.high);\n\t\t\tlow = Utils.displayNumberFormat(item.low);\n\t\t\tclose = Utils.displayNumberFormat(item.close);\n\t\t}\n\n\t\treturn (\n\t\t\t<g transform={\"translate(\" + this.props.origin[0] + \", \" + this.props.origin[1] + \")\"}>\n\t\t\t\t<text x={0} y={0} className=\"legend\">\n\t\t\t\t\t<tspan key=\"label\" x={0} dy=\"5\" className=\"tooltip-label\">Date: </tspan>\n\t\t\t\t\t<tspan key=\"value\">{displayDate}</tspan>\n\t\t\t\t\t<tspan key=\"label_O\" className=\"tooltip-label\"> O: </tspan><tspan key=\"value_O\">{open}</tspan>\n\t\t\t\t\t<tspan key=\"label_H\" className=\"tooltip-label\"> H: </tspan><tspan key=\"value_H\">{high}</tspan>\n\t\t\t\t\t<tspan key=\"label_L\" className=\"tooltip-label\"> L: </tspan><tspan key=\"value_L\">{low}</tspan>\n\t\t\t\t\t<tspan key=\"label_C\" className=\"tooltip-label\"> C: </tspan><tspan key=\"value_C\">{close}</tspan>\n\t\t\t\t\t<tspan key=\"label_Vol\" className=\"tooltip-label\"> Vol: </tspan><tspan key=\"value_Vol\">{volume}</tspan>\n\t\t\t\t</text>\n\t\t\t</g>\n\t\t);\n\t}\n});\n\nmodule.exports = OHLCTooltip;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/ohlc-tooltip.jsx\n **/","'use strict';\n\nvar React = require('react');\nvar Utils = require('./utils/utils')\n\nvar SingleMAToolTip = React.createClass({\n\tpropTypes: {\n\t\torigin: React.PropTypes.array.isRequired,\n\t\tcolor: React.PropTypes.string.isRequired,\n\t\tdisplayName: React.PropTypes.string.isRequired,\n\t\tvalue: React.PropTypes.string.isRequired,\n\t\tonClick: React.PropTypes.func\n\t},\n\tgetDefaultProps() {\n\n\t},\n\thandleClick(overlay) {\n\t\tif (this.props.onClick) {\n\t\t\tthis.props.onClick(overlay);\n\t\t}\n\t},\n\trender() {\n\t\tvar translate = \"translate(\" + this.props.origin[0] + \", \" + this.props.origin[1] + \")\";\n\t\treturn (\n\t\t\t<g transform={translate}>\n\t\t\t\t<line x1={0} y1={2} x2={0} y2={28} stroke={this.props.color} />\n\t\t\t\t<text x={5} y={11} className=\"legend\">\n\t\t\t\t\t<tspan className=\"tooltip-label\">{this.props.displayName}</tspan>\n\t\t\t\t\t<tspan x=\"5\" dy=\"15\">{this.props.value}</tspan>\n\t\t\t\t</text>\n\t\t\t\t<rect x={0} y={0} width={55} height={30} onClick={this.handleClick.bind(this, this.props.overlay)}/>\n\t\t\t</g>\n\t\t);\n\t}\n});\n\n\nvar MovingAverageTooltip = React.createClass({\n\tpropTypes: {\n\t\t_currentItem: React.PropTypes.object.isRequired,\n\t\t_overlays: React.PropTypes.array.isRequired,\n\t\tdisplayFormat: React.PropTypes.func.isRequired,\n\t\torigin: React.PropTypes.array.isRequired,\n\t\tonClick: React.PropTypes.func\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tnamespace: \"ReStock.MovingAverageTooltip\",\n\t\t\tdisplayFormat: Utils.displayNumberFormat,\n\t\t\torigin: [0, 10],\n\t\t\twidth: 65\n\t\t}\n\t},\n\trender() {\n\t\treturn (\n\t\t\t<g transform={\"translate(\" + this.props.origin[0] + \", \" + this.props.origin[1] + \")\"} className=\"ma-container\">\n\t\t\t\t{this.props._overlays.map((eachOverlay, idx) => {\n\t\t\t\t\tvar yValue = eachOverlay.yAccessor(this.props._currentItem);\n\t\t\t\t\t// console.log(yValue);\n\t\t\t\t\tvar yDisplayValue = yValue ? this.props.displayFormat(yValue) : \"n/a\";\n\t\t\t\t\treturn <SingleMAToolTip \n\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\torigin={[this.props.width * idx, 0]}\n\t\t\t\t\t\tcolor={eachOverlay.stroke}\n\t\t\t\t\t\tdisplayName={eachOverlay.tooltipLabel}\n\t\t\t\t\t\tvalue={yDisplayValue}\n\t\t\t\t\t\toverlay={eachOverlay}\n\t\t\t\t\t\tonClick={this.props.onClick} />\n\t\t\t\t})}\n\t\t\t</g>\n\t\t);\n\t}\n});\n\nmodule.exports = MovingAverageTooltip;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/moving-average-tooltip.jsx\n **/","'use strict';\nvar React = require('react/addons');\n\nvar EdgeContainer = React.createClass({\n\tpropTypes: {\n\t\t_currentItems: React.PropTypes.array.isRequired,\n\t\t_charts: React.PropTypes.array.isRequired,\n\t\t_height: React.PropTypes.number.isRequired,\n\t\t_width: React.PropTypes.number.isRequired,\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tnamespace: \"ReStock.EdgeContainer\",\n\t\t}\n\t},\n\trenderChildren() {\n\t\treturn React.Children.map(this.props.children, (child) => {\n\t\t\tif (typeof child.type === 'string') return child;\n\t\t\tvar newChild = child;\n\t\t\tif (/EdgeIndicator$/.test(newChild.props.namespace)) {\n\t\t\t\tvar chart = this.props._charts.filter((chart) => chart.id === newChild.props.forChart)[0];\n\t\t\t\tvar currentItem = this.props._currentItems.filter((item) => item.id === newChild.props.forChart)[0];\n\t\t\t\tnewChild = React.addons.cloneWithProps(newChild, {\n\t\t\t\t\t_width: this.props._width,\n\t\t\t\t\t_chart: chart,\n\t\t\t\t\t_currentItem: currentItem\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn newChild;\n\t\t});\n\t},\n\trender() {\n\t\treturn <g>{this.renderChildren()}</g>\n\t}\n});\n\nmodule.exports = EdgeContainer;\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/edge-container.jsx\n **/","'use strict';\nvar React = require('react');\nvar Utils = require('./utils/utils')\nvar EdgeCoordinate = require('./edge-coordinate')\n\n\nvar EdgeIndicator = React.createClass({\n\tpropTypes: {\n\t\ttype: React.PropTypes.oneOf(['horizontal']).isRequired,\n\t\tclassName: React.PropTypes.string,\n\t\titemType: React.PropTypes.oneOf(['first', 'last', 'current']).isRequired,\n\t\torient: React.PropTypes.oneOf(['left', 'right']),\n\t\tedgeAt: React.PropTypes.oneOf(['left', 'right']),\n\n\t\tforChart: React.PropTypes.number.isRequired,\n\t\tforOverlay: React.PropTypes.number, // undefined means main Data series of that chart\n\n\t\tdisplayFormat: React.PropTypes.func.isRequired,\n\n\t\t_width: React.PropTypes.number,\n\t\t_currentItem: React.PropTypes.object.isRequired,\n\t\t_chart: React.PropTypes.object.isRequired,\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\ttype: 'horizontal',\n\t\t\torient: 'left',\n\t\t\tedgeAt: 'left',\n\t\t\tdisplayFormat: Utils.displayNumberFormat,\n\t\t\tyAxisPad: 5,\n\t\t\tnamespace: \"ReStock.EdgeIndicator\"\n\t\t};\n\t},/*\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tif (nextProps.itemType === 'current') {\n\t\t\treturn \n\t\t} else {\n\n\t\t}\n\t},*/\n\trenderEdge() {\n\t\tvar edge = null, item, yAccessor;\n\t\tif (this.props.forOverlay !== undefined\n\t\t\t\t&& this.props._chart.overlays.length > 0\n\t\t\t\t&& this.props._chart.overlayValues.length > 0) {\n\n\t\t\tvar overlay = this.props._chart.overlays\n\t\t\t\t.filter((eachOverlay) => eachOverlay.id === this.props.forOverlay);\n\t\t\tvar overlayValue = this.props._chart.overlayValues\n\t\t\t\t.filter((eachOverlayValue) => eachOverlayValue.id === this.props.forOverlay);\n\n\t\t\t// console.log(overlay, overlayValue);\n\t\t\tif (overlay.length !== 1) {\n\t\t\t\tconsole.warn('%s overlays found with id %s, correct the OverlaySeries so there is exactly one for each id', overlay.length, newChild.props.forOverlay)\n\t\t\t\tthrow new Error('Unable to identify unique Overlay for the id');\n\t\t\t}\n\t\t\tif (overlayValue.length !== 1 && overlay.length === 1) {\n\t\t\t\tconsole.warn('Something is wrong!!!, There should be 1 overlayValue, report the issue on github');\n\t\t\t}\n\n\t\t\titem = this.props.itemType === 'first'\n\t\t\t\t? overlayValue[0].first\n\t\t\t\t: this.props.itemType === 'last'\n\t\t\t\t\t? overlayValue[0].last\n\t\t\t\t\t: this.props._currentItem;\n\t\t\tyAccessor = overlay[0].yAccessor;\n\n\t\t\tif (item !== undefined) {\n\t\t\t\tvar yValue = yAccessor(item), xValue = this.props._chart.accessors.xAccessor(item);\n\t\t\t\tvar x1 = Math.round(this.props._chart.scales.xScale(xValue)), y1 = Math.round(this.props._chart.scales.yScale(yValue));\n\t\t\t\tvar edgeX = this.props.edgeAt === 'left'\n\t\t\t\t\t? 0 - this.props.yAxisPad\n\t\t\t\t\t: this.props._width + this.props.yAxisPad\n\n\t\t\t\tedge = <EdgeCoordinate\n\t\t\t\t\t\ttype={this.props.type}\n\t\t\t\t\t\tclassName=\"edge-coordinate\"\n\t\t\t\t\t\tfill={overlay[0].stroke}\n\t\t\t\t\t\tshow={true}\n\t\t\t\t\t\tx1={x1 + this.props._chart.origin[0]} y1={y1 + this.props._chart.origin[1]}\n\t\t\t\t\t\tx2={edgeX + this.props._chart.origin[0]} y2={y1 + this.props._chart.origin[1]}\n\t\t\t\t\t\tcoordinate={this.props.displayFormat(yValue)}\n\t\t\t\t\t\tedgeAt={edgeX}\n\t\t\t\t\t\torient={this.props.orient}\n\t\t\t\t\t\t/>\n\t\t\t}\n\t\t} else if (this.props.forOverlay === undefined) {\n\t\t\titem = this.props.itemType === 'first'\n\t\t\t\t? this.props._chart.firstItem\n\t\t\t\t: this.props.itemType === 'last'\n\t\t\t\t\t? this.props._chart.lastItem\n\t\t\t\t\t: this.props._currentItem;\n\t\t\tyAccessor = this.props._chart.accessors.yAccessor;\n\n\t\t\tif (item !== undefined && yAccessor !== null) {\n\t\t\t\tvar yValue = yAccessor(item);\n\t\t\t\tvar xValue = this.props._chart.accessors.xAccessor(item);\n\n\t\t\t\tvar x1 = Math.round(this.props._chart.scales.xScale(xValue)), y1 = Math.round(this.props._chart.scales.yScale(yValue));\n\t\t\t\tvar edgeX = this.props.edgeAt === 'left'\n\t\t\t\t\t? 0 - this.props.yAxisPad\n\t\t\t\t\t: this.props._width + this.props.yAxisPad\n\n\t\t\t\tedge = <EdgeCoordinate\n\t\t\t\t\t\ttype={this.props.type}\n\t\t\t\t\t\tclassName=\"edge-coordinate\"\n\t\t\t\t\t\tshow={true}\n\t\t\t\t\t\tx1={x1 + this.props._chart.origin[0]} y1={y1 + this.props._chart.origin[1]}\n\t\t\t\t\t\tx2={edgeX + this.props._chart.origin[0]} y2={y1 + this.props._chart.origin[1]}\n\t\t\t\t\t\tcoordinate={this.props.displayFormat(yValue)}\n\t\t\t\t\t\tedgeAt={edgeX}\n\t\t\t\t\t\torient={this.props.orient}\n\t\t\t\t\t\t/>\n\t\t\t}\n\t\t}\n\t\treturn edge;\n\t},\n\trender() {\n\t\treturn this.renderEdge();\n\t}\n});\n\nmodule.exports = EdgeIndicator;\n\n/*\n<EdgeCoordinate\n\t\t\t\ttype={this.props.type}\n\t\t\t\tclassName={this.props.className}\n\t\t\t\tshow={true}\n\t\t\t\tx1={this.props._x1} y1={this.props._y1}\n\t\t\t\tx2={this.props._width + this.props.yAxisPad} y2={this.props._mouseXY[1]}\n\t\t\t\tcoordinate={this.props._yDisplayValue}\n\t\t\t\tedgeAt={this.props._width + this.props.yAxisPad}\n\t\t\t\torient=\"right\"\n\t\t\t\t/>\n*/\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/edge-indicator.jsx\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_23__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"React\"\n ** module id = 23\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_24__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"d3\"\n ** module id = 24\n ** module chunks = 0\n **/","\"use strict\";\nvar React = require('react/addons');\nvar EventCapture = require('../event-capture');\nvar MouseCoordinates = require('../mouse-coordinates');\nvar Utils = require('../utils/utils');\n\nvar Freezer = require('freezer-js');\n// Let's create a freezer store\nfunction getLongValue(value) {\n\tif (value instanceof Date) {\n\t\treturn value.getTime();\n\t}\n\treturn value;\n}\nvar EventCaptureMixin = {\n\tdoesContainChart() {\n\t\tvar children = Array.isArray(this.props.children)\n\t\t\t? this.props.children\n\t\t\t: [this.props.children];\n\n\t\treturn children\n\t\t\t.filter((child) => /Chart$/.test(child.props.namespace))\n\t\t\t.length > 0;\n\t},\n\tcomponentWillMount() {\n\t\tif (this.doesContainChart()) {\n\t\t\t// console.log('EventCaptureMixin.componentWillMount', this.state);\n\t\t\tvar eventStore = new Freezer({\n\t\t\t\tmouseXY: [0, 0],\n\t\t\t\tmouseOver: { value: false },\n\t\t\t\tinFocus: { value: true } // TODO change to false later\n\t\t\t});\n\t\t\tvar zoomEventStore = new Freezer({\n\t\t\t\tzoom: 0\n\t\t\t});\n\t\t\tvar chartStore  = new Freezer({\n\t\t\t\tcharts: [],\n\t\t\t\tupdateMode: { immediate : true }\n\t\t\t});\n\n\t\t\tvar passThroughProps = {};\n\t\t\tif (this.isDataDransform && this.isDataDransform()) {\n\t\t\t\tpassThroughProps = this.transformData(this.props);\n\t\t\t}\n\n\t\t\tvar currentItemStore = new Freezer({\n\t\t\t\tcurrentItems: [],\n\t\t\t\tviewPortXRange: [],\n\t\t\t\tviewPortXDelta: 30\n\t\t\t});\n\t\t\tvar fullData, data;\n\t\t\tif (passThroughProps && passThroughProps._stockScale) {\n\t\t\t\tcurrentItemStore.get().set({ interval : 'D' });\n\n\t\t\t\t//fullData = passThroughProps.data[currentItemStore.get().interval];\n\t\t\t\tfullData = passThroughProps.data;\n\t\t\t\tdata = fullData[currentItemStore.get().interval];\n\t\t\t} else {\n\t\t\t\tfullData = this.props.data;\n\t\t\t\tdata = fullData;\n\t\t\t}\n\n\t\t\tReact.Children.forEach(this.props.children, (child) => {\n\t\t\t\tif (\"ReStock.Chart\" === child.props.namespace) {\n\t\t\t\t\tvar chartProps = child.props;\n\n\t\t\t\t\tvar dimensions = this.getDimensions(this.props, chartProps);\n\t\t\t\t\tvar threshold = dimensions.width / 4;\n\t\t\t\t\tif (data.length > threshold) {\n\t\t\t\t\t\tdata = data.slice(data.length - threshold);\n\t\t\t\t\t}\n\n\t\t\t\t\t//var charts = chartStore.get().charts.push(this.createChartData(child.props.id));\n\t\t\t\t\t//var _chartData = charts[charts.length - 1];\n\t\t\t\t\tvar _chartData = this.getChartDataFor(this.props, chartProps, data, fullData, passThroughProps);\n\t\t\t\t\t_chartData.id = child.props.id;\n\t\t\t\t\tchartStore.get().charts.push(_chartData);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar stores = {\n\t\t\t\t\teventStore: eventStore,\n\t\t\t\t\tchartStore: chartStore,\n\t\t\t\t\tcurrentItemStore: currentItemStore,\n\t\t\t\t\tzoomEventStore: zoomEventStore,\n\t\t\t\t\tfullData: fullData,\n\t\t\t\t\tdata: data,\n\t\t\t\t\tpassThroughProps: passThroughProps\n\t\t\t\t};\n\t\t\t// console.log(stores);\n\t\t\tthis.setState(stores);\n\t\t}\n\t},\n\tgetEventStore() {\n\t\treturn this.state.eventStore;\n\t},\n\tupdateEventStore(eventStore, zoomEventStore) {\n\t\tthis.unListen();\n\n\t\tvar newState = {\n\t\t\teventStore: eventStore,\n\t\t\tchartStore: this.state.chartStore,\n\t\t\tcurrentItemStore: this.state.currentItemStore,\n\t\t\tzoomEventStore: zoomEventStore || this.state.zoomEventStore\n\t\t};\n\t\tthis.setState(newState, () => { this.listen(newState) });\n\t},\n\tcomponentWillUnmount() {\n\t\tif (this.doesContainChart()) {\n\t\t\tthis.unListen();\n\t\t}\n\t},\n\tunListen() {\n\t\tif (this.state.eventStore !== undefined) {\n\t\t\tthis.state.eventStore.off('update', this.eventListener);\n\t\t}\n\t\tif (this.state.chartStore !== undefined) {\n\t\t\tthis.state.chartStore.off('update', this.dataListener);\n\t\t}\n\t\tif (this.state.zoomEventStore !== undefined) {\n\t\t\tthis.state.zoomEventStore.off('update', this.zoomEventListener);\n\t\t}\n\t},\n\teventListener(d) {\n\t\t//console.log('events updated...', d);\n\t\t//this.state.chartStore.get().currentItem.set({value : new Date().getTime()});\n\t\tif (this.state.chartStore.get().updateMode.immediate) {\n\t\t\tthis.state.chartStore.get().charts.forEach((chart) => {\n\t\t\t\tthis.updateCurrentItemForChart(chart);\n\t\t\t});\n\t\t\tif (this.state.eventStore.get().pan) {\n\t\t\t\trequestAnimationFrame(() => {\n\n\t\t\t\t\tvar mainChart = this.state.currentItemStore.get().mainChart;\n\t\t\t\t\tvar chart = this.getChartForId(mainChart);\n\t\t\t\t\t//var domain = chart.scales.xScale.domain();\n\t\t\t\t\tvar domain = this.state.eventStore.get().dragOriginDomain;\n\t\t\t\t\tvar domainRange = domain[1] - domain[0];\n\n\t\t\t\t\t// domainRange = domain[1] - domain[0];\n\t\t\t\t\t// get width of mainChart\n\t\t\t\t\tvar fullData = this.state.fullData[this.state.currentItemStore.get().interval];\n\t\t\t\t\tvar last = fullData[fullData.length - 1];\n\t\t\t\t\tvar first = fullData[0];\n\n\t\t\t\t\tvar domainStart = Math.round(getLongValue(domain[0]) - this.state.eventStore.get().dx/chart.width * domainRange)\n\t\t\t\t\tif (domainStart < getLongValue(chart.accessors.xAccessor(first)) - Math.floor(domainRange/3)) {\n\t\t\t\t\t\tdomainStart = getLongValue(chart.accessors.xAccessor(first)) - Math.floor(domainRange/3)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdomainStart = Math.min(getLongValue(chart.accessors.xAccessor(last))\n\t\t\t\t\t\t\t+ Math.ceil(domainRange/3), domainStart + domainRange) - domainRange;\n\t\t\t\t\t}\n\n\t\t\t\t\t/*console.log('pan in progress...', this.state.eventStore.get().dx, domain[0], domainRange\n\t\t\t\t\t\t, new Date(domainStart));*/\n\n\t\t\t\t\tvar domainL = domainStart, domainR = domainStart + domainRange\n\t\t\t\t\tif (domain[0] instanceof Date) {\n\t\t\t\t\t\tdomainL = new Date(domainL);\n\t\t\t\t\t\tdomainR = new Date(domainR);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.state.currentItemStore.get().viewPortXRange.set([domainL, domainR]);\n\n\t\t\t\t\tvar data = this.calculateViewableData();\n\n\t\t\t\t\t// update the viewPortXRange\n\t\t\t\t\t// this.state.currentItemStore.get().viewPortXRange\n\n\t\t\t\t\tReact.Children.forEach(this.props.children, (child) => {\n\t\t\t\t\t\tif (\"ReStock.Chart\" === child.props.namespace) {\n\t\t\t\t\t\t\tvar _chartData = this.getChartForId(child.props.id);\n\n\t\t\t\t\t\t\t_chartData = this.updateChartDataFor(_chartData, data.data)\n\n\t\t\t\t\t\t\t_chartData.scales.xScale.domain([domainL, domainR]);\n\t\t\t\t\t\t\t//_chartData.scales.xScale.domain(this.state.currentItemStore.get().viewPortXRange);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n/*\t\t\t\t\tvar thisChart = this.getChartForId(mainChart);\n\t\t\t\t\tthisChart = this.updateChartDataFor(thisChart, data)\n\t\t\t\t\tthisChart.scales.xScale.domain([domainL, domainR]);\n*/\t\t\t\t\t//var newXScale = this.updateXScaleDomain(chart.scales.xScale, [domainL, domainR])\n\n\t\t\t\t\t//chart.scales.set({ xScale: newXScale });\n\n\t\t\t\t\t/*this.setState({\n\t\t\t\t\t\tdata: data\n\t\t\t\t\t})*/\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tdata: data.data\n\t\t\t\t\t})\n\t\t\t\t\t// this.forceUpdate();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t/*requestAnimationFrame(() => {\n\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t});*/\n\t\t\t\tthis.forceUpdate();\n\t\t\t}\n\t\t}\n\t},\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (this.doesContainChart()) {\n\t\t\t/*console.log('EventCaptureMixin.componentWillReceiveProps');\n\t\t\tconsole.log('EventCaptureMixin.componentWillReceiveProps');\n\t\t\tconsole.log('EventCaptureMixin.componentWillReceiveProps');*/\n\n\t\t\tvar passThroughProps;\n\t\t\tif (this.isDataDransform && this.isDataDransform()) {\n\t\t\t\tpassThroughProps = this.transformData(this.props);\n\t\t\t}\n\n\t\t\tReact.Children.forEach(nextProps.children, (child) => {\n\t\t\t\tif (\"ReStock.Chart\" === child.props.namespace) {\n\n\n\t\t\t\t\tvar chartProps = child.props;\n\n\t\t\t\t\tvar _chartData = this.getChartDataFor(nextProps, chartProps, nextProps.data, nextProps.data, passThroughProps);\n\t\t\t\t\t_chartData.id = child.props.id;\n\n\t\t\t\t\tvar chartData = this.getChartForId(child.props.id);\n\t\t\t\t\tchartData.reset(_chartData);\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t//this.calculateViewableData();\n\t\t}\n\t},\n\tcalculateViewableData() {\n\t\tvar xRange = this.state.currentItemStore.get().viewPortXRange;\n\t\tvar fullData = this.getFullData()[this.state.currentItemStore.get().interval];\n\t\tvar data = this.state.data;\n\n\t\tif (xRange.length > 0) {\n\t\t\tvar mainChart = this.state.currentItemStore.get().mainChart,\n\t\t\t\tchart = this.getChartForId(mainChart);\n\n\t\t\tvar leftX = Utils.getClosestItemIndexes(fullData, xRange[0], chart.accessors.xAccessor);\n\t\t\tvar rightX = Utils.getClosestItemIndexes(fullData, xRange[1], chart.accessors.xAccessor);\n\t\t\t\t\t\tconsole.log('whoa whoa whoa');\n\t\t\tvar currentInterval = this.state.currentItemStore.get().interval;\n\t\t\tvar filteredData = fullData.slice(leftX.left, rightX.right);\n\t\t\tif (this.state.passThroughProps && this.state.passThroughProps._stockScale\n\t\t\t\t\t&& filteredData.length > chart.width / 3) {\n\t\t\t\tif (this.state.passThroughProps._multiInterval && currentInterval ==='D' ) {\n\t\t\t\t\tvar interval = 'W';\n\t\t\t\t\tthis.state.currentItemStore.get().set({ interval : interval });\n\t\t\t\t\tfullData = this.state.fullData[interval];\n\n\t\t\t\t\tleftX = Utils.getClosestItemIndexes(fullData, xRange[0], chart.accessors.xAccessor);\n\t\t\t\t\trightX = Utils.getClosestItemIndexes(fullData, xRange[1], chart.accessors.xAccessor);\n\t\t\t\t\tfilteredData = fullData.slice(leftX.left, rightX.right);\n\n\t\t\t\t} else if (this.state.passThroughProps._multiInterval && currentInterval ==='W' ) {\n\t\t\t\t\tvar interval = 'M';\n\t\t\t\t\tthis.state.currentItemStore.get().set({ interval : interval });\n\t\t\t\t\tfullData = this.state.fullData[interval];\n\n\t\t\t\t\tleftX = Utils.getClosestItemIndexes(fullData, xRange[0], chart.accessors.xAccessor);\n\t\t\t\t\trightX = Utils.getClosestItemIndexes(fullData, xRange[1], chart.accessors.xAccessor);\n\t\t\t\t\tfilteredData = fullData.slice(leftX.left, rightX.right);\n\t\t\t\t} else {\n\t\t\t\t\tvar l = getLongValue(chart.accessors.xAccessor(this.state.data[0]));\n\t\t\t\t\tvar r = getLongValue(chart.accessors.xAccessor(this.state.data[this.state.data.length - 1]));\n\t\t\t\t\tthis.state.currentItemStore.get().set({ viewPortXRange : [l, r] });\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdata: this.state.data\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else if (this.state.passThroughProps && this.state.passThroughProps._stockScale\n\t\t\t\t\t&& (currentInterval === 'W' || currentInterval === 'M')) {\n\t\t\t\t// TODO if zoom in, try to go from M to W or W to D if possible\n\t\t\t} else if (filteredData.length / chart.width < .03) {\n\t\t\t\tvar l = getLongValue(chart.accessors.xAccessor(this.state.data[0]));\n\t\t\t\tvar r = getLongValue(chart.accessors.xAccessor(this.state.data[this.state.data.length - 1]));\n\t\t\t\tthis.state.currentItemStore.get().set({ viewPortXRange : [l, r] });\n\n\t\t\t\treturn {\n\t\t\t\t\tdata: this.state.data\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tdata: filteredData\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\tdata: data\n\t\t}\n\t},\n\tzoomEventListener(d) {\n\t\t//console.log('events updated...', d);\n\t\t//this.state.chartStore.get().currentItem.set({value : new Date().getTime()});\n\t\tif (this.state.chartStore.get().updateMode.immediate) {\n\n\n\t\t\tvar zoomData = this.state.zoomEventStore.get(),\n\t\t\t\tzoomDir = zoomData.zoom,\n\t\t\t\tmainChart = this.state.currentItemStore.get().mainChart,\n\t\t\t\tchart = this.getChartForId(mainChart);\n\n\t\t\t// console.log('************UPDATING NOW**************- zoomDir = ', zoomDir, mainChart);\n\n\t\t\tthis.updateCurrentItemForChart(chart);\n\n\t\t\tvar item = this.getCurrentItemForChart(mainChart).data,\n\t\t\t\tdomain = chart.scales.xScale.domain(),\n\t\t\t\tcenterX = chart.accessors.xAccessor(item),\n\t\t\t\tleftX = centerX - domain[0],\n\t\t\t\trightX = domain[1] - centerX,\n\t\t\t\tzoom = Math.pow(1 + Math.abs(zoomDir)/2 , zoomDir),\n\t\t\t\tdomainL = (getLongValue(centerX) - ( leftX * zoom)),\n\t\t\t\tdomainR = (getLongValue(centerX) + (rightX * zoom));\n\n\t\t\tvar domainRange = Math.abs(domain[1] - domain[0]);\n\t\t\tvar fullData = this.state.fullData[this.state.currentItemStore.get().interval];\n\t\t\tvar last = fullData[fullData.length - 1];\n\t\t\tvar first = fullData[0];\n\n\t\t\tdomainL = Math.max(getLongValue(chart.accessors.xAccessor(first)) - Math.floor(domainRange/3), domainL)\n\t\t\tdomainR = Math.min(getLongValue(chart.accessors.xAccessor(last)) + Math.floor(domainRange/3), domainR)\n\n\t\t\tif (centerX instanceof Date) {\n\t\t\t\tdomainL = new Date(domainL);\n\t\t\t\tdomainR = new Date(domainR);\n\t\t\t}\n\n\n\n\n\t\t\tthis.state.currentItemStore.get().viewPortXRange.set([domainL, domainR]);\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tvar data = this.calculateViewableData();\n\t\t\t\tconsole.log(domainL, domainR);\n\t\t\t\tvar passThroughProps = this.state.passThroughProps;\n\n\t\t\t\tReact.Children.forEach(this.props.children, (child) => {\n\t\t\t\t\tif (\"ReStock.Chart\" === child.props.namespace) {\n/*\n\n\n*/\n\t\t\t\t\t\tvar _chartData = this.getChartForId(child.props.id);\n\n\t\t\t\t\t\t_chartData = this.updateChartDataFor(_chartData, data.data)\n\t\t\t\t\t\t_chartData.scales.xScale.domain(this.state.currentItemStore.get().viewPortXRange);\n\t\t\t\t\t}\n\t\t\t\t})\n\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tdata: data.data\n\t\t\t\t})\n\t\t\t});\n\n\t\t\t// find mainChart\n\t\t\t// get new domainL & R\n\t\t\t// if (this.props.changeIntervalIfNeeded) is present\n\t\t\t//\t\tcall this.props.changeIntervalIfNeeded\n\t\t\t//\t\tif ^ returns false\n\t\t\t//\t\t\trequestAnimationFrame and send down new data\n\t\t\t//\t\t\tupdate currentItem\n\t\t\t//\t\tif true\n\t\t\t//\t\t\tupdate currentItem\n\t\t\t// else\n\t\t\t//\t\trequestAnimationFrame and send down new data\n\t\t\t//\t\tupdate currentItem\n\n\t\t}\n\t},\n\tdataListener(d) {\n\t\t// console.log('data updated from ', this.state.chartStore.get().currentItem, ' to ', d);\n\t\tif (this.state.chartStore.get().updateMode.immediate) {\n\t\t\trequestAnimationFrame(function () {\n\t\t\t\t// console.log('************UPDATING NOW**************');\n\t\t\t\t// console.log(this.state.chartStore.get().charts[0].overlays);\n\t\t\t\tthis.forceUpdate();\n\t\t\t}.bind(this));\n\t\t}\n\t},\n\tcomponentDidMount() {\n\t\tif (this.doesContainChart()) {\n\t\t\t// this.state.chartStore.get().updateMode.set({ immediate: true });\n\t\t\tthis.listen(this.state);\n\t\t}\n\t},\n\tcomponentDidUpdate() {\n\t\tif (this.doesContainChart()) {\n\t\t\tif (! this.state.chartStore.get().updateMode.immediate)\n\t\t\t\tthis.state.chartStore.get().updateMode.set({ immediate: true });\n\t\t}\n\t},\n\tlisten(stores) {\n\t\t// console.log('begining to listen...', stores);\n\n\t\tstores.eventStore.on('update', this.eventListener);\n\t\t// stores.chartStore.on('update', this.dataListener);\n\t\tstores.zoomEventStore.on('update', this.zoomEventListener);\n\t\t// stores.chartStore.get().currentItem.getListener().on('update', this.dataListener);\n\t},\n\tupdatePropsForEventCapture(child) {\n\t\tif (\"ReStock.EventCapture\" === child.props.namespace) {\n\t\t\t// find mainChart and add to zoomeventstores\n\t\t\tif (this.state.currentItemStore.get().mainChart === undefined\n\t\t\t\t|| this.state.currentItemStore.get().mainChart !== child.props.mainChart) {\n\n\t\t\t\tthis.state.currentItemStore.get().set({ mainChart: child.props.mainChart });\n\t\t\t}\n\t\t\treturn React.addons.cloneWithProps(child, {\n\t\t\t\t_eventStore: this.state.eventStore,\n\t\t\t\t_zoomEventStore: this.state.zoomEventStore,\n\t\t\t\t_chartData: this.getChartForId(child.props.mainChart)\n\t\t\t}); \n\t\t}\n\t\treturn child;\n\t},\n\tupdatePropsForCurrentCoordinate(child) {\n\t\tif (\"ReStock.CurrentCoordinate\" === child.props.namespace) {\n\t\t\tvar chart = this.getChartForId(child.props.forChart);\n\t\t\tvar currentItem = this.getCurrentItemForChart(child.props.forChart);\n\n\t\t\treturn React.addons.cloneWithProps(child, {\n\t\t\t\t_show: this.state.eventStore.get().mouseOver.value,\n\t\t\t\t_chartData: chart,\n\t\t\t\t_currentItem: currentItem\n\t\t\t});\n\t\t}\n\t\treturn child;\n\t},\n\tupdatePropsForMouseCoordinates(child) {\n\t\tif (\"ReStock.MouseCoordinates\" === child.props.namespace) {\n\t\t\tvar chart = this.getChartForId(child.props.forChart);\n\t\t\tvar currentItem = this.getCurrentItemForChart(child.props.forChart);\n\n\t\t\treturn React.addons.cloneWithProps(child, {\n\t\t\t\t_show: this.state.eventStore.get().mouseOver.value,\n\t\t\t\t_mouseXY: this.state.eventStore.get().mouseXY,\n\t\t\t\t_chartData: chart,\n\t\t\t\t_currentItem: currentItem\n\t\t\t});\n\t\t}\n\t\treturn child;\n\t},\n\tupdatePropsForTooltipContainer(child) {\n\t\tif (\"ReStock.TooltipContainer\" === child.props.namespace) {\n\t\t\treturn React.addons.cloneWithProps(child, {\n\t\t\t\t_currentItems: this.state.currentItemStore.get().currentItems,\n\t\t\t\t_charts: this.state.chartStore.get().charts\n\t\t\t});\n\t\t}\n\t\treturn child;\n\t},\n\tupdatePropsForEdgeContainer(child) {\n\t\tif (\"ReStock.EdgeContainer\" === child.props.namespace) {\n\t\t\treturn React.addons.cloneWithProps(child, {\n\t\t\t\t_currentItems: this.state.currentItemStore.get().currentItems,\n\t\t\t\t_charts: this.state.chartStore.get().charts\n\t\t\t});\n\t\t}\n\t\treturn child;\n\t},\n\tupdatePropsForChart(child) {\n\t\tvar newChild = child;\n\t\tif (\"ReStock.Chart\" === child.props.namespace) {\n\t\t\tif (this.state.eventStore && this.state.chartStore) {\n\t\t\t\tvar _chartData = this.getChartForId(newChild.props.id);\n\t\t\t\tnewChild = React.addons.cloneWithProps(newChild, {\n\t\t\t\t\t_updateMode: this.state.chartStore.get().updateMode,\n\t\t\t\t\t_chartData: _chartData,\n\t\t\t\t\tdata: this.getData(),\n\t\t\t\t\t//_pan: this.state.eventStore.get().pan,\n\t\t\t\t\t//_isMainChart: newChild.props.id === this.state.currentItemStore.get().mainChart/**/\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn newChild;\n\t},\n\tgetData(range) {\n\t\treturn this.state.data;\n\t},\n\tgetFullData() {\n\t\treturn this.state.fullData;\n\t},\n\tgetChartForId(chartId) {\n\t\tvar charts = this.state.chartStore.get().charts;\n\t\tvar filteredCharts = charts.filter((eachChart) => eachChart.id === chartId);\n\t\tif (filteredCharts.length > 1) {\n\t\t\tvar errorMessage = `multiple charts with the same id ${ chartId } found`;\n\t\t\tconsole.warn(errorMessage);\n\t\t\tthrow new Error(errorMessage);\n\t\t}\n\t\tif (filteredCharts.length === 0) {\n\t\t\tcharts = charts.push(createChartData(chartId));\n\t\t\treturn this.getChartForId(chartId);\n\t\t}\n\t\treturn filteredCharts[0];\n\t},\n\tcreateChartData(chartId) {\n\t\tvar chart = {\n\t\t\t\tid: chartId,\n\t\t\t\tscales: { xScale: null, yScale: null },\n\t\t\t\taccessors: { xAccessor: null, yAccessor: null },\n\t\t\t\tlastItem: {},\n\t\t\t\tfirstItem: {},\n\t\t\t\toverlays: [],\n\t\t\t\toverlayValues: []\n\t\t\t};\n\t\treturn chart;\n\t},\n\tgetCurrentItemForChart(chartId) {\n\t\tvar currentItems = this.state.currentItemStore.get().currentItems;\n\t\tvar filteredCurrentItems = currentItems.filter((each) => each.id === chartId);\n\t\tif (filteredCurrentItems.length > 1) {\n\t\t\tvar errorMessage = `multiple filteredCurrentItems with the same id ${ chartId } found`;\n\t\t\tconsole.warn(errorMessage);\n\t\t\tthrow new Error(errorMessage);\n\t\t}\n\t\tif (filteredCurrentItems.length === 0) {\n\t\t\tvar currentItem = {\n\t\t\t\tid: chartId,\n\t\t\t\tdata: {}\n\t\t\t};\n\t\t\tcurrentItems = currentItems.push(currentItem);\n\t\t\treturn this.getCurrentItemForChart(chartId);\n\t\t}\n\t\treturn filteredCurrentItems[0];\n\t},\n\tupdateCurrentItemForChart(chartData) {\n\t\tvar currentItem = this.getCurrentItemForChart(chartData.id);\n\t\tvar mouseXY = this.state.eventStore.get().mouseXY;\n\t\tif (chartData.scales.xScale === null) {\n\t\t\tconsole.warn('Verify if the the <Chart id=... > matches with the forChart=... This error likely because a Chart defined with id={%s} is not found', chartData.id);\n\t\t}\n\t\tvar xValue = chartData.scales.xScale.invert(mouseXY[0]);\n\t\tvar item = Utils.getClosestItem(this.getData(), xValue, chartData.accessors.xAccessor);\n\n\t\tcurrentItem = currentItem.data.reset(item);\n\t\t// console.log(currentItem);\n\t},\n\t_renderChildren(children) {\n\t\tif (this.doesContainChart()) {\n\t\t\treturn React.Children.map(children, (child) => {\n\t\t\t\tif (typeof child.type === 'string') return child;\n\t\t\t\tvar newChild = child;\n\t\t\t\tnewChild = this.updatePropsForEventCapture(child);\n\t\t\t\tnewChild = this.updatePropsForMouseCoordinates(newChild);\n\t\t\t\tnewChild = this.updatePropsForTooltipContainer(newChild);\n\t\t\t\tnewChild = this.updatePropsForEdgeContainer(newChild);\n\t\t\t\tnewChild = this.updatePropsForChart(newChild);\n\t\t\t\tnewChild = this.updatePropsForCurrentCoordinate(newChild);\n\t\t\t\treturn newChild;\n\t\t\t});\n\t\t}\n\t\treturn children;\n\t}\n};\n\nmodule.exports = EventCaptureMixin;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/mixin/event-capture-mixin.js\n **/","\"use strict\";\nvar React = require('react/addons'),\n\td3 = require('d3'),\n\tScaleUtils = require('../utils/scale-utils'),\n\tOverlayUtils = require('../utils/overlay-utils'),\n\tUtils = require('../utils/utils'),\n\tChart = require('../chart'),\n\toverlayColors = Utils.overlayColors;\nvar pluck = Utils.pluck;\nvar keysAsArray = Utils.keysAsArray;\n\n\nfunction getOverlayFromList(overlays, id) {\n\treturn overlays.map((each) => [each.id, each])\n\t\t.filter((eachMap) => eachMap[0] === id)\n\t\t.map((eachMap) => eachMap[1])[0];\n}\n\n\nvar ChartContainerMixin = {\n\tgetDimensions(_props, chartProps) {\n\n\t\tvar availableWidth = _props._width || this.getAvailableWidth(_props);\n\t\tvar availableHeight = _props._height || this.getAvailableHeight(_props);\n\n\t\tvar width = chartProps.width || availableWidth;\n\t\tvar height = chartProps.height || availableHeight\n\n\t\treturn {\n\t\t\tavailableWidth: availableWidth,\n\t\t\tavailableHeight: availableHeight,\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t}\n\t},\n\tgetChartDataFor(_props, chartProps, data, fullData, passThroughProps) {\n\t\tvar dimensions = this.getDimensions(_props, chartProps);\n\n\t\tvar scales = this.defineScales(chartProps, data, passThroughProps);\n\n\t\tvar accessors = this.getXYAccessors(chartProps, passThroughProps);\n\t\t// identify overlays\n\t\tvar overlaysToAdd = this.identifyOverlaysToAdd(chartProps);\n\t\t// console.log(overlaysToAdd);\n\t\t// calculate overlays\n\t\tthis.calculateOverlays(fullData, overlaysToAdd);\n\n\t\tvar overlayYAccessors = pluck(keysAsArray(overlaysToAdd), 'yAccessor');\n\n\t\tvar xyValues = ScaleUtils.flattenData(data, [accessors.xAccessor], [accessors.yAccessor].concat(overlayYAccessors));\n\n\t\tvar overlayValues = this.updateOverlayFirstLast(data, overlaysToAdd)\n\n\t\tscales = this.updateScales(\n\t\t\txyValues\n\t\t\t, scales\n\t\t\t, data\n\t\t\t, dimensions.width\n\t\t\t, dimensions.height);\n\n\t\tvar last = Utils.cloneMe(data[data.length - 1]);\n\t\tvar first = Utils.cloneMe(data[0]);\n\t\tvar origin = typeof chartProps.origin === 'function'\n\t\t\t? chartProps.origin(dimensions.availableWidth, dimensions.availableHeight)\n\t\t\t: chartProps.origin;\n\n\t\tvar drawableWidth = scales.xScale(accessors.xAccessor(data[data.length - 1]))\n\t\t\t- scales.xScale(accessors.xAccessor(data[0]));\n\n\t\tvar _chartData = {\n\t\t\t\twidth: dimensions.width,\n\t\t\t\theight: dimensions.height,\n\t\t\t\tdrawableWidth: drawableWidth,\n\t\t\t\torigin: origin,\n\t\t\t\toverlayValues: overlayValues,\n\t\t\t\toverlays: overlaysToAdd,\n\t\t\t\taccessors: accessors,\n\t\t\t\tscales: scales,\n\t\t\t\tlastItem: last,\n\t\t\t\tfirstItem: first\n\t\t\t};\n\t\treturn _chartData;\n\t},\n\tdefineScales(props, data, passThroughProps) {\n\t\tvar xScale = props.xScale || props._xScale,\n\t\t\tyScale = props.yScale;\n\n\t\tif (xScale === undefined && passThroughProps) xScale = passThroughProps._xScale;\n\n\t\tif (xScale === undefined) {\n\t\t\tvar each = data[0];\n\t\t\tif (typeof each === 'object') {\n\t\t\t\tObject.keys(each).forEach((key) => {\n\t\t\t\t\tif (Object.prototype.toString.call(each[key]) === '[object Date]') {\n\t\t\t\t\t\txScale = d3.time.scale();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (xScale === undefined) xScale = d3.scale.linear();\n\t\t\t//xScale = polyLinearTimeScale();\n\t\t}\n\t\tif (yScale === undefined) {\n\t\t\tyScale = d3.scale.linear();\n\t\t}\n\t\treturn { xScale: xScale, yScale: yScale };\n\t},\n\tgetXYAccessors(props, passThroughProps) {\n\t\tvar accessor = { xAccessor: null, yAccessor: null };\n\n\t\tReact.Children.forEach(props.children, (child) => {\n\t\t\tif (['ReStock.DataSeries']\n\t\t\t\t\t.indexOf(child.props.namespace) > -1) {\n\t\t\t\tif (child.props) {\n\n\t\t\t\t\tvar xAccesor = passThroughProps !== undefined && passThroughProps._stockScale\n\t\t\t\t\t\t? passThroughProps._indexAccessor\n\t\t\t\t\t\t: child.props.xAccessor\n\t\t\t\t\taccessor.xAccessor = xAccesor;\n\t\t\t\t\taccessor.yAccessor = child.props.yAccessor;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t// yAccessors.push(overlayY);\n\n\t\treturn accessor;\n\t},\n\tidentifyOverlaysToAdd(props) {\n\t\tvar overlaysToAdd = [];\n\t\tReact.Children.forEach(props.children, (child) => {\n\t\t\tif (/DataSeries$/.test(child.props.namespace)) {\n\t\t\t\tReact.Children.forEach(child.props.children, (grandChild) => {\n\t\t\t\t\tif (/OverlaySeries$/.test(grandChild.props.namespace)) {\n\t\t\t\t\t\t// var overlay = getOverlayFromList(overlays, grandChild.props.id)\n\t\t\t\t\t\tvar key = OverlayUtils.getYAccessorKey(props.id, grandChild.props);\n\t\t\t\t\t\tvar overlay = {\n\t\t\t\t\t\t\tid: grandChild.props.id,\n\t\t\t\t\t\t\tchartId: props.id,\n\t\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\t\tyAccessor: (d) => d[key],\n\t\t\t\t\t\t\toptions: grandChild.props.options,\n\t\t\t\t\t\t\ttype: grandChild.props.type,\n\t\t\t\t\t\t\ttooltipLabel: OverlayUtils.getToolTipLabel(grandChild.props),\n\t\t\t\t\t\t\tstroke: grandChild.stroke || overlayColors(grandChild.props.id)\n\t\t\t\t\t\t};\n\t\t\t\t\t\toverlaysToAdd.push(overlay);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t})\n\t\treturn overlaysToAdd;\n\t},\n\tcalculateOverlays(fullData, overlays) {\n\t\tif (Array.isArray(fullData)) {\n\t\t\toverlays\n\t\t\t\t.filter((eachOverlay) => eachOverlay.id !== undefined)\n\t\t\t\t.forEach((overlay) => {\n\t\t\t\t\tOverlayUtils.calculateOverlay(fullData, overlay);\n\t\t\t\t});\n\t\t} else {\n\t\t\tObject.keys(fullData)\n\t\t\t\t.filter((key) => ['D', 'W', 'M'].indexOf(key) > -1)\n\t\t\t\t.forEach((key) => {\n\t\t\t\t\toverlays\n\t\t\t\t\t\t.filter((eachOverlay) => eachOverlay.id !== undefined)\n\t\t\t\t\t\t.forEach((overlay) => {\n\t\t\t\t\t\t\tOverlayUtils.calculateOverlay(fullData[key], overlay);\n\t\t\t\t\t\t});\n\t\t\t\t})\n\t\t}\n\t\t// console.log(overlays);\n\t},\n\tupdateOverlayFirstLast(data,\n\t\toverlays) {\n\n\t\t// console.log('updateOverlayFirstLast');\n\n\t\tvar overlayValues = [];\n\n\t\toverlays\n\t\t\t.forEach((eachOverlay, idx) => {\n\t\t\t\t// console.log(JSON.stringify(first), Object.keys(first), yAccessor(first));\n\t\t\t\toverlayValues.push({\n\t\t\t\t\tid: eachOverlay.id,\n\t\t\t\t\tfirst: OverlayUtils.firstDefined(data, eachOverlay.yAccessor),\n\t\t\t\t\tlast: OverlayUtils.lastDefined(data, eachOverlay.yAccessor)\n\t\t\t\t})/**/\n\t\t\t})\n\t\t// console.log(_overlayValues);\n\t\treturn overlayValues;\n\t},\n\tupdateScales(xyValues, scales, data, width, height) {\n\t\tconsole.log('updateScales');\n\n\n\t\tscales.xScale.range([0, width]);\n\t\t// if polylinear scale then set data\n\t\tif (scales.xScale.isPolyLinear && scales.xScale.isPolyLinear()) {\n\t\t\tscales.xScale.data(data);\n\t\t} else {\n\t\t\t// else set the domain\n\t\t\tscales.xScale.domain(d3.extent(xyValues.xValues));\n\t\t}\n\n\t\tscales.yScale.range([height, 0]);\n\n\t\tvar domain = d3.extent(xyValues.yValues);\n\t\t//var extraPadding = Math.abs(domain[0] - domain[1]) * 0.05;\n\t\t//yScale.domain([domain[0] - extraPadding, domain[1] + extraPadding]);\n\t\tscales.yScale.domain(domain);\n\n\t\treturn {\n\t\t\txScale: scales.xScale.copy(),\n\t\t\tyScale: scales.yScale.copy()\n\t\t};\n\t},\n\n\tupdateChartDataFor(_chartData, data) {\n\t\tconsole.log('updateChartDataFor');\n\t\tvar scales = _chartData.scales;\n\n\t\tvar accessors = _chartData.accessors;\n\n\t\tvar overlayValues = this.updateOverlayFirstLast(data, _chartData.overlays)\n\t\t_chartData = _chartData.set( { overlayValues: overlayValues } ); // replace everything\n\n\t\tvar overlayYAccessors = pluck(keysAsArray(_chartData.overlays), 'yAccessor');\n\n\n\t\tvar xyValues = ScaleUtils.flattenData(data, [accessors.xAccessor], [accessors.yAccessor].concat(overlayYAccessors));\n\n\t\tscales = this.updateScales(\n\t\t\txyValues\n\t\t\t, scales\n\t\t\t, data\n\t\t\t, _chartData.width\n\t\t\t, _chartData.height);\n\n\t\t_chartData = _chartData.set({ scales: scales });\n\n\t\tvar last = Utils.cloneMe(data[data.length - 1]);\n\t\t_chartData = _chartData.set({ lastItem: last });\n\n\t\tvar first = Utils.cloneMe(data[0]);\n\t\t_chartData = _chartData.set({ firstItem: first });\n\t\treturn _chartData;\n\t}\n};\n\nmodule.exports = ChartContainerMixin;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/mixin/chart-container-mixin.js\n **/","\"use strict\";\nvar ChartTransformer = require('../utils/chart-transformer');\n\nvar DataTransformMixin = {\n\tisDataDransform() {\n\t\treturn true;\n\t},\n\ttransformData(props) {\n\t\tvar transformer = ChartTransformer.getTransformerFor(props.transformType);\n\t\tvar passThroughProps = transformer(props.data, props.options)\n\t\t// console.log('passThroughProps-------', passThroughProps);\n\n\t\t// this.setState({ passThroughProps: passThroughProps });\n\t\treturn passThroughProps;\n\t}\n};\n\nmodule.exports = DataTransformMixin;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/mixin/data-transform-mixin.js\n **/","'use strict';\n\nvar d3 = require('d3');\n\nvar polylineartimescale = function(indexAccessor) {\n\treturn guided_scale([0, 1], indexAccessor, d3.scale.linear());\n};\n\nfunction guided_scale(drawableData, indexAccessor, backingLinearScale) {\n\t//var  = 'week'; //valid values 'day', 'week', 'month'\n\n\tvar d3_time_scaleSteps = [\n\t\t{ step: 864e5, f: function (d, i) {return d.date !== undefined && true ;}},  // 1-day\n\t\t{ step: 1728e5, f: function (d, i) {return d.date !== undefined && (i % 2 == 0) ;}},  // 2-day\n\t\t{ step: 8380e5, f: function (d, i, arr) {\n\t\t\t\tif (d.startOfMonth) return true;\n\t\t\t\tvar list = [];\n\t\t\t\tif ((i - 2) >= 0) list.push(arr[i - 2]);\n\t\t\t\tif ((i - 1) >= 0) list.push(arr[i - 1]);\n\t\t\t\tlist.push(arr[i]);\n\t\t\t\tif ((i + 1) <= arr.length - 1) list.push(arr[i + 1]);\n\t\t\t\tif ((i + 2) <= arr.length - 1) list.push(arr[i + 2]);\n\t\t\t\tvar sm = list\n\t\t\t\t\t\t\t.map(function (d) { return d.startOfMonth; })\n\t\t\t\t\t\t\t.reduce(function(prev, curr) {\n\t\t\t\t\t\t\t\t\treturn prev || curr;\n\t\t\t\t\t\t\t\t});\n\t\t\t\treturn sm ? false : d.startOfWeek;\n\t\t\t}},  // 1-week\n\t\t{ step: 3525e6, f: function (d) {return d.startOfMonth; }},  // 1-month\n\t\t{ step: 7776e6, f: function (d) {return d.startOfQuarter; }},  // 3-month\n\t\t{ step: 31536e6, f: function (d) {return d.startOfYear; }},  // 1-year\n\t\t{ step: 91536e15, f: function (d) {return d.date !== undefined && (d.startOfYear && d.date.getFullYear() % 2 == 0); }}  // 2-year\n\t];\n\tvar timeScaleStepsBisector = d3.bisector(function(d) { return d.step; }).left;\n\tvar __BISECT = d3.bisector(function(d) { return indexAccessor(d); }).left;\n\tvar tickFormat = [\n\t\t[d3.time.format(\"%Y\"), function(d) { return d.startOfYear; }],\n\t\t[d3.time.format(\"%b %Y\"), function(d) { return d.startOfQuarter; }],\n\t\t[d3.time.format(\"%b\"), function(d) { return d.startOfMonth; }],\n\t\t[d3.time.format(\"%d %b\"), function(d) { return d.startOfWeek; }],\n\t\t[d3.time.format(\"%a %d \"), function(d) { return true; }]\n\t];\n\tfunction formater(d) {\n\t\tvar i = 0, format = tickFormat[i];\n\t\twhile (!format[1](d)) format = tickFormat[++i];\n\t\tvar tickDisplay = format[0](d.date);\n\t\t// console.log(tickDisplay);\n\t\treturn tickDisplay;\n\t};\n\n\tvar ticks;\n\n\tfunction scale(x) {\n\t\treturn backingLinearScale(x);\n\t};\n\tscale.isPolyLinear = function() {\n\t\treturn true;\n\t}\n\tscale.invert = function(x) {\n\t\treturn backingLinearScale.invert(x);\n\t};\n\tscale.data = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn drawableData;\n\t\t} else {\n\t\t\tdrawableData = x;\n\t\t\t//this.domain([drawableData.first().index, drawableData.last().index]);\n\t\t\tthis.domain([indexAccessor(drawableData[0]), indexAccessor(drawableData[drawableData.length - 1])]);\n\t\t\treturn scale;\n\t\t}\n\t};\n\tscale.domain = function(x) {\n\t\tif (!arguments.length) return backingLinearScale.domain();\n\t\t//console.log(\"before = %s, after = %s\", JSON.stringify(backingLinearScale.domain()), JSON.stringify(x))\n\t\tvar d = [Math.floor(x[0]), Math.ceil(x[1])]\n\n\t\tbackingLinearScale.domain(d);\n\t\treturn scale;\n\t};\n\tscale.range = function(x) {\n\t\tif (!arguments.length) return backingLinearScale.range();\n\t\tbackingLinearScale.range(x);\n\t\treturn scale;\n\t};\n\tscale.rangeRound = function(x) {\n\t\treturn backingLinearScale.range(x);\n\t};\n\tscale.clamp = function(x) {\n\t\tif (!arguments.length) return backingLinearScale.clamp();\n\t\tbackingLinearScale.clamp(x);\n\t\treturn scale;\n\t};\n\tscale.interpolate = function(x) {\n\t\tif (!arguments.length) return backingLinearScale.interpolate();\n\t\tbackingLinearScale.interpolate(x);\n\t\treturn scale;\n\t};\n\n\tscale.ticks = function(m) {\n\n\t\tvar start, end, count = 0;\n\t\tdrawableData.forEach(function (d, i) {\n\t\t\tif (d.date !== undefined) {\n\t\t\t\tif (start === undefined) start = d;\n\t\t\t\tend = d;\n\t\t\t\tcount++;\n\t\t\t}\n\t\t});\n\t\tm = (count/drawableData.length) * m;\n\t\tvar span = (end.date.getTime() - start.date.getTime());\n\t\tvar target = span/m;\n\t\t/*\n\t\tconsole.log(drawableData[drawableData.length - 1].date\n\t\t\t, drawableData[0].date\n\t\t\t, span\n\t\t\t, m\n\t\t\t, target\n\t\t\t, timeScaleStepsBisector(d3_time_scaleSteps, target)\n\t\t\t);\n\t\t*/\n\t\tvar ticks = drawableData\n\t\t\t\t\t\t.filter(d3_time_scaleSteps[timeScaleStepsBisector(d3_time_scaleSteps, target)].f)\n\t\t\t\t\t\t.map(function(d, i) {return indexAccessor(d);})\n\t\t\t\t\t\t;\n\t\t// return the index of all the ticks to be displayed,\n\t\t//console.log(target, span, m, ticks);\n\t\treturn ticks;\n\t};\n\tscale.tickFormat = function(ticks) {\n\t\treturn function(d) {\n\t\t\t// for each index received from ticks() function derive the formatted output\n\t\t\tvar tickIndex = __BISECT(drawableData, d);\n\t\t\treturn formater(drawableData[tickIndex]) ;\n\t\t\t//return formater(d) ;\n\t\t};\n\t}\n\n\tscale.nice = function(m) {\n\t\tbackingLinearScale.nice(m);\n\t\treturn scale;\n\t};\n\tscale.copy = function() {\n\t\treturn guided_scale(drawableData, indexAccessor, backingLinearScale.copy());\n\t};\n\treturn scale;\n}\n\n\nmodule.exports = polylineartimescale\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/scale/polylineartimescale.js\n **/","\"use strict\";\n\nvar shallowEqual = require(\"react/lib/shallowEqual\");\n\n/**\n * If your React component's render function is \"pure\", e.g. it will render the\n * same result given the same props and state, provide this Mixin for a\n * considerable performance boost.\n *\n * Most React components have pure render functions.\n *\n * Example:\n *\n *   var ReactComponentWithPureRenderMixin =\n *     require('ReactComponentWithPureRenderMixin');\n *   React.createClass({\n *     mixins: [ReactComponentWithPureRenderMixin],\n *\n *     render: function() {\n *       return <div className={this.props.className}>foo</div>;\n *     }\n *   });\n *\n * Note: This only checks shallow equality for props and state. If these contain\n * complex data structures this mixin may have false-negatives for deeper\n * differences. Only mixin to components which have simple props and state, or\n * use `forceUpdate()` when you know deep data structures have changed.\n */\nvar ReStockPureRenderMixin = {\n\tshouldComponentUpdate: function(nextProps, nextState) {\n\t\tvar extraCheck = (typeof this.extraShouldComponentUpdate === \"function\")\n\t\t\t? this.extraShouldComponentUpdate\n\t\t\t: (nextProps, nextState, actualCheck) => actualCheck\n\t\tvar actualCheck = !shallowEqual(this.props, nextProps) ||\n\t\t\t\t!shallowEqual(this.state, nextState)\n\t\treturn extraCheck(nextProps, nextState, actualCheck);\n\t}\n};\n\nmodule.exports = ReStockPureRenderMixin;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/mixin/restock-pure-render-mixin.js\n **/","'use strict';\n\nfunction pushToValues(values, eachValue) {\n\tif (typeof eachValue === 'object' && Object.keys(eachValue).length > 0) {\n\t\tObject.keys(eachValue).forEach(function (key) {\n\t\t\tif (!isNaN(eachValue[key])) {\n\t\t\t\tvalues.push(eachValue[key]);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tif (!isNaN(eachValue)) {\n\t\t\tvalues.push(eachValue);\n\t\t}\n\t}\n}\n\n\nvar ScaleUtils = {\n\tflattenData(data, xAccessors, yAccessors) {\n\t\tvar xValues = [];\n\t\tvar yValues = [];\n\t\tdata.forEach( (row) => {\n\t\t\txAccessors.forEach( (xAccessor) => {\n\t\t\t\tvar x = xAccessor(row);\n\t\t\t\tif (x !== undefined) {\n\t\t\t\t\tpushToValues(xValues, x);\n\t\t\t\t}\n\t\t\t});\n\t\t\tyAccessors.forEach( (yAccessor) => {\n\t\t\t\tvar y = yAccessor(row);\n\t\t\t\tif (y !== undefined) {\n\t\t\t\t\tpushToValues(yValues, y);\n\t\t\t\t}\n\t\t\t});\n\t\t})\n\t\treturn {\n\t\t\txValues: xValues,\n\t\t\tyValues: yValues\n\t\t};\n\t}\n}\nmodule.exports = ScaleUtils;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/scale-utils.js\n **/","'use strict';\n\nvar Utils = require('./utils');\nvar MACalculator = require('./moving-average-calculator');\n\nvar OverlayUtils = {\n\tgetToolTipLabel(props) {\n\t\tif (props.type === \"sma\" || props.type === \"ema\") {\n\t\t\tvar tooltip = props.type.toUpperCase() + '(' + props.options.period + ')';\n\t\t\treturn tooltip;\n\t\t}\n\t\treturn 'N/A';\n\t},/*\n\tgetYAccessor(chartId, props) {\n\t\tif (props.type === \"sma\" || props.type === \"ema\") {\n\t\t\tvar key = props.type + props.options.period + '_chart_' + chartId;\n\t\t\treturn (d) => d[key];\n\t\t}\n\t\treturn false;\n\t},*/\n\tgetYAccessorKey(chartId, props) {\n\t\tif (props.type === \"sma\" || props.type === \"ema\") {\n\t\t\tvar key = props.type + props.options.period + '_chart_' + chartId;\n\t\t\treturn key;\n\t\t}\n\t\treturn false;\n\t},\n\tcalculateOverlay(data, overlay) {\n\t\tconsole.log(overlay);\n\t\tif (overlay.type === 'sma') {\n\t\t\tdata = MACalculator.calculateSMA(data, overlay.options.period, overlay.key, overlay.options.pluck);\n\t\t} else if (overlay.type === 'ema') {\n\t\t\tdata = MACalculator.calculateEMA(data, overlay.options.period, overlay.key, overlay.options.pluck);\n\t\t}\n\t\treturn data;\n\t},\n\tfirstDefined(data, accessor) {\n\t\tvar each;\n\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\tif (accessor(data[i]) === undefined) continue;\n\t\t\teach = data[i];\n\t\t\t// console.log(i, each, accessor(each));\n\t\t\tbreak;\n\t\t};\n\t\treturn Utils.cloneMe(each);\n\t},\n\tlastDefined(data, accessor) {\n\t\tvar each;\n\t\tfor (var i = data.length - 1; i >= 0; i--) {\n\t\t\tif (accessor(data[i]) === undefined) continue;\n\t\t\teach = data[i];\n\t\t\t// console.log(i, each, accessor(each));\n\t\t\tbreak;\n\t\t};\n\t\treturn Utils.cloneMe(each);\n\t}\n}\n\nmodule.exports = OverlayUtils;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/overlay-utils.js\n **/","'use strict';\n\nvar d3 = require('d3');\n\nvar overlayColors = d3.scale.category10();\n\nfunction Utils() {\n}\n\nUtils.overlayColors = overlayColors;\nUtils.cloneMe = function(obj) {\n\tif(obj == null || typeof(obj) !== 'object')\n\t\treturn obj;\n\tif (obj instanceof Date) {\n\t\treturn new Date(obj.getTime());\n\t}\n\tvar temp = {};//obj.constructor(); // changed\n\n\tfor(var key in obj) {\n\t\tif(obj.hasOwnProperty(key)) {\n\t\t\ttemp[key] = Utils.cloneMe(obj[key]);\n\t\t}\n\t}\n\treturn temp;\n}\nUtils.displayDateFormat = d3.time.format(\"%Y-%m-%d\");\nUtils.displayNumberFormat = function(x) {\n\treturn Utils.numberWithCommas(x.toFixed(2));\n};\nUtils.numberWithCommas = function(x) {\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n};\nUtils.isNumeric = function(n) {\n\treturn !isNaN(parseFloat(n)) && isFinite(n);\n};\nUtils.mousePosition = function(e) {\n\tvar container = e.currentTarget,\n\t\trect = container.getBoundingClientRect(),\n\t\tx = e.clientX - rect.left - container.clientLeft,\n\t\ty = e.clientY - rect.top - container.clientTop,\n\t\txy = [ Math.round(x), Math.round(y) ];\n\treturn xy;\n}\nUtils.getValue = function(d) {\n\tif (d instanceof Date) {\n\t\treturn d.getTime();\n\t}\n\treturn d;\n}\nUtils.getClosestItem = function(array, value, accessor) {\n\tvar lo = 0, hi = array.length - 1;\n\twhile (hi - lo > 1) {\n\t\tvar mid = Math.round((lo + hi)/2);\n\t\tif (accessor(array[mid]) <= value) {\n\t\t\tlo = mid;\n\t\t} else {\n\t\t\thi = mid;\n\t\t}\n\t}\n\tif (accessor(array[lo]) === value) hi = lo;\n\tvar closest = (Math.abs(accessor(array[lo]) - value) < Math.abs(accessor(array[hi]) - value))\n\t\t\t\t\t\t? array[lo]\n\t\t\t\t\t\t: array[hi]\n\t//console.log(array[lo], array[hi], closest, lo, hi);\n\treturn Utils.cloneMe(closest);\n}\nUtils.getClosestItemIndexes = function(array, value, accessor) {\n\tvar lo = 0, hi = array.length - 1;\n\twhile (hi - lo > 1) {\n\t\tvar mid = Math.round((lo + hi)/2);\n\t\tif (accessor(array[mid]) <= value) {\n\t\t\tlo = mid;\n\t\t} else {\n\t\t\thi = mid;\n\t\t}\n\t}\n\tif (accessor(array[lo]) === value) hi = lo;\n\t//console.log(array[lo], array[hi], closestIndex, lo, hi);\n\treturn { left: lo, right: hi };\n}\nUtils.pluck = function(array, key) {\n\treturn array.map((each) => each[key])\n}\nUtils.keysAsArray = function(obj) {\n\treturn Object.keys(obj)\n\t\t.filter((key) => obj[key] !== null)\n\t\t.map((key) => obj[key]);\n}\nUtils.sum = function(array) {\n\treturn array.reduce((d1, d2) => d1 + d2);\n}\n\nmodule.exports = Utils;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/utils.js\n **/","'use strict';\nvar React = require('react/addons');\n\nvar EdgeCoordinate = React.createClass({\n\tpropTypes: {\n\t\ttype: React.PropTypes.oneOf(['vertical', 'horizontal']).isRequired,\n\t\tcoordinate: React.PropTypes.any.isRequired,\n\t\tx1: React.PropTypes.number.isRequired,\n\t\ty1: React.PropTypes.number.isRequired,\n\t\tx2: React.PropTypes.number.isRequired,\n\t\ty2: React.PropTypes.number.isRequired,\n\t\torient: React.PropTypes.oneOf(['bottom', 'top', 'left', 'right']),\n\t\trectWidth: React.PropTypes.number\n\t},\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\torient: 'left'\n\t\t};\n\t},\n\trender() {\n\t\tif (!this.props.show) return null;\n\n\t\tvar displayCoordinate = this.props.coordinate;\n\t\tvar rectWidth = this.props.rectWidth\n\t\t\t? this.props.rectWidth\n\t\t\t: (this.props.type === 'horizontal')\n\t\t\t\t? 60\n\t\t\t\t: 100,\n\t\t\trectHeight = 20;\n\n\t\tvar edgeXRect, edgeYRect, edgeXText, edgeYText;\n\n\t\tif (this.props.type === 'horizontal') {\n\n\t\t\tedgeXRect = (this.props.orient === 'right') ? this.props.edgeAt + 1 : this.props.edgeAt - rectWidth - 1;\n\t\t\tedgeYRect = this.props.y1 - (rectHeight / 2);\n\t\t\tedgeXText = (this.props.orient === 'right') ? this.props.edgeAt + (rectWidth / 2) : this.props.edgeAt - (rectWidth / 2);\n\t\t\tedgeYText = this.props.y1;\n\t\t} else {\n\t\t\tedgeXRect = this.props.x1 - (rectWidth / 2);\n\t\t\tedgeYRect = (this.props.orient === 'bottom') ? this.props.edgeAt : this.props.edgeAt - rectHeight;\n\t\t\tedgeXText = this.props.x1;\n\t\t\tedgeYText = (this.props.orient === 'bottom') ? this.props.edgeAt + (rectHeight / 2) : this.props.edgeAt - (rectHeight / 2);\n\t\t}\n\t\tvar coordinateBase = null, coordinate = null;\n\t\tif (displayCoordinate !== undefined) {\n\t\t\t\tcoordinateBase = (<rect key={1} className=\"textbg\"\n\t\t\t\t\t\t\t\t\tx={edgeXRect}\n\t\t\t\t\t\t\t\t\ty={edgeYRect}\n\t\t\t\t\t\t\t\t\theight={rectHeight} width={rectWidth} fill={this.props.fill} />);\n\t\t\t\tcoordinate = (<text key={2} x={edgeXText}\n\t\t\t\t\t\t\t\t\ty={edgeYText}\n\t\t\t\t\t\t\t\t\tstyle={{\"textAnchor\": \"middle\"}}\n\t\t\t\t\t\t\t\t\tdy=\".32em\">{displayCoordinate}</text>);\n\t\t}\n\t\treturn (\n\t\t\t<g className={(this.props.show ? 'show ' : 'hide ') + this.props.className}>\n\t\t\t\t\t<line className=\"cross-hair\"\n\t\t\t\t\t\tx1={this.props.x1} y1={this.props.y1}\n\t\t\t\t\t\tx2={this.props.x2} y2={this.props.y2} />\n\t\t\t\t\t{coordinateBase}\n\t\t\t\t\t{coordinate}\n\t\t\t</g>\n\t\t);\n\t}\n});\n\nmodule.exports = EdgeCoordinate;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/edge-coordinate.jsx\n **/","'use strict';\n\nvar StockScaleTransformer = require('./stockscale-transformer');\n\nvar ChartTransformer = {\n\tgetTransformerFor(type) {\n\t\tif (type === \"none\")\n\t\t\treturn (d) => d;\n\t\tif (type === \"stockscale\")\n\t\t\treturn StockScaleTransformer;\n\t\treturn false;\n\t},\n\tfilter(data, dateAccesor, fromDate, toDate) {\n\t\tvar filteredData = data.filter((each) => {\n\t\t\tvar filtered = dateAccesor(each).getTime() > fromDate.getTime() && dateAccesor(each).getTime() < toDate.getTime()\n\t\t\treturn filtered;\n\t\t});\n\t\treturn filteredData;\n\t}\n}\n\nmodule.exports = ChartTransformer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/chart-transformer.js\n **/","'use strict';\n\nvar Utils = require('./utils');\n\nvar pluck = Utils.pluck;\nvar sum = Utils.sum;\n\nfunction MACalculator() {\n\n};\nMACalculator.calculateSMA = function(data, period, key, pluckKey) {\n\tconsole.log('calculateSMA');\n\n\tvar l = data.length - 1;//, key = 'sma' + period;\n\tvar maKey = pluckKey || 'close';\n\n\tdata.map((each, i) => data.slice(i - period, i))\n\t\t.filter((array) => array.length === period && array.length > 0)\n\t\t.map((array) => pluck(array, maKey))\n\t\t.map((array) => sum(array))\n\t\t.map((sum) => sum / period)\n\t\t.reverse()\n\t\t.forEach((avg, i) => {\n\t\t\t// Object.defineProperty(data[l - i], key, { value: avg });\n\t\t\tdata[l - i][key] = avg;\n\t\t\t// console.log(data[l - i][key]);\n\t\t})\n\tif (key === 'sma53_chart_2') {\n\t\tconsole.table(data);\n\t}\n\treturn data;\n}\n\nMACalculator.calculateEMA = function (data, period) {\n\tconsole.log('calculating EMA');\n\treturn false;\n}\n\nmodule.exports = MACalculator;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/moving-average-calculator.js\n **/","var Freezer = require('./src/freezer');\nmodule.exports = Freezer;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/freezer-js/freezer.js\n ** module id = 36\n ** module chunks = 0\n **/","/**\n * Copyright 2013-2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule shallowEqual\n */\n\n\"use strict\";\n\n/**\n * Performs equality by iterating through keys on an object and returning\n * false when any key has values which are not strictly equal between\n * objA and objB. Returns true when the values of all keys are strictly equal.\n *\n * @return {boolean}\n */\nfunction shallowEqual(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n  var key;\n  // Test for A's keys different from B.\n  for (key in objA) {\n    if (objA.hasOwnProperty(key) &&\n        (!objB.hasOwnProperty(key) || objA[key] !== objB[key])) {\n      return false;\n    }\n  }\n  // Test for B's keys missing from A.\n  for (key in objB) {\n    if (objB.hasOwnProperty(key) && !objA.hasOwnProperty(key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = shallowEqual;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react/lib/shallowEqual.js\n ** module id = 37\n ** module chunks = 0\n **/","'use strict';\n\nvar d3 = require('d3');\nvar dateFormat = d3.time.format(\"%Y-%m-%d\");\nvar Utils = require('./utils');\nvar stockScale = require('../scale/polylineartimescale');\n\nvar defaultOptions = {\n\tdateAccesor: (d) => d.date,\n\tindexAccessor: (d) => d._idx,\n\tindexMutator: (d, i) => {d._idx = i;}\n}\n\nfunction StockScaleTransformer(data, options) {\n\tif (options === undefined) options = defaultOptions;\n\tvar dateAccesor = options.dateAccesor;\n\tvar dateMutator = options.dateMutator || function(d, date) {d.date = date};\n\tvar indexMutator = options.indexMutator;\n\n\tvar prevDate;\n\tvar responseData = {}\n\tresponseData.D = data\n\t\t//.filter((each) => Math.random() > 0.9)\n\t\t.map((each, i) => {\n\t\t\tvar row = each;//Utils.cloneMe(each);\n\t\t\t// console.log(each);\n\t\t\t//console.log(row);\n\t\t\tindexMutator(row,  i);\n\n\t\t\trow.startOfWeek = false;\n\t\t\trow.startOfMonth = false;\n\t\t\trow.startOfQuarter = false;\n\t\t\trow.startOfYear = false;\n\t\t\tvar date = dateAccesor(row);\n\t\t\t//row.displayDate = dateFormat(date);\n\t\t\tif (prevDate !== undefined) {\n\t\t\t\t// According to ISO calendar\n\t\t\t\t// Sunday = 0, Monday = 1, ... Saturday = 6\n\t\t\t\t// day of week of today < day of week of yesterday then today is start of week\n\t\t\t\trow.startOfWeek = date.getDay() < prevDate.getDay();\n\t\t\t\t// month of today != month of yesterday then today is start of month\n\t\t\t\trow.startOfMonth = date.getMonth() != prevDate.getMonth();\n\t\t\t\t//if start of month and month % 3 === 0 then it is start of quarter\n\t\t\t\trow.startOfQuarter = row.startOfMonth && date.getMonth() % 3 === 0;\n\t\t\t\t// year of today != year of yesterday then today is start of year\n\t\t\t\trow.startOfYear = date.getYear() != prevDate.getYear();\n\t\t\t}\n\t\t\tprevDate = date;\n\t\t\treturn row;\n\t\t});\n\t// console.table(responseData);\n\tresponseData.W = buildWeeklyData(responseData.D, indexMutator, dateAccesor, dateMutator);\n\tresponseData.M = buildMonthlyData(responseData.D, indexMutator, dateAccesor, dateMutator);\n\n\t// console.table(responseData.W);\n\n\treturn {\n\t\t\tdata: responseData,\n\t\t\t_dateAccessor: dateAccesor,\n\t\t\t_indexAccessor: options.indexAccessor,\n\t\t\t// _indexMutator: indexMutator,\n\t\t\t_stockScale: true,\n\t\t\t_xScale: stockScale(options.indexAccessor),\n\t\t\t_multiInterval: true\n\t\t};\n}\n\nfunction buildWeeklyData(daily, indexMutator, dateAccesor, dateMutator) {\n\tvar weekly = [], prevWeek, eachWeek = {};\n\tfor (var i = 0; i < daily.length; i++) {\n\t\tvar d = daily[i];\n\n\t\tif (dateAccesor(eachWeek)) indexMutator(eachWeek,  i);\n\n\t\tdateMutator(eachWeek, dateAccesor(d));\n\n\t\teachWeek.startOfWeek = eachWeek.startOfWeek || d.startOfWeek;\n\t\teachWeek.startOfMonth = eachWeek.startOfMonth || d.startOfMonth;\n\t\teachWeek.startOfQuarter = eachWeek.startOfQuarter || d.startOfQuarter;\n\t\teachWeek.startOfYear = eachWeek.startOfYear || d.startOfYear;\n\n\t\tif (!eachWeek.open) eachWeek.open = d.open;\n\t\tif (!eachWeek.high) eachWeek.high = d.high;\n\t\tif (!eachWeek.low) eachWeek.low = d.low;\n\n\t\teachWeek.close = d.close;\n\n\t\teachWeek.high = Math.max(eachWeek.high, d.high);\n\t\teachWeek.low = Math.min(eachWeek.low, d.low);\n\n\t\tif (!eachWeek.volume) eachWeek.volume = 0;\n\t\teachWeek.volume += d.volume;\n\n\t\tif (d.startOfWeek) {\n\t\t\tif (prevWeek) {\n\t\t\t\teachWeek.trueRange = Math.max(\n\t\t\t\t\teachWeek.high - eachWeek.low\n\t\t\t\t\t, eachWeek.high - prevWeek.close\n\t\t\t\t\t, eachWeek.low - prevWeek.close\n\t\t\t\t);\n\t\t\t}\n\t\t\tprevWeek = eachWeek\n\t\t\tweekly.push(eachWeek);\n\t\t\teachWeek = {};\n\t\t}\n\t}\n\treturn weekly;\n}\n\nfunction buildMonthlyData(daily, indexMutator, dateAccesor) {\n\tvar monthly = [], prevMonth, eachMonth = {};\n\tfor (var i = 0; i < daily.length; i++) {\n\t\tvar d = daily[i];\n\n\t\tif (!eachMonth.date) indexMutator(eachMonth,  i);\n\n\t\teachMonth.date = dateAccesor(d);\n\n\t\teachMonth.startOfMonth = eachMonth.startOfMonth || d.startOfMonth;\n\t\teachMonth.startOfQuarter = eachMonth.startOfQuarter || d.startOfQuarter;\n\t\teachMonth.startOfYear = eachMonth.startOfYear || d.startOfYear;\n\n\t\tif (!eachMonth.open) eachMonth.open = d.open;\n\t\tif (!eachMonth.high) eachMonth.high = d.high;\n\t\tif (!eachMonth.low) eachMonth.low = d.low;\n\n\t\teachMonth.close = d.close;\n\n\t\teachMonth.high = Math.max(eachMonth.high, d.high);\n\t\teachMonth.low = Math.min(eachMonth.low, d.low);\n\n\t\tif (!eachMonth.volume) eachMonth.volume = 0;\n\t\teachMonth.volume += d.volume;\n\n\t\tif (d.startOfMonth) {\n\t\t\teachMonth.startOfWeek = d.startOfWeek;\n\t\t\tif (prevMonth) {\n\t\t\t\teachMonth.trueRange = Math.max(\n\t\t\t\t\teachMonth.high - eachMonth.low\n\t\t\t\t\t, eachMonth.high - prevMonth.close\n\t\t\t\t\t, eachMonth.low - prevMonth.close\n\t\t\t\t);\n\t\t\t}\n\t\t\tprevMonth = eachMonth\n\t\t\tmonthly.push(eachMonth);\n\t\t\teachMonth = {};\n\t\t}\n\t}\n\treturn monthly;\n}\n\nmodule.exports = StockScaleTransformer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/stockscale-transformer.js\n **/","'use strict';\n\nvar Utils = require( './utils.js' ),\n\tEmitter = require( './emitter' ),\n\tMixins = require( './mixins' ),\n\tFrozen = require( './frozen' )\n;\n\n//#build\nvar Freezer = function( initialValue ) {\n\tvar me = this;\n\n\t// Immutable data\n\tvar frozen;\n\n\tvar notify = function notify( eventName, node, options ){\n\t\tif( eventName == 'listener' )\n\t\t\treturn Frozen.createListener( node );\n\n\t\tvar updated = Frozen.update( eventName, node, options );\n\n\t\tif( !updated )\n\t\t\treturn Utils.error( 'Can\\'t udpate. The node is not in the freezer.' );\n\n\t\treturn updated;\n\t};\n\n\t// Create the frozen object\n\tfrozen = Frozen.freeze( initialValue, notify );\n\n\t// Listen to its changes immediately\n\tvar listener = frozen.getListener();\n\n\t// Updating flag to trigger the event on nextTick\n\tvar updating = false;\n\n\tlistener.on( 'immediate', function( prevNode, updated ){\n\t\tif( prevNode != frozen )\n\t\t\treturn;\n\n\t\tfrozen = updated;\n\n\t\t// Trigger on next tick\n\t\tif( !updating ){\n\t\t\tupdating = true;\n\t\t\tUtils.nextTick( function(){\n\t\t\t\tupdating = false;\n\t\t\t\tme.trigger( 'update', frozen );\n\t\t\t});\n\t\t}\n\t});\n\n\tUtils.addNE( this, {\n\t\tget: function(){\n\t\t\treturn frozen;\n\t\t},\n\t\tset: function( node ){\n\t\t\tvar newNode = notify( 'reset', frozen, node );\n\t\t\tnewNode.__.listener.trigger( 'immediate', frozen, newNode );\n\t\t}\n\t});\n\n\tUtils.addNE( this, { getData: this.get, setData: this.set } );\n\n\t// The event store\n\tthis._events = [];\n}\n\nFreezer.prototype = Utils.createNonEnumerable({}, Emitter);\n//#build\n\nmodule.exports = Freezer;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/freezer-js/src/freezer.js\n ** module id = 39\n ** module chunks = 0\n **/","'use strict';\n\n//#build\nvar global = (new Function(\"return this\")());\n\nvar Utils = {\n\textend: function( ob, props ){\n\t\tfor( var p in props ){\n\t\t\tob[p] = props[p];\n\t\t}\n\t\treturn ob;\n\t},\n\n\tcreateNonEnumerable: function( obj, proto ){\n\t\tvar ne = {};\n\t\tfor( var key in obj )\n\t\t\tne[key] = {value: obj[key] };\n\t\treturn Object.create( proto || {}, ne );\n\t},\n\n\terror: function( message ){\n\t\tvar err = new Error( message );\n\t\tif( console )\n\t\t\treturn console.error( err );\n\t\telse\n\t\t\tthrow err;\n\t},\n\n\teach: function( o, clbk ){\n\t\tvar i,l,keys;\n\t\tif( o && o.constructor == Array ){\n\t\t\tfor (i = 0, l = o.length; i < l; i++)\n\t\t\t\tclbk( o[i], i );\n\t\t}\n\t\telse {\n\t\t\tkeys = Object.keys( o );\n\t\t\tfor( i = 0, l = keys.length; i < l; i++ )\n\t\t\t\tclbk( o[ keys[i] ], keys[i] );\n\t\t}\n\t},\n\n\taddNE: function( node, attrs ){\n\t\tfor( var key in attrs ){\n\t\t\tObject.defineProperty( node, key, {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: attrs[ key ]\n\t\t\t});\n\t\t}\n\t},\n\n\t// nextTick - by stagas / public domain\n  \tnextTick: (function () {\n      var queue = [],\n\t\t\tdirty = false,\n\t\t\tfn,\n\t\t\thasPostMessage = !!global.postMessage,\n\t\t\tmessageName = 'nexttick',\n\t\t\ttrigger = (function () {\n\t\t\t\treturn hasPostMessage\n\t\t\t\t\t? function trigger () {\n\t\t\t\t\tglobal.postMessage(messageName, '*');\n\t\t\t\t}\n\t\t\t\t: function trigger () {\n\t\t\t\t\tsetTimeout(function () { processQueue() }, 0);\n\t\t\t\t};\n\t\t\t}()),\n\t\t\tprocessQueue = (function () {\n\t\t\t\treturn hasPostMessage\n\t\t\t\t\t? function processQueue (event) {\n\t\t\t\t\t\tif (event.source === global && event.data === messageName) {\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tflushQueue();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t: flushQueue;\n      \t})()\n      ;\n\n      function flushQueue () {\n          while (fn = queue.shift()) {\n              fn();\n          }\n          dirty = false;\n      }\n\n      function nextTick (fn) {\n          queue.push(fn);\n          if (dirty) return;\n          dirty = true;\n          trigger();\n      }\n\n      if (hasPostMessage) global.addEventListener('message', processQueue, true);\n\n      nextTick.removeListener = function () {\n          global.removeEventListener('message', processQueue, true);\n      }\n\n      return nextTick;\n  })()\n};\n//#build\n\n\nmodule.exports = Utils;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/freezer-js/src/utils.js\n ** module id = 40\n ** module chunks = 0\n **/","'use strict';\n\nvar Utils = require( './utils' );\n\n//#build\n\n// The prototype methods are stored in a different object\n// and applied as non enumerable properties later\nvar emitterProto = {\n\ton: function( eventName, listener, once ){\n\t\tvar listeners = this._events[ eventName ] || [];\n\n\t\tlisteners.push({ callback: listener, once: once});\n\t\tthis._events[ eventName ] =  listeners;\n\n\t\treturn this;\n\t},\n\n\tonce: function( eventName, listener ){\n\t\tthis.on( eventName, listener, true );\n\t},\n\n\toff: function( eventName, listener ){\n\t\tif( typeof eventName == 'undefined' ){\n\t\t\tthis._events = {};\n\t\t}\n\t\telse if( typeof listener == 'undefined' ) {\n\t\t\tthis._events[ eventName ] = [];\n\t\t}\n\t\telse {\n\t\t\tvar listeners = this._events[ eventName ] || [],\n\t\t\t\ti\n\t\t\t;\n\n\t\t\tfor (i = listeners.length - 1; i >= 0; i--) {\n\t\t\t\tif( listeners[i] === listener )\n\t\t\t\t\tlisteners.splice( i, 1 );\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttrigger: function( eventName ){\n\t\tvar args = [].slice.call( arguments, 1 ),\n\t\t\tlisteners = this._events[ eventName ] || [],\n\t\t\tonceListeners = [],\n\t\t\ti, listener\n\t\t;\n\n\t\t// Call listeners\n\t\tfor (i = 0; i < listeners.length; i++) {\n\t\t\tlistener = listeners[i];\n\n\t\t\tif( listener.callback )\n\t\t\t\tlistener.callback.apply( null, args );\n\t\t\telse {\n\t\t\t\t// If there is not a callback, remove!\n\t\t\t\tlistener.once = true;\n\t\t\t}\n\n\t\t\tif( listener.once )\n\t\t\t\tonceListeners.push( i );\n\t\t}\n\n\t\t// Remove listeners marked as once\n\t\tfor( i = onceListeners.length - 1; i >= 0; i-- ){\n\t\t\tlisteners.splice( onceListeners[i], 1 );\n\t\t}\n\n\t\treturn this;\n\t}\n};\n\n// Methods are not enumerable so, when the stores are\n// extended with the emitter, they can be iterated as\n// hashmaps\nvar Emitter = Utils.createNonEnumerable( emitterProto );\n//#build\n\nmodule.exports = Emitter;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/freezer-js/src/emitter.js\n ** module id = 41\n ** module chunks = 0\n **/","'use strict';\n\nvar Utils = require( './utils.js' );\n\n//#build\n\n/**\n * Creates non-enumerable property descriptors, to be used by Object.create.\n * @param  {Object} attrs Properties to create descriptors\n * @return {Object}       A hash with the descriptors.\n */\nvar createNE = function( attrs ){\n\tvar ne = {};\n\n\tfor( var key in attrs ){\n\t\tne[ key ] = {\n\t\t\twritable: true,\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: attrs[ key]\n\t\t}\n\t}\n\n\treturn ne;\n}\n\nvar commonMethods = {\n\tset: function( attr, value ){\n\t\tvar attrs = attr;\n\n\t\tif( typeof value != 'undefined' ){\n\t\t\tattrs = {};\n\t\t\tattrs[ attr ] = value;\n\t\t}\n\n\t\treturn this.__.notify( 'merge', this, attrs );\n\t},\n\n\tgetListener: function(){\n\t\treturn this.__.notify( 'listener', this );\n\t},\n\n\ttoJS: function(){\n\t\tvar js;\n\t\tif( this.constructor == Array ){\n\t\t\tjs = new Array( this.length );\n\t\t}\n\t\telse {\n\t\t\tjs = {};\n\t\t}\n\n\t\tUtils.each( this, function( child, i ){\n\t\t\tif( child && child.__ )\n\t\t\t\tjs[ i ] = child.toJS();\n\t\t\telse\n\t\t\t\tjs[ i ] = child;\n\t\t});\n\n\t\treturn js;\n\t}\n};\n\nvar arrayMethods = Utils.extend({\n\tpush: function( el ){\n\t\treturn this.append( [el] );\n\t},\n\n\tappend: function( els ){\n\t\tif( els && els.length )\n\t\t\treturn this.__.notify( 'splice', this, [this.length, 0].concat( els ) );\n\t\treturn this;\n\t},\n\n\tpop: function(){\n\t\tif( !this.length )\n\t\t\treturn this;\n\n\t\treturn this.__.notify( 'splice', this, [this.length -1, 1] );\n\t},\n\n\tunshift: function( el ){\n\t\treturn this.prepend( [el] );\n\t},\n\n\tprepend: function( els ){\n\t\tif( els && els.length )\n\t\t\treturn this.__.notify( 'splice', this, [0, 0].concat( els ) );\n\t\treturn this;\n\t},\n\n\tshift: function(){\n\t\tif( !this.length )\n\t\t\treturn this;\n\n\t\treturn this.__.notify( 'splice', this, [0, 1] );\n\t},\n\n\tsplice: function( index, toRemove, toAdd ){\n\t\treturn this.__.notify( 'splice', this, arguments );\n\t}\n}, commonMethods );\n\nvar FrozenArray = Object.create( Array.prototype, createNE( arrayMethods ) );\n\nvar Mixins = {\n\nHash: Object.create( Object.prototype, createNE( Utils.extend({\n\tremove: function( keys ){\n\t\tvar filtered = [],\n\t\t\tk = keys\n\t\t;\n\n\t\tif( keys.constructor != Array )\n\t\t\tk = [ keys ];\n\n\t\tfor( var i = 0, l = k.length; i<l; i++ ){\n\t\t\tif( this.hasOwnProperty( k[i] ) )\n\t\t\t\tfiltered.push( k[i] );\n\t\t}\n\n\t\tif( filtered.length )\n\t\t\treturn this.__.notify( 'remove', this, filtered );\n\t\treturn this;\n\t},\n\n\treset: function( attrs ) {\n\t\treturn this.__.notify( 'replaceself', this, attrs );\n\t}\n\n}, commonMethods))),\n\nList: FrozenArray,\narrayMethods: arrayMethods\n};\n//#build\n\nmodule.exports = Mixins;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/freezer-js/src/mixins.js\n ** module id = 42\n ** module chunks = 0\n **/","'use strict';\n\nvar Utils = require( './utils' ),\n\tMixins = require( './mixins'),\n\tEmitter = require('./emitter')\n;\n\n//#build\nvar Frozen = {\n\tfreeze: function( node, notify ){\n\t\tif( node && node.__ ){\n\t\t\treturn node;\n\t\t}\n\n\t\tvar me = this,\n\t\t\tfrozen, mixin, cons\n\t\t;\n\n\t\tif( node.constructor == Array ){\n\t\t\tfrozen = this.createArray( node.length );\n\t\t}\n\t\telse {\n\t\t\tfrozen = Object.create( Mixins.Hash );\n\t\t}\n\n\t\tUtils.addNE( frozen, { __: {\n\t\t\tlistener: false,\n\t\t\tparents: [],\n\t\t\tnotify: notify,\n\t\t\tdirty: false\n\t\t}});\n\n\t\t// Freeze children\n\t\tUtils.each( node, function( child, key ){\n\t\t\tcons = child && child.constructor;\n\t\t\tif( cons == Array || cons == Object ){\n\t\t\t\tchild = me.freeze( child, notify );\n\t\t\t}\n\n\t\t\tif( child && child.__ )\n\t\t\t\tme.addParent( child, frozen );\n\n\t\t\tfrozen[ key ] = child;\n\t\t});\n\n\t\tObject.freeze( frozen );\n\n\t\treturn frozen;\n\t},\n\n\tupdate: function( type, node, options ){\n\t\tif( !this[ type ])\n\t\t\treturn Utils.error( 'Unknown update type: ' + type );\n\n\t\treturn this[ type ]( node, options );\n\t},\n\n\treset: function( node, value ){\n\t\tvar me = this,\n\t\t\tfrozen\n\t\t;\n\n\t\tif( value && value.__ ){\n\t\t\tfrozen = value;\n\t\t\tfrozen.__.listener = value.__.listener;\n\t\t\tfrozen.__.parents = [];\n\n\t\t\t// Set back the parent on the children\n\t\t\t// that have been updated\n\t\t\tthis.fixChildren( frozen, node );\n\t\t\tUtils.each( frozen, function( child ){\n\t\t\t\tif( child && child.__ ){\n\t\t\t\t\tme.removeParent( node );\n\t\t\t\t\tme.addParent( child, frozen );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tfrozen = this.freeze( node, node.__.notify );\n\t\t}\n\n\t\treturn frozen;\n\t},\n\n\tmerge: function( node, attrs ){\n\t\tvar me = this,\n\t\t\tfrozen = this.copyMeta( node ),\n\t\t\tnotify = node.__.notify,\n\t\t\tval, cons, key, isFrozen\n\t\t;\n\n\t\tUtils.each( node, function( child, key ){\n\t\t\tisFrozen = child && child.__;\n\n\t\t\tif( isFrozen ){\n\t\t\t\tme.removeParent( child, node );\n\t\t\t}\n\n\t\t\tval = attrs[ key ];\n\t\t\tif( !val ){\n\t\t\t\tif( isFrozen )\n\t\t\t\t\tme.addParent( child, frozen );\n\t\t\t\treturn frozen[ key ] = child;\n\t\t\t}\n\n\t\t\tcons = val && val.constructor;\n\n\t\t\tif( cons == Array || cons == Object )\n\t\t\t\tval = me.freeze( val, notify );\n\n\t\t\tif( val && val.__ )\n\t\t\t\tme.addParent( val, frozen );\n\n\t\t\tdelete attrs[ key ];\n\n\t\t\tfrozen[ key ] = val;\n\t\t});\n\n\t\tfor( key in attrs ) {\n\t\t\tval = attrs[ key ];\n\t\t\tcons = val && val.constructor;\n\n\t\t\tif( cons == Array || cons == Object )\n\t\t\t\tval = me.freeze( val, notify );\n\n\t\t\tif( val && val.__ )\n\t\t\t\tme.addParent( val, frozen );\n\n\t\t\tfrozen[ key ] = val;\n\t\t}\n\n\t\tObject.freeze( frozen );\n\n\t\tthis.refreshParents( node, frozen );\n\n\t\treturn frozen;\n\t},\n\treplaceself: function( node, attrs ) {\n\t\tvar me = this,\n\t\t\tfrozen = this.copyMeta( node ),\n\t\t\tnotify = node.__.notify,\n\t\t\tval, cons, key\n\t\t;\n\t\tfor( key in attrs ) {\n\t\t\tval = attrs[ key ];\n\t\t\tcons = val && val.constructor;\n\n\t\t\tif( cons == Array || cons == Object )\n\t\t\t\tval = me.freeze( val, notify );\n\n\t\t\tif( val && val.__ )\n\t\t\t\tme.addParent( val, frozen );\n\n\t\t\tfrozen[ key ] = val;\n\t\t}\n\n\t\tObject.freeze( frozen );\n\n\t\tthis.refreshParents( node, frozen );\n\n\t\treturn frozen;\n\t},\n\tremove: function( node, attrs ){\n\t\tvar me = this,\n\t\t\tfrozen = this.copyMeta( node ),\n\t\t\tisFrozen\n\t\t;\n\n\t\tUtils.each( node, function( child, key ){\n\t\t\tisFrozen = child && child.__;\n\n\t\t\tif( isFrozen ){\n\t\t\t\tme.removeParent( child, node );\n\t\t\t}\n\n\t\t\tif( attrs.indexOf( key ) != -1 ){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif( isFrozen )\n\t\t\t\tme.addParent( child, frozen );\n\n\t\t\tfrozen[ key ] = child;\n\t\t});\n\n\t\tObject.freeze( frozen );\n\t\tthis.refreshParents( node, frozen );\n\n\t\treturn frozen;\n\t},\n\n\tsplice: function( node, args ){\n\t\tvar me = this,\n\t\t\tfrozen = this.copyMeta( node ),\n\t\t\tindex = args[0],\n\t\t\tdeleteIndex = index + args[1],\n\t\t\tnotify = node.__.notify,\n\t\t\tcon, child\n\t\t;\n\n\t\t// Clone the array\n\t\tUtils.each( node, function( child, i ){\n\n\t\t\tif( child && child.__ ){\n\t\t\t\tme.removeParent( child, node );\n\n\t\t\t\t// Skip the nodes to delete\n\t\t\t\tif( i < index || i>= deleteIndex )\n\t\t\t\t\tme.addParent( child, frozen );\n\t\t\t}\n\n\t\t\tfrozen[i] = child;\n\t\t});\n\n\t\t// Prepare the new nodes\n\t\tif( args.length > 1 ){\n\t\t\tfor (var i = args.length - 1; i >= 2; i--) {\n\t\t\t\tchild = args[i];\n\t\t\t\tcon = child && child.constructor;\n\n\t\t\t\tif( con == Array || con == Object )\n\t\t\t\t\tchild = this.freeze( child, notify );\n\n\t\t\t\tif( child && child.__ )\n\t\t\t\t\tthis.addParent( child, frozen );\n\n\t\t\t\targs[i] = child;\n\t\t\t}\n\t\t}\n\n\t\t// splice\n\t\tArray.prototype.splice.apply( frozen, args );\n\n\t\tObject.freeze( frozen );\n\t\tthis.refreshParents( node, frozen );\n\n\t\treturn frozen;\n\t},\n\n\trefresh: function( node, oldChild, newChild, returnUpdated ){\n\t\tvar me = this,\n\t\t\tfrozen = this.copyMeta( node ),\n\t\t\t__\n\t\t;\n\n\t\tUtils.each( node, function( child, key ){\n\t\t\tif( child == oldChild ){\n\t\t\t\tchild = newChild;\n\t\t\t}\n\n\t\t\tif( child && (__ = child.__) ){\n\t\t\t\tif( __.dirty ){\n\t\t\t\t\tchild = me.refresh( child, __.dirty[0], __.dirty[1], true );\n\t\t\t\t}\n\n\t\t\t\tme.removeParent( child, node );\n\t\t\t\tme.addParent( child, frozen );\n\t\t\t}\n\n\t\t\tfrozen[ key ] = child;\n\t\t});\n\n\t\tObject.freeze( frozen );\n\n\t\t// If the node was dirty, clean it\n\t\tnode.__.dirty = false;\n\n\t\tif( returnUpdated )\n\t\t\treturn frozen;\n\n\t\tthis.refreshParents( node, frozen );\n\t},\n\n\tfixChildren: function( node, oldNode ){\n\t\tvar me = this;\n\t\tUtils.each( node, function( child ){\n\t\t\tif( !child || !child.__ )\n\t\t\t\treturn;\n\n\t\t\t// If the child is linked to the node,\n\t\t\t// maybe its children are not linked\n\t\t\tif( child.__.parents.indexOf( node ) != -1 )\n\t\t\t\treturn me.fixChildren( child );\n\n\t\t\t// If the child wasn't linked it is sure\n\t\t\t// that it wasn't modified. Just link it\n\t\t\t// to the new parent\n\t\t\tif( child.__.parents.length == 1 )\n\t\t\t\treturn child.__.parents = [ node ];\n\n\t\t\tif( oldNode )\n\t\t\t\tme.removeParent( child, oldNode );\n\n\t\t\tme.addParent( node );\n\t\t});\n\t},\n\n\tclean: function( node ){\n\t\treturn this.refresh( node, __.dirty[0], __.dirty[1], true );\n\t},\n\n\tcopyMeta: function( node ){\n\t\tvar me = this,\n\t\t\tfrozen\n\t\t;\n\n\t\tif( node.constructor == Array ){\n\t\t\tfrozen = this.createArray( node.length );\n\t\t}\n\t\telse {\n\t\t\tfrozen = Object.create( Mixins.Hash );\n\t\t}\n\n\t\tvar __ = node.__;\n\t\tUtils.addNE( frozen, {__: {\n\t\t\tnotify: __.notify,\n\t\t\tlistener: __.listener,\n\t\t\tparents: __.parents.slice( 0 ),\n\t\t\tdirty: false\n\t\t}});\n\n\t\treturn frozen;\n\t},\n\n\trefreshParents: function( oldChild, newChild ){\n\t\tvar __ = oldChild.__,\n\t\t\ti\n\t\t;\n\n\t\tif( __.listener )\n\t\t\tthis.trigger( newChild, 'update', newChild );\n\n\t\tif( !__.parents.length ){\n\t\t\tif( __.listener ){\n\t\t\t\t__.listener.trigger( 'immediate', oldChild, newChild );\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tfor (i = __.parents.length - 1; i >= 0; i--) {\n\t\t\t\tif( i == 0 )\n\t\t\t\t\tthis.refresh( __.parents[i], oldChild, newChild, false );\n\t\t\t\telse\n\t\t\t\t\tthis.markDirty( __.parents[i], [oldChild, newChild] );\n\t\t\t}\n\t\t}\n\t},\n\n\tmarkDirty: function( node, dirt ){\n\t\tvar __ = node.__,\n\t\t\ti\n\t\t;\n\t\t__.dirty = dirt;\n\n\t\tfor ( i = __.parents.length - 1; i >= 0; i-- ) {\n\t\t\tthis.markDirty( __.parents[i], dirt );\n\t\t}\n\t},\n\n\tremoveParent: function( node, parent ){\n\t\tvar parents = node.__.parents,\n\t\t\tindex = parents.indexOf( parent )\n\t\t;\n\n\t\tif( index != -1 ){\n\t\t\tparents.splice( index, 1 );\n\t\t}\n\t},\n\n\taddParent: function( node, parent ){\n\t\tvar parents = node.__.parents,\n\t\t\tindex = parents.indexOf( parent )\n\t\t;\n\n\t\tif( index == -1 ){\n\t\t\tparents[ parents.length ] = parent;\n\t\t}\n\t},\n\n\ttrigger: function( node, eventName, param ){\n\t\tvar listener = node.__.listener,\n\t\t\tticking = listener.ticking\n\t\t;\n\n\t\tlistener.ticking = param;\n\t\tif( !ticking ){\n\t\t\tUtils.nextTick( function(){\n\t\t\t\tvar updated = listener.ticking;\n\t\t\t\tlistener.ticking = false;\n\t\t\t\tlistener.trigger( eventName, updated );\n\t\t\t});\n\t\t}\n\t},\n\n\tcreateListener: function( frozen ){\n\t\tvar l = frozen.__.listener;\n\n\t\tif( !l ) {\n\t\t\tl = Object.create(Emitter, {\n\t\t\t\t_events: {\n\t\t\t\t\tvalue: {},\n\t\t\t\t\twritable: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfrozen.__.listener = l;\n\t\t}\n\n\t\treturn l;\n\t},\n\n\tcreateArray: (function(){\n\t\t// Set createArray method\n\t\tif( [].__proto__ )\n\t\t\treturn function( length ){\n\t\t\t\tvar arr = new Array( length );\n\t\t\t\tarr.__proto__ = Mixins.List;\n\t\t\t\treturn arr;\n\t\t\t}\n\t\treturn function( length ){\n\t\t\tvar arr = new Array( length ),\n\t\t\t\tmethods = Mixins.arrayMethods\n\t\t\t;\n\t\t\tfor( var m in methods ){\n\t\t\t\tarr[ m ] = methods[ m ];\n\t\t\t}\n\t\t\treturn arr;\n\t\t}\n\t})()\n};\n//#build\n\nmodule.exports = Frozen;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/freezer-js/src/frozen.js\n ** module id = 43\n ** module chunks = 0\n **/"],"sourceRoot":""}